require.config({"config": {
        "jsbuild":{"Magento_Ui/js/form/components/tab_group.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'Magento_Ui/js/lib/collapsible'\r\n], function (_, Collapsible) {\r\n    'use strict';\r\n\r\n    return Collapsible.extend({\r\n        defaults: {\r\n            listens: {\r\n                '${ $.provider }:data.validate': 'onValidate'\r\n            },\r\n            collapsible: false,\r\n            opened: true\r\n        },\r\n\r\n        /**\r\n         * Invokes initElement method of parent class, calls 'initActivation' method\r\n         * passing element to it.\r\n         * @param {Object} elem\r\n         * @returns {Object} - reference to instance\r\n         */\r\n        initElement: function (elem) {\r\n            this._super()\r\n                .initActivation(elem);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Activates element if one is first or if one has 'active' propert\r\n         * set to true.\r\n         *\r\n         * @param  {Object} elem\r\n         * @returns {Object} - reference to instance\r\n         */\r\n        initActivation: function (elem) {\r\n            var elems   = this.elems(),\r\n                isFirst = !elems.indexOf(elem);\r\n\r\n            if (isFirst || elem.active()) {\r\n                elem.activate();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Delegates 'validate' method on element, then reads 'invalid' property\r\n         * of params storage, and if defined, activates element, sets\r\n         * 'allValid' property of instance to false and sets invalid's\r\n         * 'focused' property to true.\r\n         *\r\n         * @param {Object} elem\r\n         */\r\n        validate: function (elem) {\r\n            var result  = elem.delegate('validate'),\r\n                invalid;\r\n\r\n            invalid = _.find(result, function (item) {\r\n                return typeof item !== 'undefined' && !item.valid;\r\n            });\r\n\r\n            if (invalid) {\r\n                elem.activate();\r\n                invalid.target.focused(true);\r\n            }\r\n\r\n            return invalid;\r\n        },\r\n\r\n        /**\r\n         * Sets 'allValid' property of instance to true, then calls 'validate' method\r\n         * of instance for each element.\r\n         */\r\n        onValidate: function () {\r\n            this.elems.sortBy(function (elem) {\r\n                return !elem.active();\r\n            }).some(this.validate, this);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/collection/item.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    '../tab'\r\n], function (_, utils, Tab) {\r\n    'use strict';\r\n\r\n    var previewConfig = {\r\n        separator: ' ',\r\n        prefix: ''\r\n    };\r\n\r\n    /**\r\n     * Parses incoming data and returns result merged with default preview config\r\n     *\r\n     * @param  {Object|String} data\r\n     * @return {Object}\r\n     */\r\n    function parsePreview(data) {\r\n        if (typeof data == 'string') {\r\n            data = {\r\n                items: data\r\n            };\r\n        }\r\n\r\n        data.items = utils.stringToArray(data.items);\r\n\r\n        return _.defaults(data, previewConfig);\r\n    }\r\n\r\n    return Tab.extend({\r\n        defaults: {\r\n            label: '',\r\n            uniqueNs: 'activeCollectionItem',\r\n            previewTpl: 'ui/form/components/collection/preview'\r\n        },\r\n\r\n        /**\r\n         * Extends instance with default config, calls initializes of parent class\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'buildPreview', 'hasPreview');\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Calls initProperties of parent class, initializes properties\r\n         * of instance.\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.displayed = [];\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls initObservable of parent class, initializes observable\r\n         * properties of instance.\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe({\r\n                    noPreview: true,\r\n                    indexed: {}\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Is being called when child element has been initialized,\r\n         *     calls initElement of parent class, binds to element's update event,\r\n         *     calls insertToArea and insertToIndexed methods passing element to it\r\n         *\r\n         * @param  {Object} elem\r\n         */\r\n        initElement: function (elem) {\r\n            this._super()\r\n                .insertToIndexed(elem);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds element to observable indexed object of instance\r\n         *\r\n         * @param  {Object} elem\r\n         * @return {Object} - reference to instance\r\n         */\r\n        insertToIndexed: function (elem) {\r\n            var indexed = this.indexed();\r\n\r\n            indexed[elem.index] = elem;\r\n\r\n            this.indexed(indexed);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys current instance along with all of its' children.\r\n         * Overrides base method to clear data when this method is called.\r\n         */\r\n        destroy: function () {\r\n            this._super();\r\n            this._clearData();\r\n        },\r\n\r\n        /**\r\n         * Clears all data associated with component.\r\n         * @private\r\n         *\r\n         * @returns {Item} Chainable.\r\n         */\r\n        _clearData: function () {\r\n            this.source.remove(this.dataScope);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Formats incoming previews array via parsePreview function.\r\n         *\r\n         * @param  {Array} previews\r\n         * @return {Array} - formatted previews\r\n         */\r\n        formatPreviews: function (previews) {\r\n            return previews.map(parsePreview);\r\n        },\r\n\r\n        /**\r\n         * Creates string view of previews\r\n         *\r\n         * @param  {Object} data\r\n         * @return {Strict} - formatted preview string\r\n         */\r\n        buildPreview: function (data) {\r\n            var preview = this.getPreview(data.items),\r\n                prefix = data.prefix;\r\n\r\n            return prefix + preview.join(data.separator);\r\n        },\r\n\r\n        /**\r\n         * Defines if instance has preview for incoming data\r\n         *\r\n         * @param  {Object}  data\r\n         * @return {Boolean}\r\n         */\r\n        hasPreview: function (data) {\r\n            return !!this.getPreview(data.items).length;\r\n        },\r\n\r\n        /**\r\n         * Creates an array of previews for elements specified in incoming\r\n         * items array, calls updatePreview afterwards.\r\n         *\r\n         * @param  {Array} items - An array of element's indexes.\r\n         * @returns {Array} An array of previews.\r\n         */\r\n        getPreview: function (items) {\r\n            var elems = this.indexed(),\r\n                displayed = this.displayed,\r\n                preview;\r\n\r\n            items = items.map(function (index) {\r\n                var elem = elems[index];\r\n\r\n                preview = elem && elem.visible() ? elem.getPreview() : '';\r\n\r\n                preview = Array.isArray(preview) ?\r\n                    _.compact(preview).join(', ') :\r\n                    preview;\r\n\r\n                utils.toggle(displayed, index, !!preview);\r\n\r\n                return preview;\r\n            });\r\n\r\n            this.noPreview(!displayed.length);\r\n\r\n            return _.compact(items);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/abstract.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiElement',\r\n    'Magento_Ui/js/lib/validation/validator'\r\n], function (_, utils, layout, Element, validator) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            visible: true,\r\n            preview: '',\r\n            focused: false,\r\n            required: false,\r\n            disabled: false,\r\n            valueChangedByUser: false,\r\n            elementTmpl: 'ui/form/element/input',\r\n            tooltipTpl: 'ui/form/element/helper/tooltip',\r\n            fallbackResetTpl: 'ui/form/element/helper/fallback-reset',\r\n            'input_type': 'input',\r\n            placeholder: false,\r\n            description: '',\r\n            labelVisible: true,\r\n            label: '',\r\n            error: '',\r\n            warn: '',\r\n            notice: '',\r\n            customScope: '',\r\n            default: '',\r\n            isDifferedFromDefault: false,\r\n            showFallbackReset: false,\r\n            additionalClasses: {},\r\n            isUseDefault: '',\r\n            serviceDisabled: false,\r\n            valueUpdate: false, // ko binding valueUpdate\r\n\r\n            switcherConfig: {\r\n                component: 'Magento_Ui/js/form/switcher',\r\n                name: '${ $.name }_switcher',\r\n                target: '${ $.name }',\r\n                property: 'value'\r\n            },\r\n            listens: {\r\n                visible: 'setPreview',\r\n                value: 'setDifferedFromDefault',\r\n                '${ $.provider }:data.reset': 'reset',\r\n                '${ $.provider }:data.overload': 'overload',\r\n                '${ $.provider }:${ $.customScope ? $.customScope + \".\" : \"\"}data.validate': 'validate',\r\n                'isUseDefault': 'toggleUseDefault'\r\n            },\r\n            ignoreTmpls: {\r\n                value: true\r\n            },\r\n\r\n            links: {\r\n                value: '${ $.provider }:${ $.dataScope }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Invokes initialize method of parent class,\r\n         * contains initialization logic\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'reset');\r\n\r\n            this._super()\r\n                .setInitialValue()\r\n                ._setClasses()\r\n                .initSwitcher();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if component has error.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        checkInvalid: function () {\r\n            return this.error() && this.error().length ? this : null;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            var rules = this.validation = this.validation || {};\r\n\r\n            this._super();\r\n\r\n            this.observe('error disabled focused preview visible value warn notice isDifferedFromDefault')\r\n                .observe('isUseDefault serviceDisabled')\r\n                .observe({\r\n                    'required': !!rules['required-entry']\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes regular properties of instance.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            var uid = utils.uniqueid(),\r\n                name,\r\n                valueUpdate,\r\n                scope;\r\n\r\n            this._super();\r\n\r\n            scope = this.dataScope.split('.');\r\n            name = scope.length > 1 ? scope.slice(1) : scope;\r\n\r\n            valueUpdate = this.showFallbackReset ? 'afterkeydown' : this.valueUpdate;\r\n\r\n            _.extend(this, {\r\n                uid: uid,\r\n                noticeId: 'notice-' + uid,\r\n                errorId: 'error-' + uid,\r\n                tooltipId: 'tooltip-' + uid,\r\n                inputName: utils.serializeName(name.join('.')),\r\n                valueUpdate: valueUpdate\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes switcher element instance.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initSwitcher: function () {\r\n            if (this.switcherConfig.enabled) {\r\n                layout([this.switcherConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets initial value of the element and subscribes to it's changes.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        setInitialValue: function () {\r\n            this.initialValue = this.getInitialValue();\r\n\r\n            if (this.value.peek() !== this.initialValue) {\r\n                this.value(this.initialValue);\r\n            }\r\n\r\n            this.on('value', this.onUpdate.bind(this));\r\n            this.isUseDefault(this.disabled());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends 'additionalClasses' object.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        _setClasses: function () {\r\n            var additional = this.additionalClasses;\r\n\r\n            if (_.isString(additional)) {\r\n                this.additionalClasses = {};\r\n\r\n                if (additional.trim().length) {\r\n                    additional = additional.trim().split(' ');\r\n\r\n                    additional.forEach(function (name) {\r\n                        if (name.length) {\r\n                            this.additionalClasses[name] = true;\r\n                        }\r\n                    }, this);\r\n                }\r\n            }\r\n\r\n            _.extend(this.additionalClasses, {\r\n                _required: this.required,\r\n                _error: this.error,\r\n                _warn: this.warn,\r\n                _disabled: this.disabled\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Gets initial value of element\r\n         *\r\n         * @returns {*} Elements' value.\r\n         */\r\n        getInitialValue: function () {\r\n            var values = [this.value(), this.default],\r\n                value;\r\n\r\n            values.some(function (v) {\r\n                if (v !== null && v !== undefined) {\r\n                    value = v;\r\n\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            });\r\n\r\n            return this.normalizeData(value);\r\n        },\r\n\r\n        /**\r\n         * Sets 'value' as 'hidden' property's value, triggers 'toggle' event,\r\n         * sets instance's hidden identifier in params storage based on\r\n         * 'value'.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        setVisible: function (isVisible) {\r\n            this.visible(isVisible);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Show element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        show: function () {\r\n            this.visible(true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hide element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        hide: function () {\r\n            this.visible(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Disable element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        disable: function () {\r\n            this.disabled(true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Enable element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        enable: function () {\r\n            this.disabled(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {(String|Object)} rule\r\n         * @param {(Object|Boolean)} [options]\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        setValidation: function (rule, options) {\r\n            var rules = utils.copy(this.validation),\r\n                changed;\r\n\r\n            if (_.isObject(rule)) {\r\n                _.extend(this.validation, rule);\r\n            } else {\r\n                this.validation[rule] = options;\r\n            }\r\n\r\n            changed = !utils.compare(rules, this.validation).equal;\r\n\r\n            if (changed) {\r\n                this.required(!!rules['required-entry']);\r\n                this.validate();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns unwrapped preview observable.\r\n         *\r\n         * @returns {String} Value of the preview observable.\r\n         */\r\n        getPreview: function () {\r\n            return this.value();\r\n        },\r\n\r\n        /**\r\n         * Checks if element has addons\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasAddons: function () {\r\n            return this.addbefore || this.addafter;\r\n        },\r\n\r\n        /**\r\n         * Checks if element has service setting\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasService: function () {\r\n            return this.service && this.service.template;\r\n        },\r\n\r\n        /**\r\n         * Defines if value has changed.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasChanged: function () {\r\n            var notEqual = this.value() !== this.initialValue;\r\n\r\n            return !this.visible() ? false : notEqual;\r\n        },\r\n\r\n        /**\r\n         * Checks if 'value' is not empty.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return !utils.isEmpty(this.value());\r\n        },\r\n\r\n        /**\r\n         * Sets value observable to initialValue property.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        reset: function () {\r\n            this.value(this.initialValue);\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets current state as initial.\r\n         */\r\n        overload: function () {\r\n            this.setInitialValue();\r\n            this.bubble('update', this.hasChanged());\r\n        },\r\n\r\n        /**\r\n         * Clears 'value' property.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.value('');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Converts values like 'null' or 'undefined' to an empty string.\r\n         *\r\n         * @param {*} value - Value to be processed.\r\n         * @returns {*}\r\n         */\r\n        normalizeData: function (value) {\r\n            return utils.isEmpty(value) ? '' : value;\r\n        },\r\n\r\n        /**\r\n         * Validates itself by it's validation rules using validator object.\r\n         * If validation of a rule did not pass, writes it's message to\r\n         * 'error' observable property.\r\n         *\r\n         * @returns {Object} Validate information.\r\n         */\r\n        validate: function () {\r\n            var value = this.value(),\r\n                result = validator(this.validation, value, this.validationParams),\r\n                message = !this.disabled() && this.visible() ? result.message : '',\r\n                isValid = this.disabled() || !this.visible() || result.passed;\r\n\r\n            this.error(message);\r\n            this.error.valueHasMutated();\r\n            this.bubble('error', message);\r\n\r\n            //TODO: Implement proper result propagation for form\r\n            if (this.source && !isValid) {\r\n                this.source.set('params.invalid', true);\r\n            }\r\n\r\n            return {\r\n                valid: isValid,\r\n                target: this\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Callback that fires when 'value' property is updated.\r\n         */\r\n        onUpdate: function () {\r\n            this.bubble('update', this.hasChanged());\r\n\r\n            this.validate();\r\n        },\r\n\r\n        /**\r\n         * Restore value to default\r\n         */\r\n        restoreToDefault: function () {\r\n            this.value(this.default);\r\n            this.focused(true);\r\n        },\r\n\r\n        /**\r\n         * Update whether value differs from default value\r\n         */\r\n        setDifferedFromDefault: function () {\r\n            var value = typeof this.value() != 'undefined' && this.value() !== null ? this.value() : '',\r\n                defaultValue = typeof this.default != 'undefined' && this.default !== null ? this.default : '';\r\n\r\n            this.isDifferedFromDefault(value !== defaultValue);\r\n        },\r\n\r\n        /**\r\n         * @param {Boolean} state\r\n         */\r\n        toggleUseDefault: function (state) {\r\n            this.disabled(state);\r\n\r\n            if (this.source && this.hasService()) {\r\n                this.source.set('data.use_default.' + this.index, Number(state));\r\n            }\r\n        },\r\n\r\n        /**\r\n         *  Callback when value is changed by user\r\n         */\r\n        userChanges: function () {\r\n            this.valueChangedByUser = true;\r\n        },\r\n\r\n        /**\r\n         * Returns correct id for 'aria-describedby' accessibility attribute\r\n         *\r\n         * @returns {Boolean|String}\r\n         */\r\n        getDescriptionId: function () {\r\n            var id = false;\r\n\r\n            if (this.error()) {\r\n                id = this.errorId;\r\n            } else if (this.notice()) {\r\n                id = this.noticeId;\r\n            }\r\n\r\n            return id;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/boolean.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './abstract'\r\n], function (Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            checked: false,\r\n            links: {\r\n                checked: 'value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @returns {*|void|Element}\r\n         */\r\n        initObservable: function () {\r\n            return this._super()\r\n                    .observe('checked');\r\n        },\r\n\r\n        /**\r\n         * Converts provided value to boolean.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        normalizeData: function () {\r\n            return !!+this._super();\r\n        },\r\n\r\n        /**\r\n         * Calls 'onUpdate' method of parent, if value is defined and instance's\r\n         *     'unique' property set to true, calls 'setUnique' method\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        onUpdate: function () {\r\n            if (this.hasUnique) {\r\n                this.setUnique();\r\n            }\r\n\r\n            return this._super();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/checkbox-set.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    './abstract'\r\n], function (_, utils, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            template: 'ui/form/element/checkbox-set',\r\n            multiple: false,\r\n            multipleScopeValue: null\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.value = this.normalizeData(this.value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initLinks: function () {\r\n            var scope = this.source.get(this.dataScope);\r\n\r\n            this.multipleScopeValue = this.multiple && _.isArray(scope) ? utils.copy(scope) : undefined;\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        reset: function () {\r\n            this.value(utils.copy(this.initialValue));\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        clear: function () {\r\n            var value = this.multiple ? [] : '';\r\n\r\n            this.value(value);\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        normalizeData: function (value) {\r\n            if (!this.multiple) {\r\n                return this._super();\r\n            }\r\n\r\n            return _.isArray(value) ? utils.copy(value) : [];\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        setInitialValue: function () {\r\n            this._super();\r\n\r\n            this.initialValue = utils.copy(this.initialValue);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        getInitialValue: function () {\r\n            var values = [this.multipleScopeValue, this.default, this.value.peek(), []],\r\n                value;\r\n\r\n            if (!this.multiple) {\r\n                return this._super();\r\n            }\r\n\r\n            values.some(function (v) {\r\n                return _.isArray(v) && (value = utils.copy(v));\r\n            });\r\n\r\n            return value;\r\n        },\r\n\r\n        /**\r\n         * Returns labels which matches current value.\r\n         *\r\n         * @returns {String|Array}\r\n         */\r\n        getPreview: function () {\r\n            var option;\r\n\r\n            if (!this.multiple) {\r\n                option = this.getOption(this.value());\r\n\r\n                return option ? option.label : '';\r\n            }\r\n\r\n            return this.value.map(function (value) {\r\n                return this.getOption(value).label;\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Returns option object associated with provided value.\r\n         *\r\n         * @param {String} value\r\n         * @returns {Object}\r\n         */\r\n        getOption: function (value) {\r\n            return _.findWhere(this.options, {\r\n                value: value\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        hasChanged: function () {\r\n            var value = this.value(),\r\n                initial = this.initialValue;\r\n\r\n            return this.multiple ?\r\n                !utils.equalArrays(value, initial) :\r\n                this._super();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/color-picker-palette.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/**\r\n * @api\r\n */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return [\r\n        [\r\n            'rgb(0,0,0)', 'rgb(52,52,52)', 'rgb(83,83,83)', 'rgb(135,135,135)', 'rgb(193,193,193)',\r\n            'rgb(234,234,234)', 'rgb(240,240,240)', 'rgb(255,255,255)'\r\n        ],\r\n        [\r\n            'rgb(252,0,9)', 'rgb(253,135,10)', 'rgb(255,255,13)', 'rgb(35,255,9)', 'rgb(33,255,255)',\r\n            'rgb(0,0,254)', 'rgb(132,0,254)', 'rgb(251,0,255)'\r\n        ],\r\n        [\r\n            'rgb(240,192,194)', 'rgb(251,223,194)', 'rgb(255,241,193)', 'rgb(210,230,201)',\r\n            'rgb(199,217,220)', 'rgb(197,219,240)', 'rgb(208,200,227)', 'rgb(229,199,212)'\r\n        ],\r\n        [\r\n            'rgb(228,133,135)', 'rgb(246,193,139)', 'rgb(254,225,136)', 'rgb(168,208,152)',\r\n            'rgb(146,184,190)', 'rgb(143,184,227)', 'rgb(165,148,204)', 'rgb(202,147,175)'\r\n        ],\r\n        [\r\n            'rgb(214,78,83)', 'rgb(243,163,88)', 'rgb(254,211,83)', 'rgb(130,187,106)',\r\n            'rgb(99,149,159)', 'rgb(93,150,211)', 'rgb(123,100,182)', 'rgb(180,100,142)'\r\n        ],\r\n        [\r\n            'rgb(190,0,5)', 'rgb(222,126,44)', 'rgb(236,183,39)', 'rgb(89,155,61)', 'rgb(55,110,123)',\r\n            'rgb(49,112,185)', 'rgb(83,55,150)', 'rgb(147,55,101)'\r\n        ],\r\n        [\r\n            'rgb(133,0,3)', 'rgb(163,74,10)', 'rgb(177,127,7)', 'rgb(45,101,23)', 'rgb(18,62,74)',\r\n            'rgb(14,62,129)', 'rgb(40,15,97)', 'rgb(95,16,55)'\r\n        ],\r\n        [\r\n            'rgb(81,0,1)', 'rgb(100,48,7)', 'rgb(107,78,3)', 'rgb(31,63,16)',\r\n            'rgb(13,39,46)', 'rgb(10,40,79)', 'rgb(24,12,59)', 'rgb(59,10,36)'\r\n        ]\r\n    ];\r\n});\r\n","Magento_Ui/js/form/element/color-picker.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'mage/translate',\r\n    'Magento_Ui/js/form/element/abstract',\r\n    'Magento_Ui/js/form/element/color-picker-palette'\r\n], function ($t, Abstract, palette) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n\r\n        defaults: {\r\n            colorPickerConfig: {\r\n                chooseText: $t('Apply'),\r\n                cancelText: $t('Cancel'),\r\n                maxSelectionSize: 8,\r\n                clickoutFiresChange: true,\r\n                allowEmpty: true,\r\n                localStorageKey: 'magento.spectrum',\r\n                palette: palette\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Invokes initialize method of parent class,\r\n         * contains initialization logic\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            this.colorPickerConfig.value = this.value;\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/country.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    './select'\r\n], function (_, registry, Select) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            imports: {\r\n                update: '${ $.parentName }.website_id:value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Filters 'initialOptions' property by 'field' and 'value' passed,\r\n         * calls 'setOptions' passing the result to it\r\n         *\r\n         * @param {*} value\r\n         * @param {String} field\r\n         */\r\n        filter: function (value, field) {\r\n            var result, defaultCountry, defaultValue;\r\n\r\n            if (!field) { //validate field, if we are on update\r\n                field = this.filterBy.field;\r\n            }\r\n\r\n            this._super(value, field);\r\n            result = _.filter(this.initialOptions, function (item) {\r\n\r\n                if (item[field]) {\r\n                    return ~item[field].indexOf(value);\r\n                }\r\n\r\n                return false;\r\n            });\r\n\r\n            this.setOptions(result);\r\n            this.reset();\r\n\r\n            if (!this.value()) {\r\n                defaultCountry = _.filter(result, function (item) {\r\n                    return item['is_default'] && _.contains(item['is_default'], value);\r\n                });\r\n\r\n                if (defaultCountry.length) {\r\n                    defaultValue = defaultCountry.shift();\r\n                    this.value(defaultValue.value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n","Magento_Ui/js/form/element/date.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'moment',\r\n    'mageUtils',\r\n    './abstract',\r\n    'moment-timezone-with-data'\r\n], function (moment, utils, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            options: {},\r\n\r\n            storeTimeZone: 'UTC',\r\n\r\n            validationParams: {\r\n                dateFormat: '${ $.outputDateFormat }'\r\n            },\r\n\r\n            /**\r\n             * Format of date that comes from the\r\n             * server (ICU Date Format).\r\n             *\r\n             * Used only in date picker mode\r\n             * (this.options.showsTime == false).\r\n             *\r\n             * @type {String}\r\n             */\r\n            inputDateFormat: 'y-MM-dd',\r\n\r\n            /**\r\n             * Format of date that should be sent to the\r\n             * server (ICU Date Format).\r\n             *\r\n             * Used only in date picker mode\r\n             * (this.options.showsTime == false).\r\n             *\r\n             * @type {String}\r\n             */\r\n            outputDateFormat: 'MM/dd/y',\r\n\r\n            /**\r\n             * Date/time format that is used to display date in\r\n             * the input field.\r\n             *\r\n             * @type {String}\r\n             */\r\n            pickerDateTimeFormat: '',\r\n\r\n            pickerDefaultDateFormat: 'MM/dd/y', // ICU Date Format\r\n            pickerDefaultTimeFormat: 'h:mm a', // ICU Time Format\r\n\r\n            elementTmpl: 'ui/form/element/date',\r\n\r\n            /**\r\n             * Format needed by moment timezone for conversion\r\n             */\r\n            timezoneFormat: 'YYYY-MM-DD HH:mm',\r\n\r\n            listens: {\r\n                'value': 'onValueChange',\r\n                'shiftedValue': 'onShiftedValueChange'\r\n            },\r\n\r\n            /**\r\n             * Date/time value shifted to corresponding timezone\r\n             * according to this.storeTimeZone property. This value\r\n             * will be sent to the server.\r\n             *\r\n             * @type {String}\r\n             */\r\n            shiftedValue: ''\r\n        },\r\n\r\n        /**\r\n         * Initializes regular properties of instance.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            if (!this.options.dateFormat) {\r\n                this.options.dateFormat = this.pickerDefaultDateFormat;\r\n            }\r\n\r\n            if (!this.options.timeFormat) {\r\n                this.options.timeFormat = this.pickerDefaultTimeFormat;\r\n            }\r\n\r\n            this.prepareDateTimeFormats();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initObservable: function () {\r\n            return this._super().observe(['shiftedValue']);\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        getPreview: function () {\r\n            return this.shiftedValue();\r\n        },\r\n\r\n        /**\r\n         * Prepares and sets date/time value that will be displayed\r\n         * in the input field.\r\n         *\r\n         * @param {String} value\r\n         */\r\n        onValueChange: function (value) {\r\n            var shiftedValue;\r\n\r\n            if (value) {\r\n                if (this.options.showsTime && !this.options.timeOnly) {\r\n                    shiftedValue = moment.tz(value, 'UTC').tz(this.storeTimeZone);\r\n                } else {\r\n                    shiftedValue = moment(value, this.outputDateFormat, true);\r\n                }\r\n\r\n                if (!shiftedValue.isValid()) {\r\n                    shiftedValue = moment(value, this.inputDateFormat);\r\n                }\r\n                shiftedValue = shiftedValue.format(this.pickerDateTimeFormat);\r\n            } else {\r\n                shiftedValue = '';\r\n            }\r\n\r\n            if (shiftedValue !== this.shiftedValue()) {\r\n                this.shiftedValue(shiftedValue);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Prepares and sets date/time value that will be sent\r\n         * to the server.\r\n         *\r\n         * @param {String} shiftedValue\r\n         */\r\n        onShiftedValueChange: function (shiftedValue) {\r\n            var value,\r\n                formattedValue,\r\n                momentValue;\r\n\r\n            if (shiftedValue) {\r\n                momentValue = moment(shiftedValue, this.pickerDateTimeFormat);\r\n\r\n                if (this.options.showsTime && !this.options.timeOnly) {\r\n                    formattedValue = moment(momentValue).format(this.timezoneFormat);\r\n                    value = moment.tz(formattedValue, this.storeTimeZone).tz('UTC').toISOString();\r\n                } else {\r\n                    value = momentValue.format(this.outputDateFormat);\r\n                }\r\n            } else {\r\n                value = '';\r\n            }\r\n\r\n            if (value !== this.value()) {\r\n                this.value(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Prepares and converts all date/time formats to be compatible\r\n         * with moment.js library.\r\n         */\r\n        prepareDateTimeFormats: function () {\r\n            if (this.options.timeOnly) {\r\n                this.pickerDateTimeFormat = this.options.timeFormat;\r\n            } else {\r\n                this.pickerDateTimeFormat = this.options.dateFormat;\r\n\r\n                if (this.options.showsTime) {\r\n                    this.pickerDateTimeFormat += ' ' + this.options.timeFormat;\r\n                }\r\n            }\r\n\r\n            this.pickerDateTimeFormat = utils.convertToMomentFormat(this.pickerDateTimeFormat);\r\n\r\n            if (this.options.dateFormat) {\r\n                this.outputDateFormat = this.options.dateFormat;\r\n            }\r\n\r\n            this.inputDateFormat = this.options.timeOnly ?\r\n                utils.convertToMomentFormat(this.pickerDefaultTimeFormat) :\r\n                utils.convertToMomentFormat(this.inputDateFormat);\r\n            this.outputDateFormat = this.options.timeOnly ?\r\n                utils.convertToMomentFormat(this.options.timeFormat) :\r\n                utils.convertToMomentFormat(this.outputDateFormat);\r\n\r\n            this.validationParams.dateFormat = this.outputDateFormat;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/file-uploader.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n/* global Base64 */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/lib/validation/validator',\r\n    'Magento_Ui/js/form/element/abstract',\r\n    'mage/backend/notification',\r\n    'mage/translate',\r\n    'jquery/file-uploader',\r\n    'mage/adminhtml/tools'\r\n], function ($, _, utils, uiAlert, validator, Element, notification, $t) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            value: [],\r\n            aggregatedErrors: [],\r\n            maxFileSize: false,\r\n            isMultipleFiles: false,\r\n            placeholderType: 'document', // 'image', 'video'\r\n            allowedExtensions: false,\r\n            previewTmpl: 'ui/form/element/uploader/preview',\r\n            dropZone: '[data-role=drop-zone]',\r\n            isLoading: false,\r\n            uploaderConfig: {\r\n                dataType: 'json',\r\n                sequentialUploads: true,\r\n                formData: {\r\n                    'form_key': window.FORM_KEY\r\n                }\r\n            },\r\n            tracks: {\r\n                isLoading: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes file uploader plugin on provided input element.\r\n         *\r\n         * @param {HTMLInputElement} fileInput\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        initUploader: function (fileInput) {\r\n            this.$fileInput = fileInput;\r\n\r\n            _.extend(this.uploaderConfig, {\r\n                dropZone: $(fileInput).closest(this.dropZone),\r\n                change: this.onFilesChoosed.bind(this),\r\n                drop: this.onFilesChoosed.bind(this),\r\n                add: this.onBeforeFileUpload.bind(this),\r\n                fail: this.onFail.bind(this),\r\n                done: this.onFileUploaded.bind(this),\r\n                start: this.onLoadingStart.bind(this),\r\n                stop: this.onLoadingStop.bind(this)\r\n            });\r\n\r\n            $(fileInput).fileupload(this.uploaderConfig);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines initial value of the instance.\r\n         *\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        setInitialValue: function () {\r\n            var value = this.getInitialValue();\r\n\r\n            value = value.map(this.processFile, this);\r\n\r\n            this.initialValue = value.slice();\r\n\r\n            this.value(value);\r\n            this.on('value', this.onUpdate.bind(this));\r\n            this.isUseDefault(this.disabled());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Empties files list.\r\n         *\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.value.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if files list contains any items.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return !!this.value().length;\r\n        },\r\n\r\n        /**\r\n         * Resets files list to its' initial value.\r\n         *\r\n         * @returns {FileUploader}\r\n         */\r\n        reset: function () {\r\n            var value = this.initialValue.slice();\r\n\r\n            this.value(value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds provided file to the files list.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        addFile: function (file) {\r\n            file = this.processFile(file);\r\n\r\n            this.isMultipleFiles ?\r\n                this.value.push(file) :\r\n                this.value([file]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieves from the list file which matches\r\n         * search criteria implemented in itertor function.\r\n         *\r\n         * @param {Function} fn - Function that will be invoked\r\n         *      for each file in the list.\r\n         * @returns {Object}\r\n         */\r\n        getFile: function (fn) {\r\n            return _.find(this.value(), fn);\r\n        },\r\n\r\n        /**\r\n         * Removes provided file from thes files list.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        removeFile: function (file) {\r\n            this.value.remove(file);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * May perform modifications on the provided\r\n         * file object before adding it to the files list.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {Object} Modified file object.\r\n         */\r\n        processFile: function (file) {\r\n            file.previewType = this.getFilePreviewType(file);\r\n\r\n            if (!file.id && file.name) {\r\n                file.id = Base64.mageEncode(file.name);\r\n            }\r\n\r\n            this.observe.call(file, true, [\r\n                'previewWidth',\r\n                'previewHeight'\r\n            ]);\r\n\r\n            return file;\r\n        },\r\n\r\n        /**\r\n         * Formats incoming bytes value to a readable format.\r\n         *\r\n         * @param {Number} bytes\r\n         * @returns {String}\r\n         */\r\n        formatSize: function (bytes) {\r\n            var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'],\r\n                i;\r\n\r\n            if (bytes === 0) {\r\n                return '0 Byte';\r\n            }\r\n\r\n            i = window.parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\r\n\r\n            return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\r\n        },\r\n\r\n        /**\r\n         * Returns path to the files' preview image.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {String}\r\n         */\r\n        getFilePreview: function (file) {\r\n            return file.url;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the file's preview template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getPreviewTmpl: function () {\r\n            return this.previewTmpl;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided file is allowed to be uploaded.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {Object} Validation result.\r\n         */\r\n        isFileAllowed: function (file) {\r\n            var result;\r\n\r\n            _.every([\r\n                this.isExtensionAllowed(file),\r\n                this.isSizeExceeded(file)\r\n            ], function (value) {\r\n                result = value;\r\n\r\n                return value.passed;\r\n            });\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Checks if extension of provided file is allowed.\r\n         *\r\n         * @param {Object} file - File to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isExtensionAllowed: function (file) {\r\n            return validator('validate-file-type', file.name, this.allowedExtensions);\r\n        },\r\n\r\n        /**\r\n         * Get simplified file type.\r\n         *\r\n         * @param {Object} file - File to be checked.\r\n         * @returns {String}\r\n         */\r\n        getFilePreviewType: function (file) {\r\n            var type;\r\n\r\n            if (!file.type) {\r\n                return 'document';\r\n            }\r\n\r\n            type = file.type.split('/')[0];\r\n\r\n            return type !== 'image' && type !== 'video' ? 'document' : type;\r\n        },\r\n\r\n        /**\r\n         * Checks if size of provided file exceeds\r\n         * defined in configuration size limits.\r\n         *\r\n         * @param {Object} file - File to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isSizeExceeded: function (file) {\r\n            return validator('validate-max-size', file.size, this.maxFileSize);\r\n        },\r\n\r\n        /**\r\n         * Displays provided error message.\r\n         *\r\n         * @param {String} msg\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        notifyError: function (msg) {\r\n            var data = {\r\n                content: msg\r\n            };\r\n\r\n            if (this.isMultipleFiles) {\r\n                data.modalClass = '_image-box';\r\n            }\r\n\r\n            uiAlert(data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Performs data type conversions.\r\n         *\r\n         * @param {*} value\r\n         * @returns {Array}\r\n         */\r\n        normalizeData: function (value) {\r\n            return utils.isEmpty(value) ? [] : value;\r\n        },\r\n\r\n        /**\r\n         * Checks if files list is different\r\n         * from its' initial value.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasChanged: function () {\r\n            var value = this.value(),\r\n                initial = this.initialValue;\r\n\r\n            return !utils.equalArrays(value, initial);\r\n        },\r\n\r\n        /**\r\n         * Handler which is invoked when files are choosed for upload.\r\n         * May be used for implementation of additional validation rules,\r\n         * e.g. total files and a total size rules.\r\n         *\r\n         * @param {Event} event - Event object.\r\n         * @param {Object} data - File data that will be uploaded.\r\n         */\r\n        onFilesChoosed: function (event, data) {\r\n            // no option exists in file uploader for restricting upload chains to single files\r\n            // this enforces that policy\r\n            if (!this.isMultipleFiles) {\r\n                data.files.splice(1);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler which is invoked prior to the start of a file upload.\r\n         *\r\n         * @param {Event} event - Event object.\r\n         * @param {Object} data - File data that will be uploaded.\r\n         */\r\n        onBeforeFileUpload: function (event, data) {\r\n            var file = data.files[0],\r\n                allowed = this.isFileAllowed(file),\r\n                target = $(event.target);\r\n\r\n            if (this.disabled()) {\r\n                this.notifyError($t('The file upload field is disabled.'));\r\n\r\n                return;\r\n            }\r\n\r\n            if (allowed.passed) {\r\n                target.on('fileuploadsend', function (eventBound, postData) {\r\n                    postData.data.append('param_name', this.paramName);\r\n                }.bind(data));\r\n\r\n                target.fileupload('process', data).done(function () {\r\n                    data.submit();\r\n                });\r\n            } else {\r\n                this.aggregateError(file.name, allowed.message);\r\n\r\n                // if all files in upload chain are invalid, stop callback is never called; this resolves promise\r\n                if (this.aggregatedErrors.length === data.originalFiles.length) {\r\n                    this.uploaderConfig.stop();\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Add error message associated with filename for display when upload chain is complete\r\n         *\r\n         * @param {String} filename\r\n         * @param {String} message\r\n         */\r\n        aggregateError: function (filename, message) {\r\n            this.aggregatedErrors.push({\r\n                filename: filename,\r\n                message: message\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @param {Event} event\r\n         * @param {Object} data\r\n         */\r\n        onFail: function (event, data) {\r\n            console.error(data.jqXHR.responseText);\r\n            console.error(data.jqXHR.status);\r\n        },\r\n\r\n        /**\r\n         * Handler of the file upload complete event.\r\n         *\r\n         * @param {Event} event\r\n         * @param {Object} data\r\n         */\r\n        onFileUploaded: function (event, data) {\r\n            var uploadedFilename = data.files[0].name,\r\n                file = data.result,\r\n                error = file.error;\r\n\r\n            error ?\r\n                this.aggregateError(uploadedFilename, error) :\r\n                this.addFile(file);\r\n        },\r\n\r\n        /**\r\n         * Load start event handler.\r\n         */\r\n        onLoadingStart: function () {\r\n            this.isLoading = true;\r\n        },\r\n\r\n        /**\r\n         * Load stop event handler.\r\n         */\r\n        onLoadingStop: function () {\r\n            var aggregatedErrorMessages = [];\r\n\r\n            this.isLoading = false;\r\n\r\n            if (!this.aggregatedErrors.length) {\r\n                return;\r\n            }\r\n\r\n            if (!this.isMultipleFiles) { // only single file upload occurred; use first file's error message\r\n                aggregatedErrorMessages.push(this.aggregatedErrors[0].message);\r\n            } else { // construct message from all aggregatedErrors\r\n                _.each(this.aggregatedErrors, function (error) {\r\n                    notification().add({\r\n                        error: true,\r\n                        message: '%s' + error.message, // %s to be used as placeholder for html injection\r\n\r\n                        /**\r\n                         * Adds constructed error notification to aggregatedErrorMessages\r\n                         *\r\n                         * @param {String} constructedMessage\r\n                         */\r\n                        insertMethod: function (constructedMessage) {\r\n                            var escapedFileName = $('<div>').text(error.filename).html(),\r\n                                errorMsgBodyHtml = '<strong>%s</strong> %s.<br>'\r\n                                    .replace('%s', escapedFileName)\r\n                                    .replace('%s', $t('was not uploaded'));\r\n\r\n                            // html is escaped in message body for notification widget; prepend unescaped html here\r\n                            constructedMessage = constructedMessage.replace('%s', errorMsgBodyHtml);\r\n\r\n                            aggregatedErrorMessages.push(constructedMessage);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.notifyError(aggregatedErrorMessages.join(''));\r\n\r\n            // clear out aggregatedErrors array for this completed upload chain\r\n            this.aggregatedErrors = [];\r\n        },\r\n\r\n        /**\r\n         * Handler function which is supposed to be invoked when\r\n         * file input element has been rendered.\r\n         *\r\n         * @param {HTMLInputElement} fileInput\r\n         */\r\n        onElementRender: function (fileInput) {\r\n            this.initUploader(fileInput);\r\n        },\r\n\r\n        /**\r\n         * Handler of the preview image load event.\r\n         *\r\n         * @param {Object} file - File associated with an image.\r\n         * @param {Event} event\r\n         */\r\n        onPreviewLoad: function (file, event) {\r\n            var img = event.currentTarget;\r\n\r\n            file.previewWidth = img.naturalWidth;\r\n            file.previewHeight = img.naturalHeight;\r\n        },\r\n\r\n        /**\r\n         * Restore value to default\r\n         */\r\n        restoreToDefault: function () {\r\n            var defaultValue = utils.copy(this.default);\r\n\r\n            defaultValue.map(this.processFile, this);\r\n            this.value(defaultValue);\r\n        },\r\n\r\n        /**\r\n         * Update whether value differs from default value\r\n         */\r\n        setDifferedFromDefault: function () {\r\n            var value = utils.copy(this.value());\r\n\r\n            this.isDifferedFromDefault(!_.isEqual(value, this.default));\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/image-uploader.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global Base64 */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/lib/validation/validator',\r\n    'Magento_Ui/js/form/element/file-uploader',\r\n    'mage/adminhtml/browser'\r\n], function ($, _, utils, uiAlert, validator, Element, browser) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        /**\r\n         * {@inheritDoc}\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            // Listen for file deletions from the media browser\r\n            $(window).on('fileDeleted.mediabrowser', this.onDeleteFile.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Assign uid for media gallery\r\n         *\r\n         * @return {ImageUploader} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            var mediaGalleryUid = utils.uniqueid();\r\n\r\n            this._super();\r\n\r\n            _.extend(this, {\r\n                mediaGalleryUid: mediaGalleryUid\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Add file event callback triggered from media gallery\r\n         *\r\n         * @param {ImageUploader} imageUploader - UI Class\r\n         * @param {Event} e\r\n         */\r\n        addFileFromMediaGallery: function (imageUploader, e) {\r\n            var $buttonEl = $(e.target),\r\n                fileSize = $buttonEl.data('size'),\r\n                fileMimeType = $buttonEl.data('mime-type'),\r\n                filePathname = $buttonEl.val(),\r\n                fileBasename = filePathname.split('/').pop();\r\n\r\n            this.addFile({\r\n                type: fileMimeType,\r\n                name: fileBasename,\r\n                size: fileSize,\r\n                url: filePathname\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Open the media browser dialog\r\n         *\r\n         * @param {ImageUploader} imageUploader - UI Class\r\n         * @param {Event} e\r\n         */\r\n        openMediaBrowserDialog: function (imageUploader, e) {\r\n            var $buttonEl = $(e.target),\r\n                openDialogUrl = this.mediaGallery.openDialogUrl +\r\n                'target_element_id/' + $buttonEl.attr('id') +\r\n                '/store/' + this.mediaGallery.storeId +\r\n                '/type/image/?isAjax=true';\r\n\r\n            if (this.mediaGallery.initialOpenSubpath) {\r\n                openDialogUrl += '&current_tree_path=' + Base64.idEncode(this.mediaGallery.initialOpenSubpath);\r\n            }\r\n\r\n            browser.openDialog(\r\n                openDialogUrl,\r\n                null,\r\n                null,\r\n                this.mediaGallery.openDialogTitle,\r\n                {\r\n                    targetElementId: $buttonEl.attr('id')\r\n                }\r\n            );\r\n        },\r\n\r\n        /**\r\n         * @param {jQuery.event} e\r\n         * @param {Object} data\r\n         * @returns {Object} Chainables\r\n         */\r\n        onDeleteFile: function (e, data) {\r\n            var fileId = this.getFileId(),\r\n                deletedFileIds = data.ids;\r\n\r\n            if (fileId && $.inArray(fileId, deletedFileIds) > -1) {\r\n                this.clear();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * {@inheritDoc}\r\n         */\r\n        clear: function () {\r\n            this.value([]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Gets the ID of the file used if set\r\n         *\r\n         * @return {String|Null} ID\r\n         */\r\n        getFileId: function () {\r\n            return this.hasData() ? this.value()[0].id : null;\r\n        },\r\n\r\n        /**\r\n         * Trigger native browser file upload UI via clicking on 'Upload' button\r\n         *\r\n         * @param {ImageUploader} imageUploader - UI Class\r\n         * @param {Event} e\r\n         */\r\n        triggerImageUpload: function (imageUploader, e) {\r\n            $(e.target).closest('.file-uploader').find('input[type=\"file\"]').trigger('click');\r\n        },\r\n\r\n        /**\r\n         * Get list of file extensions allowed in comma delimited format\r\n         *\r\n         * @return {String}\r\n         */\r\n        getAllowedFileExtensionsInCommaDelimitedFormat: function () {\r\n            var allowedExtensions = this.allowedExtensions.toUpperCase().split(' ');\r\n\r\n            // if jpg and jpeg in allowed extensions, remove jpeg from list\r\n            if (allowedExtensions.indexOf('JPG') !== -1 && allowedExtensions.indexOf('JPEG') !== -1) {\r\n                allowedExtensions.splice(allowedExtensions.indexOf('JPEG'), 1);\r\n            }\r\n\r\n            return allowedExtensions.join(', ');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/media.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'mageUtils',\r\n    './abstract'\r\n], function (utils, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            links: {\r\n                value: ''\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes file component.\r\n         *\r\n         * @returns {Media} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initFormId();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines form ID with which file input will be associated.\r\n         *\r\n         * @returns {Media} Chainable.\r\n         */\r\n        initFormId: function () {\r\n            var namespace;\r\n\r\n            if (this.formId) {\r\n                return this;\r\n            }\r\n\r\n            namespace   = this.name.split('.');\r\n            this.formId = namespace[0];\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/multiselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    './select'\r\n], function (_, utils, Select) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            size: 5,\r\n            elementTmpl: 'ui/form/element/multiselect',\r\n            listens: {\r\n                value: 'setDifferedFromDefault setPrepareToSendData'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        setInitialValue: function () {\r\n            this._super();\r\n\r\n            this.initialValue = utils.copy(this.initialValue);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        normalizeData: function (value) {\r\n            if (utils.isEmpty(value)) {\r\n                value = [];\r\n            }\r\n\r\n            return _.isString(value) ? value.split(',') : value;\r\n        },\r\n\r\n        /**\r\n         * Sets the prepared data to dataSource\r\n         * by path, where key is component link to dataSource with\r\n         * suffix \"-prepared-for-send\"\r\n         *\r\n         * @param {Array} data - current component value\r\n         */\r\n        setPrepareToSendData: function (data) {\r\n            if (_.isUndefined(data) || !data.length) {\r\n                data = '';\r\n            }\r\n\r\n            this.source.set(this.dataScope + '-prepared-for-send', data);\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        getInitialValue: function () {\r\n            var values = [\r\n                    this.normalizeData(this.source.get(this.dataScope)),\r\n                    this.normalizeData(this.default)\r\n                ],\r\n                value;\r\n\r\n            values.some(function (v) {\r\n                return _.isArray(v) && (value = utils.copy(v)) && !_.isEmpty(v);\r\n            });\r\n\r\n            return value;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        hasChanged: function () {\r\n            var value = this.value(),\r\n                initial = this.initialValue;\r\n\r\n            return !utils.equalArrays(value, initial);\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        reset: function () {\r\n            this.value(utils.copy(this.initialValue));\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        clear: function () {\r\n            this.value([]);\r\n            this.error(false);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/post-code.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './abstract'\r\n], function (_, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            imports: {\r\n                countryOptions: '${ $.parentName }.country_id:indexedOptions',\r\n                update: '${ $.parentName }.country_id:value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super();\r\n\r\n            /**\r\n             * equalityComparer function\r\n             *\r\n             * @returns boolean.\r\n             */\r\n            this.value.equalityComparer = function (oldValue, newValue) {\r\n                return !oldValue && !newValue || oldValue === newValue;\r\n            };\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Method called every time country selector's value gets changed.\r\n         * Updates all validations and requirements for certain country.\r\n         * @param {String} value - Selected country ID.\r\n         */\r\n        update: function (value) {\r\n            var isZipCodeOptional,\r\n                option;\r\n\r\n            if (!value) {\r\n                return;\r\n            }\r\n\r\n            option = _.isObject(this.countryOptions) && this.countryOptions[value];\r\n\r\n            if (!option) {\r\n                return;\r\n            }\r\n\r\n            isZipCodeOptional = !!option['is_zipcode_optional'];\r\n\r\n            if (isZipCodeOptional) {\r\n                this.error(false);\r\n            }\r\n\r\n            this.validation['required-entry'] = !isZipCodeOptional;\r\n            this.required(!isZipCodeOptional);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/region.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    './select',\r\n    'Magento_Checkout/js/model/default-post-code-resolver'\r\n], function (_, registry, Select, defaultPostCodeResolver) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            skipValidation: false,\r\n            imports: {\r\n                countryOptions: '${ $.parentName }.country_id:indexedOptions',\r\n                update: '${ $.parentName }.country_id:value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * {@inheritdoc}\r\n         */\r\n        initialize: function () {\r\n            var option;\r\n\r\n            this._super();\r\n\r\n            option = _.find(this.countryOptions, function (row) {\r\n                return row['is_default'] === true;\r\n            });\r\n            this.hideRegion(option);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Method called every time country selector's value gets changed.\r\n         * Updates all validations and requirements for certain country.\r\n         * @param {String} value - Selected country ID.\r\n         */\r\n        update: function (value) {\r\n            var isRegionRequired,\r\n                option;\r\n\r\n            if (!value) {\r\n                return;\r\n            }\r\n\r\n            option = _.isObject(this.countryOptions) && this.countryOptions[value];\r\n\r\n            if (!option) {\r\n                return;\r\n            }\r\n\r\n            this.hideRegion(option);\r\n\r\n            defaultPostCodeResolver.setUseDefaultPostCode(!option['is_zipcode_optional']);\r\n\r\n            isRegionRequired = !this.skipValidation && !!option['is_region_required'];\r\n\r\n            if (!isRegionRequired) {\r\n                this.error(false);\r\n            }\r\n\r\n            this.required(isRegionRequired);\r\n            this.validation['required-entry'] = isRegionRequired;\r\n\r\n            registry.get(this.customName, function (input) {\r\n                input.required(isRegionRequired);\r\n                input.validation['required-entry'] = isRegionRequired;\r\n                input.validation['validate-not-number-first'] = !this.options().length;\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Hide select and corresponding text input field if region must not be shown for selected country.\r\n         *\r\n         * @private\r\n         * @param {Object}option\r\n         */\r\n        hideRegion: function (option) {\r\n            if (!option || option['is_region_visible'] !== false) {\r\n                return;\r\n            }\r\n\r\n            this.setVisible(false);\r\n\r\n            if (this.customEntry) {\r\n                this.toggleInput(false);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/select.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    './abstract',\r\n    'uiLayout'\r\n], function (_, utils, registry, Abstract, layout) {\r\n    'use strict';\r\n\r\n    var inputNode = {\r\n        parent: '${ $.$data.parentName }',\r\n        component: 'Magento_Ui/js/form/element/abstract',\r\n        template: '${ $.$data.template }',\r\n        provider: '${ $.$data.provider }',\r\n        name: '${ $.$data.index }_input',\r\n        dataScope: '${ $.$data.customEntry }',\r\n        customScope: '${ $.$data.customScope }',\r\n        sortOrder: {\r\n            after: '${ $.$data.name }'\r\n        },\r\n        displayArea: 'body',\r\n        label: '${ $.$data.label }'\r\n    };\r\n\r\n    /**\r\n     * Parses incoming options, considers options with undefined value property\r\n     *     as caption\r\n     *\r\n     * @param  {Array} nodes\r\n     * @return {Object}\r\n     */\r\n    function parseOptions(nodes, captionValue) {\r\n        var caption,\r\n            value;\r\n\r\n        nodes = _.map(nodes, function (node) {\r\n            value = node.value;\r\n\r\n            if (value === null || value === captionValue) {\r\n                if (_.isUndefined(caption)) {\r\n                    caption = node.label;\r\n                }\r\n            } else {\r\n                return node;\r\n            }\r\n        });\r\n\r\n        return {\r\n            options: _.compact(nodes),\r\n            caption: _.isString(caption) ? caption : false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Recursively loops over data to find non-undefined, non-array value\r\n     *\r\n     * @param  {Array} data\r\n     * @return {*} - first non-undefined value in array\r\n     */\r\n    function findFirst(data) {\r\n        var value;\r\n\r\n        data.some(function (node) {\r\n            value = node.value;\r\n\r\n            if (Array.isArray(value)) {\r\n                value = findFirst(value);\r\n            }\r\n\r\n            return !_.isUndefined(value);\r\n        });\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Recursively set to object item like value and item.value like key.\r\n     *\r\n     * @param {Array} data\r\n     * @param {Object} result\r\n     * @returns {Object}\r\n     */\r\n    function indexOptions(data, result) {\r\n        var value;\r\n\r\n        result = result || {};\r\n\r\n        data.forEach(function (item) {\r\n            value = item.value;\r\n\r\n            if (Array.isArray(value)) {\r\n                indexOptions(value, result);\r\n            } else {\r\n                result[value] = item;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            customName: '${ $.parentName }.${ $.index }_input',\r\n            elementTmpl: 'ui/form/element/select',\r\n            caption: '',\r\n            options: []\r\n        },\r\n\r\n        /**\r\n         * Extends instance with defaults, extends config with formatted values\r\n         *     and options, and invokes initialize method of AbstractElement class.\r\n         *     If instance's 'customEntry' property is set to true, calls 'initInput'\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            if (this.customEntry) {\r\n                registry.get(this.name, this.initInput.bind(this));\r\n            }\r\n\r\n            if (this.filterBy) {\r\n                this.initFilter();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent, initializes 'options' and 'initialOptions'\r\n         *     properties, calls 'setOptions' passing options to it\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super();\r\n\r\n            this.initialOptions = this.options;\r\n\r\n            this.observe('options caption')\r\n                .setOptions(this.options());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set link for filter.\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        initFilter: function () {\r\n            var filter = this.filterBy;\r\n\r\n            this.filter(this.default, filter.field);\r\n            this.setLinks({\r\n                filter: filter.target\r\n            }, 'imports');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates input from template, renders it via renderer.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initInput: function () {\r\n            layout([utils.template(inputNode, this)]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Matches specified value with existing options\r\n         * or, if value is not specified, returns value of the first option.\r\n         *\r\n         * @returns {*}\r\n         */\r\n        normalizeData: function () {\r\n            var value = this._super(),\r\n                option;\r\n\r\n            if (value !== '') {\r\n                option = this.getOption(value);\r\n\r\n                return option && option.value;\r\n            }\r\n\r\n            if (!this.caption()) {\r\n                return findFirst(this.options);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Filters 'initialOptions' property by 'field' and 'value' passed,\r\n         * calls 'setOptions' passing the result to it\r\n         *\r\n         * @param {*} value\r\n         * @param {String} field\r\n         */\r\n        filter: function (value, field) {\r\n            var source = this.initialOptions,\r\n                result;\r\n\r\n            field = field || this.filterBy.field;\r\n\r\n            result = _.filter(source, function (item) {\r\n                return item[field] === value || item.value === '';\r\n            });\r\n\r\n            this.setOptions(result);\r\n        },\r\n\r\n        /**\r\n         * Change visibility for input.\r\n         *\r\n         * @param {Boolean} isVisible\r\n         */\r\n        toggleInput: function (isVisible) {\r\n            registry.get(this.customName, function (input) {\r\n                input.setVisible(isVisible);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Sets 'data' to 'options' observable array, if instance has\r\n         * 'customEntry' property set to true, calls 'setHidden' method\r\n         *  passing !options.length as a parameter\r\n         *\r\n         * @param {Array} data\r\n         * @returns {Object} Chainable\r\n         */\r\n        setOptions: function (data) {\r\n            var captionValue = this.captionValue || '',\r\n                result = parseOptions(data, captionValue),\r\n                isVisible;\r\n\r\n            this.indexedOptions = indexOptions(result.options);\r\n\r\n            this.options(result.options);\r\n\r\n            if (!this.caption()) {\r\n                this.caption(result.caption);\r\n            }\r\n\r\n            if (this.customEntry) {\r\n                isVisible = !!result.options.length;\r\n\r\n                this.setVisible(isVisible);\r\n                this.toggleInput(!isVisible);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Processes preview for option by it's value, and sets the result\r\n         * to 'preview' observable\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        getPreview: function () {\r\n            var value = this.value(),\r\n                option = this.indexedOptions[value],\r\n                preview = option ? option.label : '';\r\n\r\n            this.preview(preview);\r\n\r\n            return preview;\r\n        },\r\n\r\n        /**\r\n         * Get option from indexedOptions list.\r\n         *\r\n         * @param {Number} value\r\n         * @returns {Object} Chainable\r\n         */\r\n        getOption: function (value) {\r\n            return this.indexedOptions[value];\r\n        },\r\n\r\n        /**\r\n         * Select first available option\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        clear: function () {\r\n            var value = this.caption() ? '' : findFirst(this.options);\r\n\r\n            this.value(value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        setInitialValue: function () {\r\n            if (_.isUndefined(this.value()) && !this.default) {\r\n                this.clear();\r\n            }\r\n\r\n            return this._super();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/single-checkbox-toggle-notice.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/form/element/single-checkbox'\r\n], function (SingleCheckbox) {\r\n    'use strict';\r\n\r\n    return SingleCheckbox.extend({\r\n        defaults: {\r\n            notices: [],\r\n            tracks: {\r\n                notice: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Choose notice on initialization\r\n         *\r\n         * @returns {*|void|Element}\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .chooseNotice();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Choose notice function\r\n         *\r\n         * @returns void\r\n         */\r\n        chooseNotice: function () {\r\n            var checkedNoticeNumber = Number(this.checked());\r\n\r\n            this.notice = this.notices[checkedNoticeNumber];\r\n        },\r\n\r\n        /**\r\n         * Choose notice on update\r\n         *\r\n         * @returns void\r\n         */\r\n        onUpdate: function () {\r\n            this._super();\r\n            this.chooseNotice();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/single-checkbox-use-config.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/form/element/single-checkbox'\r\n], function (Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            isUseDefault: false,\r\n            isUseConfig: false,\r\n            listens: {\r\n                'isUseConfig': 'toggleElement',\r\n                'isUseDefault': 'toggleElement'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initObservable: function () {\r\n\r\n            return this\r\n                ._super()\r\n                .observe('isUseConfig');\r\n        },\r\n\r\n        /**\r\n         * Toggle element\r\n         */\r\n        toggleElement: function () {\r\n            this.disabled(this.isUseDefault() || this.isUseConfig());\r\n\r\n            if (this.source) {\r\n                this.source.set('data.use_default.' + this.index, Number(this.isUseDefault()));\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/single-checkbox.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/form/element/abstract',\r\n    'underscore',\r\n    'mage/translate'\r\n], function (AbstractField, _, $t) {\r\n    'use strict';\r\n\r\n    return AbstractField.extend({\r\n        defaults: {\r\n            template: 'ui/form/components/single/field',\r\n            checked: false,\r\n            initialChecked: false,\r\n            multiple: false,\r\n            prefer: 'checkbox', // 'radio' | 'checkbox' | 'toggle'\r\n            valueMap: {},\r\n\r\n            templates: {\r\n                radio: 'ui/form/components/single/radio',\r\n                checkbox: 'ui/form/components/single/checkbox',\r\n                toggle: 'ui/form/components/single/switcher'\r\n            },\r\n\r\n            listens: {\r\n                'checked': 'onCheckedChanged',\r\n                'value': 'onExtendedValueChanged'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initConfig: function (config) {\r\n            this._super();\r\n\r\n            if (!config.elementTmpl) {\r\n                if (!this.prefer && !this.multiple) {\r\n                    this.elementTmpl = this.templates.radio;\r\n                } else if (this.prefer === 'radio') {\r\n                    this.elementTmpl = this.templates.radio;\r\n                } else if (this.prefer === 'checkbox') {\r\n                    this.elementTmpl = this.templates.checkbox;\r\n                } else if (this.prefer === 'toggle') {\r\n                    this.elementTmpl = this.templates.toggle;\r\n                } else {\r\n                    this.elementTmpl = this.templates.checkbox;\r\n                }\r\n            }\r\n\r\n            if (this.prefer === 'toggle' && _.isEmpty(this.toggleLabels)) {\r\n                this.toggleLabels = {\r\n                    'on': $t('Yes'),\r\n                    'off': $t('No')\r\n                };\r\n            }\r\n\r\n            if (typeof this.default === 'undefined' || this.default === null) {\r\n                this.default = '';\r\n            }\r\n\r\n            if (typeof this.value === 'undefined' || this.value === null) {\r\n                this.value = _.isEmpty(this.valueMap) || this.default !== '' ? this.default : this.valueMap.false;\r\n                this.initialValue = this.value;\r\n            } else {\r\n                this.initialValue = this.value;\r\n            }\r\n\r\n            if (this.multiple && !_.isArray(this.value)) {\r\n                this.value = []; // needed for correct observable assignment\r\n            }\r\n\r\n            this.initialChecked = this.checked;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initObservable: function () {\r\n            return this\r\n                ._super()\r\n                .observe('checked');\r\n        },\r\n\r\n        /**\r\n         * Get true/false key from valueMap by value.\r\n         *\r\n         * @param {*} value\r\n         * @returns {Boolean|undefined}\r\n         */\r\n        getReverseValueMap: function getReverseValueMap(value) {\r\n            var bool = false;\r\n\r\n            _.some(this.valueMap, function (iValue, iBool) {\r\n                if (iValue === value) {\r\n                    bool = iBool === 'true';\r\n\r\n                    return true;\r\n                }\r\n            });\r\n\r\n            return bool;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        setInitialValue: function () {\r\n            if (_.isEmpty(this.valueMap)) {\r\n                this.on('value', this.onUpdate.bind(this));\r\n            } else {\r\n                this._super();\r\n                this.checked(this.getReverseValueMap(this.value()));\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Handle dataScope changes for checkbox / radio button.\r\n         *\r\n         * @param {*} newExportedValue\r\n         */\r\n        onExtendedValueChanged: function (newExportedValue) {\r\n            var isMappedUsed = !_.isEmpty(this.valueMap),\r\n                oldChecked = this.checked.peek(),\r\n                oldValue = this.initialValue,\r\n                newChecked;\r\n\r\n            if (this.multiple) {\r\n                newChecked = newExportedValue.indexOf(oldValue) !== -1;\r\n            } else if (isMappedUsed) {\r\n                newChecked = this.getReverseValueMap(newExportedValue);\r\n            } else if (typeof newExportedValue === 'boolean') {\r\n                newChecked = newExportedValue;\r\n            } else {\r\n                newChecked = newExportedValue === oldValue;\r\n            }\r\n\r\n            if (newChecked !== oldChecked) {\r\n                this.checked(newChecked);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handle checked state changes for checkbox / radio button.\r\n         *\r\n         * @param {Boolean} newChecked\r\n         */\r\n        onCheckedChanged: function (newChecked) {\r\n            var isMappedUsed = !_.isEmpty(this.valueMap),\r\n                oldValue = this.initialValue,\r\n                newValue;\r\n\r\n            if (isMappedUsed) {\r\n                newValue = this.valueMap[newChecked];\r\n            } else {\r\n                newValue = oldValue;\r\n            }\r\n\r\n            if (!this.multiple && newChecked) {\r\n                this.value(newValue);\r\n            } else if (!this.multiple && !newChecked) {\r\n                if (typeof newValue === 'boolean') {\r\n                    this.value(newChecked);\r\n                } else if (newValue === this.value.peek()) {\r\n                    this.value('');\r\n                }\r\n\r\n                if (isMappedUsed) {\r\n                    this.value(newValue);\r\n                }\r\n            } else if (this.multiple && newChecked && this.value.indexOf(newValue) === -1) {\r\n                this.value.push(newValue);\r\n            } else if (this.multiple && !newChecked && this.value.indexOf(newValue) !== -1) {\r\n                this.value.splice(this.value.indexOf(newValue), 1);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        onUpdate: function () {\r\n            if (this.hasUnique) {\r\n                this.setUnique();\r\n            }\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        reset: function () {\r\n            if (this.multiple && this.initialChecked) {\r\n                this.value.push(this.initialValue);\r\n            } else if (this.multiple && !this.initialChecked) {\r\n                this.value.splice(this.value.indexOf(this.initialValue), 1);\r\n            } else {\r\n                this.value(this.initialValue);\r\n            }\r\n\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        clear: function () {\r\n            if (this.multiple) {\r\n                this.value([]);\r\n            } else {\r\n                this.value('');\r\n            }\r\n\r\n            this.error(false);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/text.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiElement',\r\n    'mageUtils'\r\n], function (Element, utils) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            visible: true,\r\n            label: '',\r\n            error: '',\r\n            uid: utils.uniqueid(),\r\n            disabled: false,\r\n            links: {\r\n                value: '${ $.provider }:${ $.dataScope }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Has service\r\n         *\r\n         * @returns {Boolean} false.\r\n         */\r\n        hasService: function () {\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Has addons\r\n         *\r\n         * @returns {Boolean} false.\r\n         */\r\n        hasAddons: function () {\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('disabled visible value');\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/textarea.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './abstract'\r\n], function (Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            cols: 15,\r\n            rows: 2,\r\n            elementTmpl: 'ui/form/element/textarea'\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/ui-select.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './abstract',\r\n    'Magento_Ui/js/lib/key-codes',\r\n    'mage/translate',\r\n    'ko',\r\n    'jquery',\r\n    'Magento_Ui/js/lib/view/utils/async'\r\n], function (_, Abstract, keyCodes, $t, ko, $) {\r\n    'use strict';\r\n\r\n    var isTouchDevice = typeof document.ontouchstart !== 'undefined';\r\n\r\n    /**\r\n     * Processing options list\r\n     *\r\n     * @param {Array} array - Property array\r\n     * @param {String} separator - Level separator\r\n     * @param {Array} created - list to add new options\r\n     *\r\n     * @return {Array} Plain options list\r\n     */\r\n    function flattenCollection(array, separator, created) {\r\n        var i = 0,\r\n            length,\r\n            childCollection;\r\n\r\n        array = _.compact(array);\r\n        length = array.length;\r\n        created = created || [];\r\n\r\n        for (i; i < length; i++) {\r\n            created.push(array[i]);\r\n\r\n            if (array[i].hasOwnProperty(separator)) {\r\n                childCollection = array[i][separator];\r\n                delete array[i][separator];\r\n                flattenCollection.call(this, childCollection, separator, created);\r\n            }\r\n        }\r\n\r\n        return created;\r\n    }\r\n\r\n    /**\r\n     * Set levels to options list\r\n     *\r\n     * @param {Array} array - Property array\r\n     * @param {String} separator - Level separator\r\n     * @param {Number} level - Starting level\r\n     * @param {String} path - path to root\r\n     *\r\n     * @returns {Array} Array with levels\r\n     */\r\n    function setProperty(array, separator, level, path) {\r\n        var i = 0,\r\n            length,\r\n            nextLevel,\r\n            nextPath;\r\n\r\n        array = _.compact(array);\r\n        length = array.length;\r\n        level = level || 0;\r\n        path = path || '';\r\n\r\n        for (i; i < length; i++) {\r\n            if (array[i]) {\r\n                _.extend(array[i], {\r\n                    level: level,\r\n                    path: path\r\n                });\r\n            }\r\n\r\n            if (array[i].hasOwnProperty(separator)) {\r\n                nextLevel = level + 1;\r\n                nextPath = path ? path + '.' + array[i].label : array[i].label;\r\n                setProperty.call(this, array[i][separator], separator, nextLevel, nextPath);\r\n            }\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * Preprocessing options list\r\n     *\r\n     * @param {Array} nodes - Options list\r\n     *\r\n     * @return {Object} Object with property - options(options list)\r\n     *      and cache options with plain and tree list\r\n     */\r\n    function parseOptions(nodes) {\r\n        var caption,\r\n            value,\r\n            cacheNodes,\r\n            copyNodes;\r\n\r\n        nodes = setProperty(nodes, 'optgroup');\r\n        copyNodes = JSON.parse(JSON.stringify(nodes));\r\n        cacheNodes = flattenCollection(copyNodes, 'optgroup');\r\n\r\n        nodes = _.map(nodes, function (node) {\r\n            value = node.value;\r\n\r\n            if (value == null || value === '') {\r\n                if (_.isUndefined(caption)) {\r\n                    caption = node.label;\r\n                }\r\n            } else {\r\n                return node;\r\n            }\r\n        });\r\n\r\n        return {\r\n            options: _.compact(nodes),\r\n            cacheOptions: {\r\n                plain: _.compact(cacheNodes),\r\n                tree: _.compact(nodes)\r\n            }\r\n        };\r\n    }\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            options: [],\r\n            total: 0,\r\n            listVisible: false,\r\n            value: [],\r\n            filterOptions: false,\r\n            chipsEnabled: true,\r\n            itemsQuantity: '',\r\n            filterInputValue: '',\r\n            filterOptionsFocus: false,\r\n            multiselectFocus: false,\r\n            multiple: true,\r\n            selectType: 'tree',\r\n            lastSelectable: false,\r\n            showFilteredQuantity: true,\r\n            showCheckbox: true,\r\n            levelsVisibility: true,\r\n            openLevelsAction: true,\r\n            showOpenLevelsActionIcon: true,\r\n            optgroupLabels: false,\r\n            closeBtn: true,\r\n            showPath: true,\r\n            labelsDecoration: false,\r\n            disableLabel: false,\r\n            filterRateLimit: 500,\r\n            filterRateLimitMethod: 'notifyAtFixedRate',\r\n            closeBtnLabel: $t('Done'),\r\n            optgroupTmpl: 'ui/grid/filters/elements/ui-select-optgroup',\r\n            quantityPlaceholder: $t('options'),\r\n            hoverClass: '_hover',\r\n            rootListSelector: 'ul.admin__action-multiselect-menu-inner._root',\r\n            visibleOptionSelector: 'li.admin__action-multiselect-menu-inner-item:visible',\r\n            actionTargetSelector: '.action-menu-item',\r\n            selectedPlaceholders: {\r\n                defaultPlaceholder: $t('Select...'),\r\n                lotPlaceholders: $t('Selected')\r\n            },\r\n            separator: 'optgroup',\r\n            searchOptions: false,\r\n            loading: false,\r\n            searchUrl: false,\r\n            lastSearchKey: '',\r\n            lastSearchPage: 1,\r\n            filterPlaceholder: '',\r\n            emptyOptionsHtml: '',\r\n            cachedSearchResults: {},\r\n            pageLimit: 50,\r\n            deviation: 30,\r\n            validationLoading: false,\r\n            isRemoveSelectedIcon: false,\r\n            debounce: 300,\r\n            missingValuePlaceholder: $t('Entity with ID: %s doesn\\'t exist'),\r\n            isDisplayMissingValuePlaceholder: false,\r\n            currentSearchKey: '',\r\n            listens: {\r\n                listVisible: 'cleanHoveredElement',\r\n                filterInputValue: 'filterOptionsList',\r\n                options: 'checkOptionsList'\r\n            },\r\n            presets: {\r\n                single: {\r\n                    showCheckbox: false,\r\n                    chipsEnabled: false,\r\n                    closeBtn: false\r\n                },\r\n                optgroup: {\r\n                    showCheckbox: false,\r\n                    lastSelectable: true,\r\n                    optgroupLabels: true,\r\n                    openLevelsAction: false,\r\n                    labelsDecoration: true,\r\n                    showOpenLevelsActionIcon: false\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes UISelect component.\r\n         *\r\n         * @returns {UISelect} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            $.async(\r\n                this.rootListSelector,\r\n                this,\r\n                this.onRootListRender.bind(this)\r\n            );\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Parses options and merges the result with instance\r\n         * Set defaults according to mode and levels configuration\r\n         *\r\n         * @param  {Object} config\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initConfig: function (config) {\r\n            var result = parseOptions(config.options),\r\n                defaults = this.constructor.defaults,\r\n                multiple = _.isBoolean(config.multiple) ? config.multiple : defaults.multiple,\r\n                type = config.selectType || defaults.selectType,\r\n                showOpenLevelsActionIcon = _.isBoolean(config.showOpenLevelsActionIcon) ?\r\n                    config.showOpenLevelsActionIcon :\r\n                    defaults.showOpenLevelsActionIcon,\r\n                openLevelsAction = _.isBoolean(config.openLevelsAction) ?\r\n                    config.openLevelsAction :\r\n                    defaults.openLevelsAction;\r\n\r\n            multiple = !multiple ? 'single' : false;\r\n            config.showOpenLevelsActionIcon = showOpenLevelsActionIcon && openLevelsAction;\r\n            _.extend(config, result, defaults.presets[multiple], defaults.presets[type]);\r\n            this._super();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Check child optgroup\r\n         */\r\n        hasChildList: function () {\r\n            return _.find(this.options(), function (option) {\r\n                return !!option[this.separator];\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Check tree mode\r\n         */\r\n        isTree: function () {\r\n            return this.hasChildList() && this.selectType !== 'optgroup';\r\n        },\r\n\r\n        /**\r\n         * Add option to lastOptions array\r\n         *\r\n         * @param {Object} data\r\n         * @returns {Boolean}\r\n         */\r\n        addLastElement: function (data) {\r\n            if (!data.hasOwnProperty(this.separator)) {\r\n                !this.cacheOptions.lastOptions ? this.cacheOptions.lastOptions = [] : false;\r\n\r\n                if (!_.findWhere(\r\n                    this.cacheOptions.lastOptions,\r\n                        {\r\n                            value: data.value\r\n                        }\r\n                    )\r\n                ) {\r\n                    this.cacheOptions.lastOptions.push(data);\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Return empty options html\r\n         */\r\n        getEmptyOptionsUnsanitizedHtml: function () {\r\n            return this.emptyOptionsHtml;\r\n        },\r\n\r\n        /**\r\n         * Check options length and set to cache\r\n         * if some options is added\r\n         *\r\n         * @param {Array} options - ui select options\r\n         */\r\n        checkOptionsList: function (options) {\r\n            if (options.length > this.cacheOptions.plain.length) {\r\n                this.cacheOptions.plain = options;\r\n                this.setCaption();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check label decoration\r\n         */\r\n        isLabelDecoration: function (data) {\r\n            return data.hasOwnProperty(this.separator) && this.labelsDecoration;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent, initializes 'options' and 'initialOptions'\r\n         *     properties, calls 'setOptions' passing options to it\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super();\r\n            this.observe([\r\n                'listVisible',\r\n                'placeholder',\r\n                'multiselectFocus',\r\n                'options',\r\n                'itemsQuantity',\r\n                'filterInputValue',\r\n                'filterOptionsFocus',\r\n                'loading',\r\n                'validationLoading',\r\n                'isDisplayMissingValuePlaceholder'\r\n            ]);\r\n\r\n            this.filterInputValue.extend({\r\n                rateLimit: {\r\n                    timeout: this.filterRateLimit,\r\n                    method: this.filterRateLimitMethod\r\n                }\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * object with key - keyname and value - handler function for this key\r\n         *\r\n         * @returns {Object} Object with handlers function name.\r\n         */\r\n        keyDownHandlers: function () {\r\n            return {\r\n                enterKey: this.enterKeyHandler,\r\n                escapeKey: this.escapeKeyHandler,\r\n                spaceKey: this.enterKeyHandler,\r\n                pageUpKey: this.pageUpKeyHandler,\r\n                pageDownKey: this.pageDownKeyHandler\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Processing level visibility for levels\r\n         *\r\n         * @param {Object} data - element data\r\n         *\r\n         * @returns {Boolean} level visibility.\r\n         */\r\n        showLevels: function (data) {\r\n            var curLevel = ++data.level,\r\n                isVisible;\r\n\r\n            if (data.visible) {\r\n                isVisible = data.visible();\r\n            } else {\r\n                isVisible = !!data.hasOwnProperty(this.separator) &&\r\n                    _.isBoolean(this.levelsVisibility) &&\r\n                    this.levelsVisibility ||\r\n                    data.hasOwnProperty(this.separator) && parseInt(this.levelsVisibility, 10) >= curLevel;\r\n\r\n                data.visible = ko.observable(isVisible);\r\n                data.isVisited = isVisible;\r\n            }\r\n\r\n            return isVisible;\r\n        },\r\n\r\n        /**\r\n         * Processing level visibility for levels\r\n         *\r\n         * @param {Object} data - element data\r\n         *\r\n         * @returns {Boolean} level visibility.\r\n         */\r\n        getLevelVisibility: function (data) {\r\n            if (data.visible) {\r\n                return data.visible();\r\n            }\r\n\r\n            return this.showLevels(data);\r\n        },\r\n\r\n        /**\r\n         * Set option to options array.\r\n         *\r\n         * @param {Object} option\r\n         * @param {Array} options\r\n         */\r\n        setOption: function (option, options) {\r\n            var copyOptionsTree;\r\n\r\n            options = options || this.cacheOptions.tree;\r\n\r\n            _.each(options, function (opt) {\r\n                if (opt.value == option.parent) { //eslint-disable-line eqeqeq\r\n                    delete  option.parent;\r\n                    opt[this.separator] ? opt[this.separator].push(option) : opt[this.separator] = [option];\r\n                    copyOptionsTree = JSON.parse(JSON.stringify(this.cacheOptions.tree));\r\n                    this.cacheOptions.plain = flattenCollection(copyOptionsTree, this.separator);\r\n                    this.options(this.cacheOptions.tree);\r\n                } else if (opt[this.separator]) {\r\n                    this.setOption(option, opt[this.separator]);\r\n                }\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Handler outerClick event. Closed options list\r\n         */\r\n        outerClick: function () {\r\n            this.listVisible() ? this.listVisible(false) : false;\r\n\r\n            if (isTouchDevice) {\r\n                this.multiselectFocus(false);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler keydown event to filter options input\r\n         *\r\n         * @returns {Boolean} Returned true for emersion events\r\n         */\r\n        filterOptionsKeydown: function (data, event) {\r\n            var key = keyCodes[event.keyCode];\r\n\r\n            !this.isTabKey(event) ? event.stopPropagation() : false;\r\n\r\n            if (key === 'pageDownKey' || key === 'pageUpKey') {\r\n                event.preventDefault();\r\n                this.filterOptionsFocus(false);\r\n                this.cacheUiSelect.focus();\r\n            }\r\n\r\n            this.keydownSwitcher(data, event);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Filtered options list by value from filter options list\r\n         */\r\n        filterOptionsList: function () {\r\n            var value = this.filterInputValue().trim().toLowerCase(),\r\n                array = [];\r\n\r\n            if (this.searchOptions) {\r\n                return this.loadOptions(value);\r\n            }\r\n\r\n            this.cleanHoveredElement();\r\n\r\n            if (!value) {\r\n                this.renderPath = false;\r\n                this.options(this.cacheOptions.tree);\r\n                this._setItemsQuantity(false);\r\n\r\n                return false;\r\n            }\r\n\r\n            this.showPath ? this.renderPath = true : false;\r\n\r\n            if (this.filterInputValue()) {\r\n\r\n                array = this.selectType === 'optgroup' ?\r\n                    this._getFilteredArray(this.cacheOptions.lastOptions, value) :\r\n                    this._getFilteredArray(this.cacheOptions.plain, value);\r\n\r\n                if (!value.length) {\r\n                    this.options(this.cacheOptions.plain);\r\n                    this._setItemsQuantity(this.cacheOptions.plain.length);\r\n                } else {\r\n                    this.options(array);\r\n                    this._setItemsQuantity(array.length);\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            this.options(this.cacheOptions.plain);\r\n        },\r\n\r\n        /**\r\n         * Filtered options list by value from filter options list\r\n         *\r\n         * @param {Array} list - option list\r\n         * @param {String} value\r\n         *\r\n         * @returns {Array} filters result\r\n         */\r\n        _getFilteredArray: function (list, value) {\r\n            var i = 0,\r\n                array = [],\r\n                curOption;\r\n\r\n            for (i; i < list.length; i++) {\r\n                curOption = list[i].label.toLowerCase();\r\n\r\n                if (curOption.indexOf(value) > -1) {\r\n                    array.push(list[i]); /*eslint max-depth: [2, 4]*/\r\n                }\r\n            }\r\n\r\n            return array;\r\n        },\r\n\r\n        /**\r\n         * Get path to current option\r\n         *\r\n         * @param {Object} data - option data\r\n         * @returns {String} path\r\n         */\r\n        getPath: function (data) {\r\n            var pathParts,\r\n                createdPath = '';\r\n\r\n            if (this.renderPath) {\r\n                pathParts = data.path.split('.');\r\n                _.each(pathParts, function (curData) {\r\n                    createdPath = createdPath ? createdPath + ' / ' + curData : curData;\r\n                });\r\n\r\n                return createdPath;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set filtered items quantity\r\n         *\r\n         * @param {Object} data - option data\r\n         */\r\n        _setItemsQuantity: function (data) {\r\n            if (this.showFilteredQuantity) {\r\n                data || parseInt(data, 10) === 0 ?\r\n                    this.itemsQuantity(this.getItemsPlaceholder(data)) :\r\n                    this.itemsQuantity('');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Return formatted items placeholder.\r\n         *\r\n         * @param {Object} data - option data\r\n         * @returns {String}\r\n         */\r\n        getItemsPlaceholder: function (data) {\r\n            return data + ' ' + this.quantityPlaceholder;\r\n        },\r\n\r\n        /**\r\n         * Remove element from selected array\r\n         */\r\n        removeSelected: function (value, data, event) {\r\n            event ? event.stopPropagation() : false;\r\n            this.value.remove(value);\r\n        },\r\n\r\n        /**\r\n         * Checked key name\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isTabKey: function (event) {\r\n            return keyCodes[event.keyCode] === 'tabKey';\r\n        },\r\n\r\n        /**\r\n         * Clean hoveredElement variable\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        cleanHoveredElement: function () {\r\n            if (this.hoveredElement) {\r\n                $(this.hoveredElement)\r\n                    .children(this.actionTargetSelector)\r\n                    .removeClass(this.hoverClass);\r\n\r\n                this.hoveredElement = null;\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Check selected option\r\n         *\r\n         * @param {String} value - option value\r\n         * @return {Boolean}\r\n         */\r\n        isSelected: function (value) {\r\n            return this.multiple ? _.contains(this.value(), value) : this.value() === value;\r\n        },\r\n\r\n        /**\r\n         * Check selected option\r\n         *\r\n         * @param {Object} option - option value\r\n         * @return {Boolean}\r\n         */\r\n        isSelectedValue: function (option) {\r\n            if (_.isUndefined(option)) {\r\n                return false;\r\n            }\r\n\r\n            return this.isSelected(option.value);\r\n        },\r\n\r\n        /**\r\n         * Check optgroup label\r\n         *\r\n         * @param {Object} data - element data\r\n         * @return {Boolean}\r\n         */\r\n        isOptgroupLabels: function (data) {\r\n            return data.hasOwnProperty(this.separator) && this.optgroupLabels;\r\n        },\r\n\r\n        /**\r\n         * Check hovered option\r\n         *\r\n         * @param {Object} data - element data\r\n         * @return {Boolean}\r\n         */\r\n        isHovered: function (data) {\r\n            var element = this.hoveredElement,\r\n                elementData;\r\n\r\n            if (!element) {\r\n                return false;\r\n            }\r\n\r\n            elementData = ko.dataFor(this.hoveredElement);\r\n\r\n            if (_.isUndefined(elementData)) {\r\n                return false;\r\n            }\r\n\r\n            return data.value === elementData.value;\r\n        },\r\n\r\n        /**\r\n         * Toggle list visibility\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        toggleListVisible: function () {\r\n            this.listVisible(!this.disabled() && !this.listVisible());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Get selected element labels\r\n         *\r\n         * @returns {Array} array labels\r\n         */\r\n        getSelected: function () {\r\n            var selected = this.value();\r\n\r\n            return this.cacheOptions.plain.filter(function (opt) {\r\n                return _.isArray(selected) ?\r\n                    _.contains(selected, opt.value) :\r\n                selected == opt.value;//eslint-disable-line eqeqeq\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Toggle activity list element\r\n         *\r\n         * @param {Object} data - selected option data\r\n         * @returns {Object} Chainable\r\n         */\r\n        toggleOptionSelected: function (data) {\r\n            var isSelected = this.isSelected(data.value);\r\n\r\n            if (this.lastSelectable && data.hasOwnProperty(this.separator)) {\r\n                return this;\r\n            }\r\n\r\n            if (!this.multiple) {\r\n                if (!isSelected) {\r\n                    this.value(data.value);\r\n                }\r\n                this.listVisible(false);\r\n            } else {\r\n                if (!isSelected) { /*eslint no-lonely-if: 0*/\r\n                    this.value.push(data.value);\r\n                } else {\r\n                    this.value(_.without(this.value(), data.value));\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Change visibility to child level\r\n         *\r\n         * @param {Object} data - element data\r\n         */\r\n        openChildLevel: function (data) {\r\n            var contextElement = data,\r\n                isVisible;\r\n\r\n            if (\r\n                this.openLevelsAction &&\r\n                data.hasOwnProperty(this.separator) && _.isBoolean(this.levelsVisibility) ||\r\n                this.openLevelsAction &&\r\n                data.hasOwnProperty(this.separator) && parseInt(this.levelsVisibility, 10) <= data.level\r\n            ) {\r\n                isVisible = !contextElement.visible();\r\n\r\n                if (isVisible && !contextElement.isVisited) {\r\n                    contextElement.isVisited = true;\r\n                }\r\n\r\n                contextElement.visible(isVisible);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check selected elements\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            if (!this.value()) {\r\n                this.value([]);\r\n            }\r\n\r\n            return this.value() ? !!this.value().length : false;\r\n        },\r\n\r\n        /**\r\n         * Handles hover on list items.\r\n         *\r\n         * @param {Object} event - mousemove event\r\n         */\r\n        onDelegatedMouseMove: function (event) {\r\n            var target = $(event.currentTarget).closest(this.visibleOptionSelector)[0];\r\n\r\n            if (this.isCursorPositionChange(event) || this.hoveredElement === target) {\r\n                return;\r\n            }\r\n\r\n            this._hoverTo(target);\r\n            this.setCursorPosition(event);\r\n        },\r\n\r\n        /**\r\n         * Get option index\r\n         *\r\n         * @param {Object} data - object with data about this element\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getOptionIndex: function (data) {\r\n            var index;\r\n\r\n            _.each(this.cacheOptions.plain, function (opt, id) {\r\n                if (data.value === opt.value) {\r\n                    index = id;\r\n                }\r\n            });\r\n\r\n            return index;\r\n        },\r\n\r\n        /**\r\n         * Set X and Y cursor position\r\n         *\r\n         * @param {Object} event - mousemove event\r\n         */\r\n        setCursorPosition: function (event) {\r\n            this.cursorPosition = {\r\n                x: event.pageX,\r\n                y: event.pageY\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Check previous and current cursor position\r\n         *\r\n         * @param {Object} event - mousemove event\r\n         * @returns {Boolean}\r\n         */\r\n        isCursorPositionChange: function (event) {\r\n            return this.cursorPosition &&\r\n                this.cursorPosition.x === event.pageX &&\r\n                this.cursorPosition.y === event.pageY;\r\n        },\r\n\r\n        /**\r\n         * Set true to observable variable multiselectFocus\r\n         * @param {Object} ctx\r\n         * @param {Object} event - focus event\r\n         */\r\n        onFocusIn: function (ctx, event) {\r\n            !this.cacheUiSelect ? this.cacheUiSelect = event.target : false;\r\n            this.multiselectFocus(true);\r\n        },\r\n\r\n        /**\r\n         * Set false to observable variable multiselectFocus\r\n         * and close list\r\n         */\r\n        onFocusOut: function () {\r\n            this.multiselectFocus(false);\r\n        },\r\n\r\n        /**\r\n         * Handler enter key, if select list is closed - open select,\r\n         * if select list is open toggle selected current option\r\n         */\r\n        enterKeyHandler: function () {\r\n\r\n            if (this.filterOptionsFocus()) {\r\n                return false;\r\n            }\r\n\r\n            if (this.listVisible()) {\r\n                if (this.hoveredElement) {\r\n                    this.toggleOptionSelected(ko.dataFor(this.hoveredElement));\r\n                }\r\n            } else {\r\n                this.setListVisible(true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler escape key, if select list is open - closes it,\r\n         */\r\n        escapeKeyHandler: function () {\r\n            this.listVisible() ? this.setListVisible(false) : false;\r\n        },\r\n\r\n        /**\r\n         * Handler pageDown key, selected next option in list, if current option is last\r\n         * selected first option in list\r\n         */\r\n        pageDownKeyHandler: function () {\r\n            this._setHoverToElement(1);\r\n        },\r\n\r\n        /**\r\n         * Get jQuery element by option data\r\n         *\r\n         * @param {Object} data - option data\r\n         *\r\n         * @returns {Object} jQuery element\r\n         */\r\n        _getElemByData: function (data) {\r\n            var i = 0,\r\n                list = $(this.cacheUiSelect).find('li'),\r\n                length = this.options().length,\r\n                result;\r\n\r\n            for (i; i < length; i++) {\r\n                if (this.options()[i].value === data.value) {\r\n                    result = $(list[i]);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Set hover to visible element\r\n         *\r\n         * @param {Number} direction - iterator\r\n         */\r\n        _setHoverToElement: function (direction) {\r\n            var element;\r\n\r\n            if (direction ===  1) {\r\n                element = this._getNextElement();\r\n            } else if (direction === -1) {\r\n                element = this._getPreviousElement();\r\n            }\r\n\r\n            if (element) {\r\n                this._hoverTo(element);\r\n                this._scrollTo(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Find current hovered element\r\n         * and change scroll position\r\n         *\r\n         * @param {Number} element - element index\r\n         */\r\n        _scrollTo: function (element) {\r\n            var curEl = $(element).children(this.actionTargetSelector),\r\n                wrapper = $(this.rootList),\r\n                curElPos = {},\r\n                wrapperPos = {};\r\n\r\n            curElPos.start = curEl.offset().top;\r\n            curElPos.end = curElPos.start + curEl.outerHeight();\r\n\r\n            wrapperPos.start = wrapper.offset().top;\r\n            wrapperPos.end = wrapperPos.start + wrapper.height();\r\n\r\n            if (curElPos.start < wrapperPos.start) {\r\n                wrapper.scrollTop(wrapper.scrollTop() - (wrapperPos.start - curElPos.start));\r\n            } else if (curElPos.end > wrapperPos.end) {\r\n                wrapper.scrollTop(wrapper.scrollTop() + curElPos.end - wrapperPos.end);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler pageUp key, selected previous option in list, if current option is first -\r\n         * selected last option in list\r\n         */\r\n        pageUpKeyHandler: function () {\r\n            this._setHoverToElement(-1);\r\n        },\r\n\r\n        /**\r\n         * Switcher to parse keydown event and delegate event to needful method\r\n         *\r\n         * @param {Object} data - element data\r\n         * @param {Object} event - keydown event\r\n         * @returns {Boolean} if handler for this event doesn't found return true\r\n         */\r\n        keydownSwitcher: function (data, event) {\r\n            var keyName = keyCodes[event.keyCode];\r\n\r\n            if (this.isTabKey(event)) {\r\n                if (!this.filterOptionsFocus() && this.listVisible() && this.filterOptions) {\r\n                    this.cacheUiSelect.trigger('blur');\r\n                    this.filterOptionsFocus(true);\r\n                    this.cleanHoveredElement();\r\n\r\n                    return false;\r\n                }\r\n                this.listVisible(false);\r\n\r\n                return true;\r\n            }\r\n\r\n            if (this.keyDownHandlers().hasOwnProperty(keyName)) {\r\n                this.keyDownHandlers()[keyName].apply(this, arguments);\r\n            } else {\r\n                return true;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set caption\r\n         */\r\n        setCaption: function () {\r\n            var length, caption = '';\r\n\r\n            if (!_.isArray(this.value()) && this.value()) {\r\n                length = 1;\r\n            } else if (this.value()) {\r\n                length = this.value().length;\r\n            } else {\r\n                this.value([]);\r\n                length = 0;\r\n            }\r\n            this.warn(caption);\r\n\r\n            //check if option was removed\r\n            if (this.isDisplayMissingValuePlaceholder && length && !this.getSelected().length) {\r\n                caption = this.missingValuePlaceholder.replace('%s', this.value());\r\n                this.placeholder(caption);\r\n                this.warn(caption);\r\n\r\n                return this.placeholder();\r\n            }\r\n\r\n            if (length > 1) {\r\n                this.placeholder(length + ' ' + this.selectedPlaceholders.lotPlaceholders);\r\n            } else if (length && this.getSelected().length) {\r\n                this.placeholder(this.getSelected()[0].label);\r\n            } else {\r\n                this.placeholder(this.selectedPlaceholders.defaultPlaceholder);\r\n            }\r\n\r\n            return this.placeholder();\r\n        },\r\n\r\n        /**\r\n         * Set list status, open or close\r\n         *\r\n         * @param {Boolean} value - variable for set list visible status\r\n         */\r\n        setListVisible: function (value) {\r\n            this.listVisible(value);\r\n        },\r\n\r\n        /**\r\n         * Processes preview for option by it's value, and sets the result\r\n         * to 'preview' observable\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getPreview: function () {\r\n            var selected = this.getSelected();\r\n\r\n            return selected.map(function (option) {\r\n                return option.label;\r\n            }).join(', ');\r\n        },\r\n\r\n        /**\r\n         * Defines previous option element to\r\n         * the one that is currently hovered.\r\n         *\r\n         * @returns {Element}\r\n         */\r\n        _getPreviousElement: function () {\r\n            var currentElement = this.hoveredElement,\r\n                lastElement    = this._getLastIn(this.rootList),\r\n                previousElement;\r\n\r\n            if (!currentElement) {\r\n                return lastElement;\r\n            }\r\n\r\n            previousElement = $(currentElement).prev()[0];\r\n\r\n            return this._getLastIn(previousElement) ||\r\n                previousElement ||\r\n                this._getFirstParentOf(currentElement) ||\r\n                lastElement;\r\n        },\r\n\r\n        /**\r\n         * Defines next option element to\r\n         * the one that is currently hovered.\r\n         *\r\n         * @returns {Element}\r\n         */\r\n        _getNextElement: function () {\r\n            var currentElement = this.hoveredElement,\r\n                firstElement   = this._getFirstIn(this.rootList);\r\n\r\n            if (!currentElement) {\r\n                return firstElement;\r\n            }\r\n\r\n            return this._getFirstIn(currentElement) ||\r\n                $(currentElement).next()[0] ||\r\n                this._getParentsOf(currentElement).next()[0] ||\r\n                firstElement;\r\n        },\r\n\r\n        /**\r\n         * Returns first option element in provided scope.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {Element}\r\n         */\r\n        _getFirstIn: function (scope) {\r\n            return $(scope).find(this.visibleOptionSelector)[0];\r\n        },\r\n\r\n        /**\r\n         * Returns last descendant option element in provided scope.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {Element}\r\n         */\r\n        _getLastIn: function (scope) {\r\n            return $(scope).find(this.visibleOptionSelector).last()[0];\r\n        },\r\n\r\n        /**\r\n         * Returns a collection of parent option elements.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {jQueryCollection}\r\n         */\r\n        _getParentsOf: function (scope) {\r\n            return $(scope).parents(this.visibleOptionSelector);\r\n        },\r\n\r\n        /**\r\n         * Returns first parent option element.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {Element}\r\n         */\r\n        _getFirstParentOf: function (scope) {\r\n            return this._getParentsOf(scope)[0];\r\n        },\r\n\r\n        /**\r\n         * Sets hover class to provided option element.\r\n         *\r\n         * @param {Element} element\r\n         */\r\n        _hoverTo: function (element) {\r\n            if (this.hoveredElement) {\r\n                $(this.hoveredElement)\r\n                    .children(this.actionTargetSelector)\r\n                    .removeClass(this.hoverClass);\r\n            }\r\n\r\n            $(element)\r\n                .children(this.actionTargetSelector)\r\n                .addClass(this.hoverClass);\r\n\r\n            this.hoveredElement = element;\r\n        },\r\n\r\n        /**\r\n         * Callback which fires when root list element is rendered.\r\n         *\r\n         * @param {Element} element\r\n         */\r\n        onRootListRender: function (element) {\r\n            var targetSelector = 'li > ' + this.actionTargetSelector;\r\n\r\n            this.rootList = element;\r\n\r\n            $(this.rootList).on(\r\n                'mousemove',\r\n                targetSelector,\r\n                this.onDelegatedMouseMove.bind(this)\r\n            );\r\n        },\r\n\r\n        /**\r\n         * Returns options from cache or send request\r\n         *\r\n         * @param {String} searchKey\r\n         */\r\n        loadOptions: function (searchKey) {\r\n            var currentPage = searchKey === this.lastSearchKey ? this.lastSearchPage + 1 : 1,\r\n                cachedSearchResult;\r\n\r\n            this.renderPath = !!this.showPath;\r\n\r\n            if (this.isSearchKeyCached(searchKey)) {\r\n                cachedSearchResult = this.getCachedSearchResults(searchKey);\r\n                this.cacheOptions.plain = cachedSearchResult.options;\r\n                this.options(cachedSearchResult.options);\r\n                this.afterLoadOptions(searchKey, cachedSearchResult.lastPage, cachedSearchResult.total);\r\n\r\n                return;\r\n            }\r\n\r\n            if (currentPage === 1) {\r\n                this.options([]);\r\n            }\r\n            this.processRequest(searchKey, currentPage);\r\n        },\r\n\r\n        /**\r\n         * Load more options on scroll down\r\n         * @param {Object} data\r\n         * @param {Event} event\r\n         */\r\n        onScrollDown: function (data, event) {\r\n            var clientHight = event.target.scrollTop + event.target.clientHeight,\r\n                scrollHeight = event.target.scrollHeight;\r\n\r\n            if (!this.searchOptions) {\r\n                return;\r\n            }\r\n\r\n            if (clientHight > scrollHeight - this.deviation && !this.isSearchKeyCached(data.filterInputValue())) {\r\n                this.loadOptions(data.filterInputValue());\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns cached search result by search key\r\n         *\r\n         * @param {String} searchKey\r\n         * @return {Object}\r\n         */\r\n        getCachedSearchResults: function (searchKey) {\r\n            if (this.cachedSearchResults.hasOwnProperty(searchKey)) {\r\n                return this.cachedSearchResults[searchKey];\r\n            }\r\n\r\n            return {\r\n                options: [],\r\n                lastPage: 1,\r\n                total: 0\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Cache loaded data\r\n         *\r\n         * @param {String} searchKey\r\n         * @param {Array} optionsArray\r\n         * @param {Number} page\r\n         * @param {Number} total\r\n         */\r\n        setCachedSearchResults: function (searchKey, optionsArray, page, total) {\r\n            var cachedData = {};\r\n\r\n            cachedData.options = optionsArray;\r\n            cachedData.lastPage = page;\r\n            cachedData.total = total;\r\n            this.cachedSearchResults[searchKey] = cachedData;\r\n        },\r\n\r\n        /**\r\n         * Check if search key cached\r\n         *\r\n         * @param {String} searchKey\r\n         * @return {Boolean}\r\n         */\r\n        isSearchKeyCached: function (searchKey) {\r\n            var totalCached = this.cachedSearchResults.hasOwnProperty(searchKey) ?\r\n                this.deviation * this.cachedSearchResults[searchKey].lastPage :\r\n                0;\r\n\r\n            return totalCached > 0 && totalCached >= this.cachedSearchResults[searchKey].total;\r\n        },\r\n\r\n        /**\r\n         * Submit request to load data\r\n         *\r\n         * @param {String} searchKey\r\n         * @param {Number} page\r\n         */\r\n        processRequest: function (searchKey, page) {\r\n            this.loading(true);\r\n            this.currentSearchKey = searchKey;\r\n            $.ajax({\r\n                url: this.searchUrl,\r\n                type: 'get',\r\n                dataType: 'json',\r\n                context: this,\r\n                data: {\r\n                    searchKey: searchKey,\r\n                    page: page,\r\n                    limit: this.pageLimit\r\n                },\r\n                success: $.proxy(this.success, this),\r\n                error: $.proxy(this.error, this),\r\n                beforeSend: $.proxy(this.beforeSend, this),\r\n                complete: $.proxy(this.complete, this, searchKey, page)\r\n            });\r\n        },\r\n\r\n        /** @param {Object} response */\r\n        success: function (response) {\r\n            var existingOptions = this.options();\r\n\r\n            _.each(response.options, function (opt) {\r\n                existingOptions.push(opt);\r\n            });\r\n\r\n            this.total = response.total;\r\n            this.cacheOptions.plain = existingOptions;\r\n            this.options(existingOptions);\r\n        },\r\n\r\n        /** add actions before ajax request */\r\n        beforeSend: function () {\r\n\r\n        },\r\n\r\n        /** set empty array if error occurs */\r\n        error: function () {\r\n            this.options([]);\r\n        },\r\n\r\n        /** cache options and stop loading*/\r\n        complete: function (searchKey, page) {\r\n            this.setCachedSearchResults(searchKey, this.options(), page, this.total);\r\n            this.afterLoadOptions(searchKey, page, this.total);\r\n        },\r\n\r\n        /**\r\n         * Stop loading and update data after options were updated\r\n         *\r\n         * @param {String} searchKey\r\n         * @param {Number} page\r\n         * @param {Number} total\r\n         */\r\n        afterLoadOptions: function (searchKey, page, total) {\r\n            this.lastSearchKey = searchKey;\r\n            this.lastSearchPage = page;\r\n            this._setItemsQuantity(total);\r\n            this.loading(false);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/url-input.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiLayout',\r\n    'mage/translate',\r\n    'Magento_Ui/js/form/element/abstract'\r\n], function (_, layout, $t, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            linkedElement: {},\r\n            settingTemplate: 'ui/form/element/urlInput/setting',\r\n            typeSelectorTemplate: 'ui/form/element/urlInput/typeSelector',\r\n            options: [],\r\n            linkedElementInstances: {},\r\n            //checkbox\r\n            isDisplayAdditionalSettings: true,\r\n            settingValue: false,\r\n            settingLabel: $t('Open in new tab'),\r\n            tracks: {\r\n                linkedElement: true\r\n            },\r\n            baseLinkSetting: {\r\n                namePrefix: '${$.name}.',\r\n                dataScopePrefix: '${$.dataScope}.',\r\n                provider: '${$.provider}'\r\n            },\r\n            urlTypes: {},\r\n            listens: {\r\n                settingValue: 'checked',\r\n                disabled: 'hideLinkedElement',\r\n                linkType: 'createChildUrlInputComponent'\r\n            },\r\n            links: {\r\n                linkType: '${$.provider}:${$.dataScope}.type',\r\n                settingValue: '${$.provider}:${$.dataScope}.setting'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function (config) {\r\n            var processedLinkTypes = {},\r\n                baseLinkType = this.constructor.defaults.baseLinkSetting;\r\n\r\n            _.each(config.urlTypes, function (linkSettingsArray, linkName) {\r\n                //add link name by link type\r\n                linkSettingsArray.name = baseLinkType.namePrefix + linkName;\r\n                linkSettingsArray.dataScope = baseLinkType.dataScopePrefix + linkName;\r\n                linkSettingsArray.type = linkName;\r\n                linkSettingsArray.disabled = config.disabled;\r\n                linkSettingsArray.visible = config.visible;\r\n                processedLinkTypes[linkName] = {};\r\n                _.extend(processedLinkTypes[linkName], baseLinkType, linkSettingsArray);\r\n            });\r\n            _.extend(this.constructor.defaults.urlTypes, processedLinkTypes);\r\n\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('componentTemplate options value linkType settingValue checked isDisplayAdditionalSettings')\r\n                .setOptions();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set options to select based on link types configuration\r\n         *\r\n         * @return {Object}\r\n         */\r\n        setOptions: function () {\r\n            var result = [];\r\n\r\n            _.each(this.urlTypes, function (option, key) {\r\n                result.push({\r\n                    value: key,\r\n                    label: option.label,\r\n                    sortOrder: option.sortOrder || 0\r\n                });\r\n            });\r\n\r\n            //sort options by sortOrder\r\n            result.sort(function (a, b) {\r\n                return a.sortOrder > b.sortOrder ? 1 : -1;\r\n            });\r\n\r\n            this.options(result);\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        setPreview: function (visible) {\r\n            this.linkedElement().visible(visible);\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @param {Boolean} disabled\r\n         */\r\n        hideLinkedElement: function (disabled) {\r\n            this.linkedElement().disabled(disabled);\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        destroy: function () {\r\n            _.each(this.linkedElementInstances, function (value) {\r\n                value().destroy();\r\n            });\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Create child component by value\r\n         *\r\n         * @param {String} value\r\n         * @return void\r\n         */\r\n        createChildUrlInputComponent: function (value) {\r\n            var elementConfig;\r\n\r\n            if (!_.isEmpty(value) && _.isUndefined(this.linkedElementInstances[value])) {\r\n                elementConfig = this.urlTypes[value];\r\n                layout([elementConfig]);\r\n                this.linkedElementInstances[value] = this.requestModule(elementConfig.name);\r\n            }\r\n            this.linkedElement = this.linkedElementInstances[value];\r\n\r\n        },\r\n\r\n        /**\r\n         * Returns linked element to display related field in template\r\n         * @return String\r\n         */\r\n        getLinkedElementName: function () {\r\n            return this.linkedElement;\r\n        },\r\n\r\n        /**\r\n         * Add ability to choose check box by clicking on label\r\n         */\r\n        checkboxClick: function () {\r\n            if (!this.disabled()) {\r\n                this.settingValue(!this.settingValue());\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/website.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    './select'\r\n], function (_, registry, Select) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            customerId: null,\r\n            isGlobalScope: 0\r\n        },\r\n\r\n        /**\r\n         * Website component constructor.\r\n         * @returns {exports}\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/wysiwyg.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'wysiwygAdapter',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'ko',\r\n    './abstract',\r\n    'mage/adminhtml/events',\r\n    'Magento_Variable/variables'\r\n], function (wysiwyg, $, _, ko, Abstract, varienGlobalEvents) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        currentWysiwyg: undefined,\r\n        defaults: {\r\n            elementSelector: 'textarea',\r\n            suffixRegExpPattern: '${ $.wysiwygUniqueSuffix }',\r\n            $wysiwygEditorButton: '',\r\n            links: {\r\n                value: '${ $.provider }:${ $.dataScope }'\r\n            },\r\n            template: 'ui/form/field',\r\n            elementTmpl: 'ui/form/element/wysiwyg',\r\n            content:        '',\r\n            showSpinner:    false,\r\n            loading:        false,\r\n            listens: {\r\n                disabled: 'setDisabled'\r\n            }\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns {} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initNodeListener();\r\n\r\n            $.async({\r\n                component: this,\r\n                selector: 'button'\r\n            }, function (element) {\r\n                this.$wysiwygEditorButton = this.$wysiwygEditorButton ?\r\n                    this.$wysiwygEditorButton.add($(element)) : $(element);\r\n            }.bind(this));\r\n\r\n            // disable editor completely after initialization is field is disabled\r\n            varienGlobalEvents.attachEventHandler('wysiwygEditorInitialized', function () {\r\n                if (!_.isUndefined(window.tinyMceEditors)) {\r\n                    this.currentWysiwyg = window.tinyMceEditors[this.wysiwygId];\r\n                }\r\n\r\n                if (this.disabled()) {\r\n                    this.setDisabled(true);\r\n                }\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function (config) {\r\n            var pattern = config.suffixRegExpPattern || this.constructor.defaults.suffixRegExpPattern;\r\n\r\n            pattern = pattern.replace(/\\$/g, '\\\\$&');\r\n            config.content = config.content.replace(new RegExp(pattern, 'g'), this.getUniqueSuffix(config));\r\n            this._super();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Build unique id based on name, underscore separated.\r\n         *\r\n         * @param {Object} config\r\n         */\r\n        getUniqueSuffix: function (config) {\r\n            return config.name.replace(/(\\.|-)/g, '_');\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        destroy: function () {\r\n            this._super();\r\n            wysiwyg.removeEvents(this.wysiwygId);\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns {exports}\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe(['value', 'content']);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns {} Chainable.\r\n         */\r\n        initNodeListener: function () {\r\n            $.async({\r\n                component: this,\r\n                selector: this.elementSelector\r\n            }, this.setElementNode.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setElementNode: function (node) {\r\n            $(node).bindings({\r\n                value: this.value\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Set disabled property to wysiwyg component\r\n         *\r\n         * @param {Boolean} disabled\r\n         */\r\n        setDisabled: function (disabled) {\r\n            if (this.$wysiwygEditorButton && disabled) {\r\n                this.$wysiwygEditorButton.prop('disabled', 'disabled');\r\n            } else if (this.$wysiwygEditorButton) {\r\n                this.$wysiwygEditorButton.prop('disabled', false);\r\n            }\r\n\r\n            /* eslint-disable no-undef */\r\n            if (!_.isUndefined(this.currentWysiwyg) && this.currentWysiwyg.activeEditor()) {\r\n                this.currentWysiwyg.setEnabledStatus(!disabled);\r\n                this.currentWysiwyg.getPluginButtons().prop('disabled', disabled);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Content getter\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getContentUnsanitizedHtml: function () {\r\n            return this.content();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/data-storage.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiClass'\r\n], function ($, _, utils, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            cacheRequests: true,\r\n            cachedRequestDelay: 50,\r\n            indexField: 'entity_id',\r\n            requestConfig: {\r\n                url: '${ $.updateUrl }',\r\n                method: 'GET',\r\n                dataType: 'json'\r\n            },\r\n            dataScope: '',\r\n            data: {}\r\n        },\r\n\r\n        /**\r\n         * Initializes dataStorage configuration.\r\n         *\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            var scope;\r\n\r\n            this._super();\r\n\r\n            scope = this.dataScope;\r\n\r\n            if (typeof scope === 'string') {\r\n                this.dataScope = scope ? [scope] : [];\r\n            }\r\n\r\n            this._requests = [];\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extracts data which matches specified set of identifiers.\r\n         *\r\n         * @param {Array} ids - Records identifiers.\r\n         * @returns {Array|Boolean}\r\n         */\r\n        getByIds: function (ids) {\r\n            var result = [],\r\n                hasData;\r\n\r\n            hasData = ids.every(function (id) {\r\n                var item = this.data[id];\r\n\r\n                return item ? result.push(item) : false;\r\n            }, this);\r\n\r\n            return hasData ? result : false;\r\n        },\r\n\r\n        /**\r\n         * Extracts identifiers of provided records.\r\n         * If no records were provided then full list of\r\n         * current data id's will be returned.\r\n         *\r\n         * @param {Object|Array} [data=this.data]\r\n         * @returns {Array}\r\n         */\r\n        getIds: function (data) {\r\n            data = data || this.data;\r\n\r\n            return _.pluck(data, this.indexField);\r\n        },\r\n\r\n        /**\r\n         * Extracts data which matches specified parameters.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @param {Object} [options={}]\r\n         * @returns {jQueryPromise}\r\n         */\r\n        getData: function (params, options) {\r\n            var cachedRequest;\r\n\r\n            if (this.hasScopeChanged(params)) {\r\n                this.clearRequests();\r\n            } else {\r\n                cachedRequest = this.getRequest(params);\r\n            }\r\n\r\n            options = options || {};\r\n\r\n            return !options.refresh && cachedRequest ?\r\n                this.getRequestData(cachedRequest) :\r\n                this.requestData(params);\r\n        },\r\n\r\n        /**\r\n         * Tells whether one of the parameters defined in the \"dataScope\" has\r\n         * changed since the last request.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {Boolean}\r\n         */\r\n        hasScopeChanged: function (params) {\r\n            var lastRequest = _.last(this._requests),\r\n                keys,\r\n                diff;\r\n\r\n            if (!lastRequest) {\r\n                return false;\r\n            }\r\n\r\n            diff = utils.compare(lastRequest.params, params);\r\n\r\n            keys = _.pluck(diff.changes, 'path');\r\n            keys = keys.concat(Object.keys(diff.containers));\r\n\r\n            return _.intersection(this.dataScope, keys).length > 0;\r\n        },\r\n\r\n        /**\r\n         * Extends records of current data object\r\n         * with the provided records collection.\r\n         *\r\n         * @param {Array} data - An array of records.\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        updateData: function (data) {\r\n            var records = _.indexBy(data || [], this.indexField);\r\n\r\n            _.extend(this.data, records);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sends request to the server with provided parameters.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        requestData: function (params) {\r\n            var query = utils.copy(params),\r\n                handler = this.onRequestComplete.bind(this, query),\r\n                request;\r\n\r\n            this.requestConfig.data = query;\r\n            request = $.ajax(this.requestConfig).done(handler);\r\n\r\n            return request;\r\n        },\r\n\r\n        /**\r\n         * Returns request's instance which\r\n         * contains provided parameters.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {Object} Instance of request.\r\n         */\r\n        getRequest: function (params) {\r\n            return _.find(this._requests, function (request) {\r\n                return _.isEqual(params, request.params);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Forms data object associated with provided request.\r\n         *\r\n         * @param {Object} request - Request object.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        getRequestData: function (request) {\r\n            var defer = $.Deferred(),\r\n                resolve = defer.resolve.bind(defer),\r\n                delay = this.cachedRequestDelay,\r\n                result;\r\n\r\n            result = {\r\n                items: this.getByIds(request.ids),\r\n                totalRecords: request.totalRecords,\r\n                errorMessage: request.errorMessage\r\n            };\r\n\r\n            delay ?\r\n                _.delay(resolve, delay, result) :\r\n                resolve(result);\r\n\r\n            return defer.promise();\r\n        },\r\n\r\n        /**\r\n         * Caches requests object with provided parameters\r\n         * and data object associated with it.\r\n         *\r\n         * @param {Object} data - Data associated with request.\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        cacheRequest: function (data, params) {\r\n            var cached = this.getRequest(params);\r\n\r\n            if (cached) {\r\n                this.removeRequest(cached);\r\n            }\r\n\r\n            this._requests.push({\r\n                ids: this.getIds(data.items),\r\n                params: params,\r\n                totalRecords: data.totalRecords,\r\n                errorMessage: data.errorMessage\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears all cached requests.\r\n         *\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        clearRequests: function () {\r\n            this._requests.splice(0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes provided request object from cached requests list.\r\n         *\r\n         * @param {Object} request - Request object.\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        removeRequest: function (request) {\r\n            var requests = this._requests,\r\n                index = requests.indexOf(request);\r\n\r\n            if (~index) {\r\n                requests.splice(index, 1);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if request with a specified parameters was cached.\r\n         *\r\n         * @param {Object} params - Parameters of the request.\r\n         * @returns {Boolean}\r\n         */\r\n        wasRequested: function (params) {\r\n            return !!this.getRequest(params);\r\n        },\r\n\r\n        /**\r\n         * Handles successful data request.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @param {Object} data - Response data.\r\n         */\r\n        onRequestComplete: function (params, data) {\r\n            this.updateData(data.items);\r\n\r\n            if (this.cacheRequests) {\r\n                this.cacheRequest(data, params);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/dnd.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'uiRegistry',\r\n    'uiClass'\r\n], function (ko, $, _, registry, Class) {\r\n    'use strict';\r\n\r\n    var isTouchDevice = typeof document.ontouchstart !== 'undefined',\r\n        transformProp;\r\n\r\n    /**\r\n     * Defines supported css 'transform' property.\r\n     *\r\n     * @returns {String|Undefined}\r\n     */\r\n    transformProp = (function () {\r\n        var style = document.body.style,\r\n            base = 'Transform',\r\n            vendors = ['webkit', 'moz', 'ms', 'o'],\r\n            vi = vendors.length,\r\n            property;\r\n\r\n        if (typeof style.transform != 'undefined') {\r\n            return 'transform';\r\n        }\r\n\r\n        while (vi--) {\r\n            property = vendors[vi] + base;\r\n\r\n            if (typeof style[property] != 'undefined') {\r\n                return property;\r\n            }\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * Returns first touch data if it's available.\r\n     *\r\n     * @param {(MouseEvent|TouchEvent)} e - Event object.\r\n     * @returns {Object}\r\n     */\r\n    function getTouch(e) {\r\n        return e.touches ? e.touches[0] : e;\r\n    }\r\n\r\n    /**\r\n     * Moves specified DOM element to the x and y coordinates.\r\n     *\r\n     * @param {HTMLElement} elem - Element to be relocated.\r\n     * @param {Number} x - X coordinate.\r\n     * @param {Number} y - Y coordinate.\r\n     */\r\n    function locate(elem, x, y) {\r\n        var value = 'translate(' + x + 'px,' + y + 'px)';\r\n\r\n        elem.style[transformProp] = value;\r\n    }\r\n\r\n    /*eslint-disable no-extra-parens*/\r\n    /**\r\n     * Checks if specified coordinate is inside of the provided area.\r\n     *\r\n     * @param {Number} x - X coordinate.\r\n     * @param {Number} y - Y coordinate.\r\n     * @param {Object} area - Object which represents area.\r\n     * @returns {Boolean}\r\n     */\r\n    function isInside(x, y, area) {\r\n        return (\r\n            area &&\r\n            x >= area.left && x <= area.right &&\r\n            y >= area.top && y <= area.bottom\r\n        );\r\n    }\r\n\r\n    /*eslint-enable no-extra-parens*/\r\n\r\n    /**\r\n     * Calculates distance between two points.\r\n     *\r\n     * @param {Number} x1 - X coordinate of a first point.\r\n     * @param {Number} y1 - Y coordinate of a first point.\r\n     * @param {Number} x2 - X coordinate of a second point.\r\n     * @param {Number} y2 - Y coordinate of a second point.\r\n     * @returns {Number} Distance between points.\r\n     */\r\n    function distance(x1, y1, x2, y2) {\r\n        var dx = x2 - x1,\r\n            dy = y2 - y1;\r\n\r\n        dx *= dx;\r\n        dy *= dy;\r\n\r\n        return Math.sqrt(dx + dy);\r\n    }\r\n\r\n    /**\r\n     * Returns viewModel associated with a provided DOM element.\r\n     *\r\n     * @param {HTMLElement} elem\r\n     * @returns {Object|Array}\r\n     */\r\n    function getModel(elem) {\r\n        return ko.dataFor(elem);\r\n    }\r\n\r\n    /**\r\n     * Checks whether cols are identical\r\n     *\r\n     * @param {HTMLElement} c1\r\n     * @param {HTMLElement} c2\r\n     * @returns {Boolean}\r\n     */\r\n    function compareCols(c1, c2) {\r\n        return c1.cellIndex === c2.cellIndex;\r\n    }\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            rootSelector: '${ $.columnsProvider }:.admin__data-grid-wrap',\r\n            tableSelector: '${ $.rootSelector } -> table.data-grid',\r\n            mainTableSelector: '[data-role=\"grid\"]',\r\n            columnSelector: '${ $.tableSelector } thead tr th',\r\n            noSelectClass: '_no-select',\r\n            hiddenClass: '_hidden',\r\n            fixedX: false,\r\n            fixedY: true,\r\n            minDistance: 2,\r\n            columns: []\r\n        },\r\n\r\n        /**\r\n         * Initializes Dnd component.\r\n         *\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'initTable',\r\n                'initColumn',\r\n                'removeColumn',\r\n                'onMouseMove',\r\n                'onMouseUp',\r\n                'onMouseDown'\r\n            );\r\n\r\n            this.$body = $('body');\r\n\r\n            this._super()\r\n                .initListeners();\r\n\r\n            $.async(this.tableSelector, this.initTable);\r\n            $.async(this.columnSelector, this.initColumn);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Binds necessary events listeners.\r\n         *\r\n         * @returns {Dnd} Chainbale.\r\n         */\r\n        initListeners: function () {\r\n            if (isTouchDevice) {\r\n                $(document).on({\r\n                    touchmove: this.onMouseMove,\r\n                    touchend: this.onMouseUp,\r\n                    touchleave: this.onMouseUp\r\n                });\r\n            } else {\r\n                $(document).on({\r\n                    mousemove: this.onMouseMove,\r\n                    mouseup: this.onMouseUp\r\n                });\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines specified table element as a main container.\r\n         *\r\n         * @param {HTMLTableElement} table\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        initTable: function (table) {\r\n            this.table =  $(table).is(this.mainTableSelector) ?  table : this.table;\r\n\r\n            $(table).addClass('data-grid-draggable');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets specified column as a draggable element.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} column - Columns header element.\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        initColumn: function (column) {\r\n            var model = getModel(column),\r\n                eventName;\r\n\r\n            if (!model || !model.draggable) {\r\n                return this;\r\n            }\r\n\r\n            if (!ko.es5.isTracked(model, 'dragover')) {\r\n                model.track('dragover');\r\n            }\r\n\r\n            this.columns.push(column);\r\n\r\n            $(column).bindings({\r\n                css: {\r\n                    '_dragover-left': ko.computed(function () {\r\n                        return model.dragover === 'right';\r\n                    }),\r\n                    '_dragover-right': ko.computed(function () {\r\n                        return model.dragover === 'left';\r\n                    })\r\n                }\r\n            });\r\n\r\n            eventName = isTouchDevice ?\r\n                'touchstart' :\r\n                'mousedown';\r\n\r\n            $(column).on(eventName, this.onMouseDown);\r\n            $.async.remove(column, this.removeColumn);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified column element from the columns array.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} column - Columns header element.\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        removeColumn: function (column) {\r\n            var columns = this.columns,\r\n                index = columns.indexOf(column);\r\n\r\n            if (~index) {\r\n                columns.splice(index, 1);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns index of column.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} elem\r\n         * @returns {Number}\r\n         */\r\n        _getColumnIndex: function (elem) {\r\n            return _.toArray(elem.parentNode.cells).indexOf(elem);\r\n        },\r\n\r\n        /**\r\n         * Calculates coordinates of draggable elements.\r\n         *\r\n         * @returns {Dnd} Chainbale.\r\n         */\r\n        _cacheCoords: function () {\r\n            var container   = this.table.getBoundingClientRect(),\r\n                bodyRect    = document.body.getBoundingClientRect(),\r\n                grabbed     = this.grabbed,\r\n                dragElem    = grabbed.elem,\r\n                cells       = _.toArray(dragElem.parentNode.cells),\r\n                rect;\r\n\r\n            this.coords = this.columns.map(function (column) {\r\n                var data,\r\n                    colIndex = _.findIndex(cells, function (cell) {\r\n                        return compareCols(cell, column);\r\n                    });\r\n\r\n                rect = column.getBoundingClientRect();\r\n\r\n                data = {\r\n                    index: colIndex,\r\n                    target: column,\r\n                    orig: rect,\r\n                    left: rect.left - bodyRect.left,\r\n                    right: rect.right - bodyRect.left,\r\n                    top: rect.top - bodyRect.top,\r\n                    bottom: container.bottom - bodyRect.top\r\n                };\r\n\r\n                if (column === dragElem) {\r\n                    this.dragArea = data;\r\n\r\n                    grabbed.shiftX = rect.left - grabbed.x;\r\n                    grabbed.shiftY = rect.top - grabbed.y;\r\n                }\r\n\r\n                return data;\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates clone of a target table with only specified column visible.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} elem - Dragging column.\r\n         * @returns {Dnd} Chainbale.\r\n         */\r\n        _cloneTable: function (elem) {\r\n            var clone       = this.table.cloneNode(true),\r\n                columnIndex = this._getColumnIndex(elem),\r\n                headRow     = clone.tHead.firstElementChild,\r\n                headCells   = _.toArray(headRow.cells),\r\n                tableBody   = clone.tBodies[0],\r\n                bodyRows    = _.toArray(tableBody.children),\r\n                origTrs     = this.table.tBodies[0].children;\r\n\r\n            clone.style.width = elem.offsetWidth + 'px';\r\n\r\n            headCells.forEach(function (th, index) {\r\n                if (index !== columnIndex) {\r\n                    headRow.removeChild(th);\r\n                }\r\n            });\r\n\r\n            headRow.cells[0].style.height = elem.offsetHeight + 'px';\r\n\r\n            bodyRows.forEach(function (row, rowIndex) {\r\n                var cells = row.cells,\r\n                    cell;\r\n\r\n                if (cells.length !== headCells.length) {\r\n                    tableBody.removeChild(row);\r\n\r\n                    return;\r\n                }\r\n\r\n                cell = row.cells[columnIndex].cloneNode(true);\r\n\r\n                while (row.firstElementChild) {\r\n                    row.removeChild(row.firstElementChild);\r\n                }\r\n\r\n                cell.style.height = origTrs[rowIndex].cells[columnIndex].offsetHeight + 'px';\r\n\r\n                row.appendChild(cell);\r\n            });\r\n\r\n            this.dragTable = clone;\r\n\r\n            $(clone)\r\n                .addClass('_dragging-copy')\r\n                .appendTo('body');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Matches provided coordinates to available areas.\r\n         *\r\n         * @param {Number} x - X coordinate of a mouse pointer.\r\n         * @param {Number} y - Y coordinate of a mouse pointer.\r\n         * @returns {Object|Undefined} Matched area.\r\n         */\r\n        _getDropArea: function (x, y) {\r\n            return _.find(this.coords, function (area) {\r\n                return isInside(x, y, area);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Updates state of hovered areas.\r\n         *\r\n         * @param {Number} x - X coordinate of a mouse pointer.\r\n         * @param {Number} y - Y coordinate of a mouse pointer.\r\n         */\r\n        _updateAreas: function (x, y) {\r\n            var leavedArea = this.dropArea,\r\n                area = this.dropArea = this._getDropArea(x, y);\r\n\r\n            if (leavedArea) {\r\n                this.dragleave(leavedArea);\r\n            }\r\n\r\n            if (area && !compareCols(area.target, this.dragArea.target)) {\r\n                this.dragenter(area);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Grab action handler.\r\n         *\r\n         * @param {Number} x - X coordinate of a grabbed point.\r\n         * @param {Number} y - Y coordinate of a grabbed point.\r\n         * @param {HTMLElement} elem - Grabbed element.\r\n         */\r\n        grab: function (x, y, elem) {\r\n            this.initDrag = true;\r\n\r\n            this.grabbed = {\r\n                x: x,\r\n                y: y,\r\n                elem: elem\r\n            };\r\n\r\n            this.$body.addClass(this.noSelectClass);\r\n        },\r\n\r\n        /**\r\n         * Dragstart action handler.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} elem - Element which is dragging.\r\n         */\r\n        dragstart: function (elem) {\r\n            this.initDrag = false;\r\n            this.dropArea = false;\r\n            this.dragging = true;\r\n\r\n            getModel(elem).dragging(true);\r\n\r\n            this._cacheCoords()\r\n                ._cloneTable(elem);\r\n        },\r\n\r\n        /**\r\n         * Drag action handler. Locates draggable\r\n         * grid at a specified coordinates.\r\n         *\r\n         * @param {Number} x - X coordinate.\r\n         * @param {Number} y - Y coordinate.\r\n         */\r\n        drag: function (x, y) {\r\n            var grabbed  = this.grabbed,\r\n                dragArea = this.dragArea,\r\n                posX     = x + grabbed.shiftX,\r\n                posY     = y + grabbed.shiftY;\r\n\r\n            if (this.fixedX) {\r\n                x    = dragArea.left;\r\n                posX = dragArea.orig.left;\r\n            }\r\n\r\n            if (this.fixedY) {\r\n                y    = dragArea.top;\r\n                posY = dragArea.orig.top;\r\n            }\r\n\r\n            locate(this.dragTable, posX, posY);\r\n\r\n            if (!isInside(x, y, this.dropArea)) {\r\n                this._updateAreas(x, y);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Dragenter action handler.\r\n         *\r\n         * @param {Object} dropArea\r\n         */\r\n        dragenter: function (dropArea) {\r\n            var direction = this.dragArea.index < dropArea.index ?\r\n                'left' :\r\n                'right';\r\n\r\n            getModel(dropArea.target).dragover = direction;\r\n        },\r\n\r\n        /**\r\n         * Dragleave action handler.\r\n         *\r\n         * @param {Object} dropArea\r\n         */\r\n        dragleave: function (dropArea) {\r\n            getModel(dropArea.target).dragover = false;\r\n        },\r\n\r\n        /**\r\n         * Dragend action handler.\r\n         *\r\n         * @param {Object} dragArea\r\n         */\r\n        dragend: function (dragArea) {\r\n            var dropArea = this.dropArea,\r\n                dragElem = dragArea.target;\r\n\r\n            this.dragging = false;\r\n\r\n            document.body.removeChild(this.dragTable);\r\n\r\n            getModel(dragElem).dragging(false);\r\n\r\n            if (dropArea && !compareCols(dropArea.target, dragElem)) {\r\n                this.drop(dropArea, dragArea);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Drop action handler.\r\n         *\r\n         * @param {Object} dropArea\r\n         * @param {Object} dragArea\r\n         */\r\n        drop: function (dropArea, dragArea) {\r\n            var dropModel = getModel(dropArea.target),\r\n                dragModel = getModel(dragArea.target);\r\n\r\n            getModel(this.table).insertChild(dragModel, dropModel);\r\n            dropModel.dragover = false;\r\n        },\r\n\r\n        /**\r\n         * Documents' 'mousemove' event handler.\r\n         *\r\n         * @param {(MouseEvent|TouchEvent)} e - Event object.\r\n         */\r\n        onMouseMove: function (e) {\r\n            var grab    = this.grabbed,\r\n                touch   = getTouch(e),\r\n                x       = touch.pageX,\r\n                y       = touch.pageY;\r\n\r\n            if (this.initDrag || this.dragging) {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (this.initDrag && distance(x, y, grab.x, grab.y) >= this.minDistance) {\r\n                this.dragstart(grab.elem);\r\n            }\r\n\r\n            if (this.dragging) {\r\n                this.drag(x, y);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Documents' 'mouseup' event handler.\r\n         */\r\n        onMouseUp: function () {\r\n            if (this.initDrag || this.dragging) {\r\n                this.initDrag = false;\r\n                this.$body.removeClass(this.noSelectClass);\r\n            }\r\n\r\n            if (this.dragging) {\r\n                this.dragend(this.dragArea);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Columns' 'mousedown' event handler.\r\n         *\r\n         * @param {(MouseEvent|TouchEvent)} e - Event object.\r\n         */\r\n        onMouseDown: function (e) {\r\n            var touch = getTouch(e);\r\n\r\n            this.grab(touch.pageX, touch.pageY, e.currentTarget);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/export.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'uiElement'\r\n], function ($, _, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/exportButton',\r\n            selectProvider: 'ns = ${ $.ns }, index = ids',\r\n            checked: '',\r\n            additionalParams: [],\r\n            modules: {\r\n                selections: '${ $.selectProvider }'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super()\r\n                .initChecked();\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            _.each(this.additionalParams, function (value, key) {\r\n                key = 'additionalParams.' + key;\r\n                this.imports[key] = value;\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('checked');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks first option if checked not defined.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        initChecked: function () {\r\n            if (!this.checked()) {\r\n                this.checked(\r\n                    this.options[0].value\r\n                );\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Compose params object that will be added to request.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getParams: function () {\r\n            var selections = this.selections(),\r\n                data = selections ? selections.getSelections() : null,\r\n                itemsType,\r\n                result = {};\r\n\r\n            if (data) {\r\n                itemsType = data.excludeMode ? 'excluded' : 'selected';\r\n                result.filters = data.params.filters;\r\n                result.search = data.params.search;\r\n                result.namespace = data.params.namespace;\r\n                result[itemsType] = data[itemsType];\r\n                _.each(this.additionalParams, function (param, key) {\r\n                    result[key] = param;\r\n                });\r\n\r\n                if (!result[itemsType].length) {\r\n                    result[itemsType] = false;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Find checked option.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getActiveOption: function () {\r\n            return _.findWhere(this.options, {\r\n                value: this.checked()\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Build option url.\r\n         *\r\n         * @param {Object} option\r\n         * @returns {String}\r\n         */\r\n        buildOptionUrl: function (option) {\r\n            var params = this.getParams();\r\n\r\n            if (!params) {\r\n                return 'javascript:void(0);';\r\n            }\r\n\r\n            return option.url + '?' + $.param(params);\r\n            //TODO: MAGETWO-40250\r\n        },\r\n\r\n        /**\r\n         * Redirect to built option url.\r\n         */\r\n        applyOption: function () {\r\n            var option = this.getActiveOption(),\r\n                url = this.buildOptionUrl(option);\r\n\r\n            location.href = url;\r\n\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/listing.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'Magento_Ui/js/lib/spinner',\r\n    'rjsResolver',\r\n    'uiLayout',\r\n    'uiCollection'\r\n], function (ko, _, loader, resolver, layout, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/listing',\r\n            listTemplate: 'ui/list/listing',\r\n            stickyTmpl: 'ui/grid/sticky/listing',\r\n            viewSwitcherTmpl: 'ui/grid/view-switcher',\r\n            positions: false,\r\n            displayMode: 'grid',\r\n            displayModes: {\r\n                grid: {\r\n                    value: 'grid',\r\n                    label: 'Grid',\r\n                    template: '${ $.template }'\r\n                },\r\n                list: {\r\n                    value: 'list',\r\n                    label: 'List',\r\n                    template: '${ $.listTemplate }'\r\n                }\r\n            },\r\n            dndConfig: {\r\n                name: '${ $.name }_dnd',\r\n                component: 'Magento_Ui/js/grid/dnd',\r\n                columnsProvider: '${ $.name }',\r\n                enabled: true\r\n            },\r\n            editorConfig: {\r\n                name: '${ $.name }_editor',\r\n                component: 'Magento_Ui/js/grid/editing/editor',\r\n                columnsProvider: '${ $.name }',\r\n                dataProvider: '${ $.provider }',\r\n                enabled: false\r\n            },\r\n            resizeConfig: {\r\n                name: '${ $.name }_resize',\r\n                columnsProvider: '${ $.name }',\r\n                component: 'Magento_Ui/js/grid/resize',\r\n                enabled: false\r\n            },\r\n            imports: {\r\n                rows: '${ $.provider }:data.items'\r\n            },\r\n            listens: {\r\n                elems: 'updatePositions updateVisible',\r\n                '${ $.provider }:reload': 'onBeforeReload',\r\n                '${ $.provider }:reloaded': 'onDataReloaded'\r\n            },\r\n            modules: {\r\n                dnd: '${ $.dndConfig.name }',\r\n                resize: '${ $.resizeConfig.name }'\r\n            },\r\n            tracks: {\r\n                displayMode: true\r\n            },\r\n            statefull: {\r\n                displayMode: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes Listing component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'updateVisible');\r\n\r\n            this._super()\r\n                .initDnd()\r\n                .initEditor()\r\n                .initResize();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track({\r\n                    rows: [],\r\n                    visibleColumns: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates drag&drop widget instance.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initDnd: function () {\r\n            if (this.dndConfig.enabled) {\r\n                layout([this.dndConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes resize component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initResize: function () {\r\n            if (this.resizeConfig.enabled) {\r\n                layout([this.resizeConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates inline editing component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initEditor: function () {\r\n            if (this.editorConfig.enabled) {\r\n                layout([this.editorConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when another element was added to current component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initElement: function (element) {\r\n            var currentCount = this.elems().length,\r\n                totalCount = this.initChildCount;\r\n\r\n            if (totalCount === currentCount) {\r\n                this.initPositions();\r\n            }\r\n\r\n            element.on('visible', this.updateVisible);\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Defines initial order of child elements.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initPositions: function () {\r\n            this.on('positions', this.applyPositions.bind(this));\r\n\r\n            this.setStatefull('positions');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates current state of child positions.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        updatePositions: function () {\r\n            var positions = {};\r\n\r\n            this.elems.each(function (elem, index) {\r\n                positions[elem.index] = index;\r\n            });\r\n\r\n            this.set('positions', positions);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resorts child elements array according to provided positions.\r\n         *\r\n         * @param {Object} positions - Object where key represents child\r\n         *      index and value is its' position.\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        applyPositions: function (positions) {\r\n            var sorting;\r\n\r\n            sorting = this.elems.map(function (elem) {\r\n                return {\r\n                    elem: elem,\r\n                    position: positions[elem.index]\r\n                };\r\n            });\r\n\r\n            this.insertChild(sorting);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns reference to 'visibleColumns' array.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getVisible: function () {\r\n            var observable = ko.getObservable(this, 'visibleColumns');\r\n\r\n            return observable || this.visibleColumns;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the template\r\n         * defined for a current display mode.\r\n         *\r\n         * @returns {String} Path to the template.\r\n         */\r\n        getTemplate: function () {\r\n            var mode = this.displayModes[this.displayMode];\r\n\r\n            return mode.template;\r\n        },\r\n\r\n        /**\r\n         * Returns an array of available display modes.\r\n         *\r\n         * @returns {Array<Object>}\r\n         */\r\n        getDisplayModes: function () {\r\n            var modes = this.displayModes;\r\n\r\n            return _.values(modes);\r\n        },\r\n\r\n        /**\r\n         * Sets display mode to provided value.\r\n         *\r\n         * @param {String} index\r\n         * @returns {Listing} Chainable\r\n         */\r\n        setDisplayMode: function (index) {\r\n            this.displayMode = index;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns total number of displayed columns in grid.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countVisible: function () {\r\n            return this.visibleColumns.length;\r\n        },\r\n\r\n        /**\r\n         * Updates array of visible columns.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        updateVisible: function () {\r\n            this.visibleColumns = this.elems.filter('visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if grid has data.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return !!this.rows && !!this.rows.length;\r\n        },\r\n\r\n        /**\r\n         * Hides loader.\r\n         */\r\n        hideLoader: function () {\r\n            loader.get(this.name).hide();\r\n        },\r\n\r\n        /**\r\n         * Shows loader.\r\n         */\r\n        showLoader: function () {\r\n            loader.get(this.name).show();\r\n        },\r\n\r\n        /**\r\n         * Handler of the data providers' 'reload' event.\r\n         */\r\n        onBeforeReload: function () {\r\n            this.showLoader();\r\n        },\r\n\r\n        /**\r\n         * Handler of the data providers' 'reloaded' event.\r\n         */\r\n        onDataReloaded: function () {\r\n            resolver(this.hideLoader, this);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/masonry.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'Magento_Ui/js/grid/listing',\r\n    'Magento_Ui/js/lib/view/utils/raf',\r\n    'jquery',\r\n    'ko',\r\n    'underscore'\r\n], function (Listing, raf, $, ko, _) {\r\n    'use strict';\r\n\r\n    return Listing.extend({\r\n        defaults: {\r\n            template: 'ui/grid/masonry',\r\n            imports: {\r\n                rows: '${ $.provider }:data.items',\r\n                errorMessage: '${ $.provider }:data.errorMessage'\r\n            },\r\n            listens: {\r\n                rows: 'initComponent'\r\n            },\r\n\r\n            /**\r\n             * Images container id\r\n             * @param string\r\n             */\r\n            containerId: null,\r\n\r\n            /**\r\n             * Minimum aspect ratio for each image\r\n             * @param int\r\n             */\r\n            minRatio: null,\r\n\r\n            /**\r\n             * Container width\r\n             * @param int\r\n             */\r\n            containerWidth: window.innerWidth,\r\n\r\n            /**\r\n             * Margin between images\r\n             * @param int\r\n             */\r\n            imageMargin: 20,\r\n\r\n            /**\r\n             * Maximum image height value\r\n             * @param int\r\n             */\r\n            maxImageHeight: 240,\r\n\r\n            /**\r\n             * The value is minimum image width to height ratio when container width is less than the key\r\n             * @param {Object}\r\n             */\r\n            containerWidthToMinRatio: {\r\n                640: 3,\r\n                1280: 5,\r\n                1920: 8\r\n            },\r\n\r\n            /**\r\n             * Default minimal image width to height ratio.\r\n             * Applied when container width is greater than max width in the containerWidthToMinRatio matrix.\r\n             * @param int\r\n             */\r\n            defaultMinRatio: 10,\r\n\r\n            /**\r\n             * Layout update FPS during window resizing\r\n             */\r\n            refreshFPS: 60\r\n        },\r\n\r\n        /**\r\n         * Init observable variables\r\n         * @return {Object}\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe([\r\n                    'rows',\r\n                    'errorMessage'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init component handler\r\n         * @param {Object} rows\r\n         * @return {Object}\r\n         */\r\n        initComponent: function (rows) {\r\n            if (!rows.length) {\r\n                return;\r\n            }\r\n            this.imageMargin = parseInt(this.imageMargin, 10);\r\n            this.container = $('[data-id=\"' + this.containerId + '\"]')[0];\r\n\r\n            this.setLayoutStyles();\r\n            this.setEventListener();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set event listener to track resize event\r\n         */\r\n        setEventListener: function () {\r\n            window.addEventListener('resize', function () {\r\n                this.updateStyles();\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Updates styles for component.\r\n         */\r\n        updateStyles: function () {\r\n            raf(function () {\r\n                this.containerWidth = window.innerWidth;\r\n                this.setLayoutStyles();\r\n            }.bind(this), this.refreshFPS);\r\n        },\r\n\r\n        /**\r\n         * Set layout styles inside the container\r\n         */\r\n        setLayoutStyles: function () {\r\n            var containerWidth = parseInt(this.container.clientWidth, 10),\r\n                rowImages = [],\r\n                ratio = 0,\r\n                rowHeight = 0,\r\n                calcHeight = 0,\r\n                isLastRow = false,\r\n                rowNumber = 1;\r\n\r\n            this.setMinRatio();\r\n\r\n            this.rows().forEach(function (image, index) {\r\n                ratio += parseFloat((image.width / image.height).toFixed(2));\r\n                rowImages.push(image);\r\n\r\n                if (ratio < this.minRatio && index + 1 !== this.rows().length) {\r\n                    // Row has more space for images and the image is not the last one - proceed to the next iteration\r\n                    return;\r\n                }\r\n\r\n                ratio = Math.max(ratio, this.minRatio);\r\n                calcHeight = (containerWidth - this.imageMargin * rowImages.length) / ratio;\r\n                rowHeight = calcHeight < this.maxImageHeight ? calcHeight : this.maxImageHeight;\r\n                isLastRow = index + 1 === this.rows().length;\r\n\r\n                this.assignImagesToRow(rowImages, rowNumber, rowHeight, isLastRow);\r\n\r\n                rowImages = [];\r\n                ratio = 0;\r\n                rowNumber++;\r\n\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Apply styles, css classes and add properties for images in the row\r\n         *\r\n         * @param {Object[]} images\r\n         * @param {Number} rowNumber\r\n         * @param {Number} rowHeight\r\n         * @param {Boolean} isLastRow\r\n         */\r\n        assignImagesToRow: function (images, rowNumber, rowHeight, isLastRow) {\r\n            var imageWidth;\r\n\r\n            images.forEach(function (img) {\r\n                imageWidth = rowHeight * (img.width / img.height).toFixed(2);\r\n                this.setImageStyles(img, imageWidth, rowHeight);\r\n                this.setImageClass(img, {\r\n                    bottom: isLastRow\r\n                });\r\n                img.rowNumber = rowNumber;\r\n            }.bind(this));\r\n\r\n            images[0].firstInRow = true;\r\n            images[images.length - 1].lastInRow = true;\r\n        },\r\n\r\n        /**\r\n         * Wait for container to initialize\r\n         */\r\n        waitForContainer: function (callback) {\r\n            if (typeof this.container === 'undefined') {\r\n                setTimeout(function () {\r\n                    this.waitForContainer(callback);\r\n                }.bind(this), 500);\r\n            } else {\r\n                setTimeout(callback, 0);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set layout styles when container element is loaded.\r\n         */\r\n        setLayoutStylesWhenLoaded: function () {\r\n            this.waitForContainer(function () {\r\n                this.setLayoutStyles();\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Set styles for every image in layout\r\n         *\r\n         * @param {Object} img\r\n         * @param {Number} width\r\n         * @param {Number} height\r\n         */\r\n        setImageStyles: function (img, width, height) {\r\n            if (!img.styles) {\r\n                img.styles = ko.observable();\r\n            }\r\n            img.styles({\r\n                width: parseInt(width, 10) + 'px',\r\n                height: parseInt(height, 10) + 'px'\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Set css classes to and an image\r\n         *\r\n         * @param {Object} image\r\n         * @param {Object} classes\r\n         */\r\n        setImageClass: function (image, classes) {\r\n            if (!image.css) {\r\n                image.css = ko.observable(classes);\r\n            }\r\n            image.css(classes);\r\n        },\r\n\r\n        /**\r\n         * Set min ratio for images in layout\r\n         */\r\n        setMinRatio: function () {\r\n            var minRatio = _.find(\r\n                this.containerWidthToMinRatio,\r\n\r\n                /**\r\n                 * Find the minimal ratio for container width in the matrix\r\n                 *\r\n                 * @param {Number} ratio\r\n                 * @param {Number} width\r\n                 * @returns {Boolean}\r\n                 */\r\n                function (ratio, width) {\r\n                    return this.containerWidth <= width;\r\n                },\r\n                this\r\n            );\r\n\r\n            this.minRatio = minRatio ? minRatio : this.defaultMinRatio;\r\n        },\r\n\r\n        /**\r\n         * Checks if grid has data.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return !!this.rows() && !!this.rows().length;\r\n        },\r\n\r\n        /**\r\n         * Returns error message returned by the data provider\r\n         *\r\n         * @returns {String|null}\r\n         */\r\n        getErrorMessageUnsanitizedHtml: function () {\r\n            return this.errorMessage();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/massactions.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'mageUtils',\r\n    'Magento_Ui/js/lib/collapsible',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'Magento_Ui/js/modal/alert',\r\n    'mage/translate'\r\n], function (_, registry, utils, Collapsible, confirm, alert, $t) {\r\n    'use strict';\r\n\r\n    return Collapsible.extend({\r\n        defaults: {\r\n            template: 'ui/grid/actions',\r\n            stickyTmpl: 'ui/grid/sticky/actions',\r\n            selectProvider: 'ns = ${ $.ns }, index = ids',\r\n            actions: [],\r\n            noItemsMsg: $t('You haven\\'t selected any items!'),\r\n            modules: {\r\n                selections: '${ $.selectProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('actions');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies specified action.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        applyAction: function (actionIndex) {\r\n            var data = this.getSelections(),\r\n                action,\r\n                callback;\r\n\r\n            if (!data.total) {\r\n                alert({\r\n                    content: this.noItemsMsg\r\n                });\r\n\r\n                return this;\r\n            }\r\n\r\n            action   = this.getAction(actionIndex);\r\n            callback = this._getCallback(action, data);\r\n\r\n            action.confirm ?\r\n                this._confirm(action, callback) :\r\n                callback();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieves selections data from the selections provider.\r\n         *\r\n         * @returns {Object|Undefined}\r\n         */\r\n        getSelections: function () {\r\n            var provider = this.selections(),\r\n                selections = provider && provider.getSelections();\r\n\r\n            return selections;\r\n        },\r\n\r\n        /**\r\n         * Retrieves action object associated with a specified index.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @returns {Object} Action object.\r\n         */\r\n        getAction: function (actionIndex) {\r\n            return _.findWhere(this.actions(), {\r\n                type: actionIndex\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Adds new action. If action with a specified identifier\r\n         * already exists, than the original one will be overrided.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        addAction: function (action) {\r\n            var actions = this.actions(),\r\n                index = _.findIndex(actions, {\r\n                    type: action.type\r\n                });\r\n\r\n            ~index ?\r\n                actions[index] = action :\r\n                actions.push(action);\r\n\r\n            this.actions(actions);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates action callback based on its' data. If action doesn't spicify\r\n         * a callback function than the default one will be used.\r\n         *\r\n         * @private\r\n         * @param {Object} action - Actions' object.\r\n         * @param {Object} selections - Selections data.\r\n         * @returns {Function} Callback function.\r\n         */\r\n        _getCallback: function (action, selections) {\r\n            var callback = action.callback,\r\n                args     = [action, selections];\r\n\r\n            if (utils.isObject(callback)) {\r\n                args.unshift(callback.target);\r\n\r\n                callback = registry.async(callback.provider);\r\n            } else if (typeof callback != 'function') {\r\n                callback = this.defaultCallback.bind(this);\r\n            }\r\n\r\n            return function () {\r\n                callback.apply(null, args);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Default action callback. Sends selections data\r\n         * via POST request.\r\n         *\r\n         * @param {Object} action - Action data.\r\n         * @param {Object} data - Selections data.\r\n         */\r\n        defaultCallback: function (action, data) {\r\n            var itemsType = data.excludeMode ? 'excluded' : 'selected',\r\n                selections = {};\r\n\r\n            selections[itemsType] = data[itemsType];\r\n\r\n            if (!selections[itemsType].length) {\r\n                selections[itemsType] = false;\r\n            }\r\n\r\n            _.extend(selections, data.params || {});\r\n\r\n            utils.submit({\r\n                url: action.url,\r\n                data: selections\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Shows actions' confirmation window.\r\n         *\r\n         * @param {Object} action - Actions' data.\r\n         * @param {Function} callback - Callback that will be\r\n         *      invoked if action is confirmed.\r\n         */\r\n        _confirm: function (action, callback) {\r\n            var confirmData = action.confirm,\r\n                data = this.getSelections(),\r\n                total = data.total ? data.total : 0,\r\n                confirmMessage = confirmData.message + ' (' + total + ' record' + (total > 1 ? 's' : '') + ')';\r\n\r\n            confirm({\r\n                title: confirmData.title,\r\n                content: confirmMessage,\r\n                actions: {\r\n                    confirm: callback\r\n                }\r\n            });\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/provider.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'rjsResolver',\r\n    'uiLayout',\r\n    'Magento_Ui/js/modal/alert',\r\n    'mage/translate',\r\n    'uiElement',\r\n    'Magento_Ui/js/grid/data-storage'\r\n], function ($, _, utils, resolver, layout, alert, $t, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            firstLoad: true,\r\n            lastError: false,\r\n            storageConfig: {\r\n                component: 'Magento_Ui/js/grid/data-storage',\r\n                provider: '${ $.storageConfig.name }',\r\n                name: '${ $.name }_storage',\r\n                updateUrl: '${ $.update_url }'\r\n            },\r\n            listens: {\r\n                params: 'onParamsChange',\r\n                requestConfig: 'updateRequestConfig'\r\n            },\r\n            ignoreTmpls: {\r\n                data: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes provider component.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        initialize: function () {\r\n            utils.limit(this, 'onParamsChange', 5);\r\n            _.bindAll(this, 'onReload');\r\n\r\n            this._super()\r\n                .initStorage()\r\n                .clearData();\r\n\r\n            // Load data when there will\r\n            // be no more pending assets.\r\n            resolver(this.reload, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes storage component.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        initStorage: function () {\r\n            layout([this.storageConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears provider's data properties.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        clearData: function () {\r\n            this.setData({\r\n                items: [],\r\n                totalRecords: 0\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Overrides current data with a provided one.\r\n         *\r\n         * @param {Object} data - New data object.\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        setData: function (data) {\r\n            data = this.processData(data);\r\n\r\n            this.set('data', data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Processes data before applying it.\r\n         *\r\n         * @param {Object} data - Data to be processed.\r\n         * @returns {Object}\r\n         */\r\n        processData: function (data) {\r\n            var items = data.items;\r\n\r\n            _.each(items, function (record, index) {\r\n                record._rowIndex = index;\r\n            });\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Reloads data with current parameters.\r\n         *\r\n         * @returns {Promise} Reload promise object.\r\n         */\r\n        reload: function (options) {\r\n            var request = this.storage().getData(this.params, options);\r\n\r\n            this.trigger('reload');\r\n\r\n            request\r\n                .done(this.onReload)\r\n                .fail(this.onError.bind(this));\r\n\r\n            return request;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of 'params' object.\r\n         */\r\n        onParamsChange: function () {\r\n            // It's necessary to make a reload only\r\n            // after the initial loading has been made.\r\n            if (!this.firstLoad) {\r\n                this.reload();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles reload error.\r\n         */\r\n        onError: function (xhr) {\r\n            if (xhr.statusText === 'abort') {\r\n                return;\r\n            }\r\n\r\n            this.set('lastError', true);\r\n\r\n            this.firstLoad = false;\r\n\r\n            alert({\r\n                content: $t('Something went wrong.')\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles successful data reload.\r\n         *\r\n         * @param {Object} data - Retrieved data object.\r\n         */\r\n        onReload: function (data) {\r\n            this.firstLoad = false;\r\n\r\n            this.set('lastError', false);\r\n\r\n            this.setData(data)\r\n                .trigger('reloaded');\r\n        },\r\n\r\n        /**\r\n         * Updates storage's request configuration\r\n         *\r\n         * @param {Object} requestConfig\r\n         */\r\n        updateRequestConfig: function (requestConfig) {\r\n            if (this.storage()) {\r\n                _.extend(this.storage().requestConfig, requestConfig);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/resize.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    'Magento_Ui/js/lib/knockout/extender/bound-nodes',\r\n    'uiElement'\r\n], function ($, ko, _, utils, registry, boundedNodes, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            rootSelector: '${ $.columnsProvider }:.admin__data-grid-wrap',\r\n            tableSelector: '${ $.rootSelector } -> table.data-grid',\r\n            mainTableSelector: '[data-role=\"grid\"]',\r\n            columnSelector: '${ $.tableSelector } thead tr th',\r\n            fieldSelector: '${ $.tableSelector } tbody tr td',\r\n\r\n            imports: {\r\n                storageColumnsData: '${ $.storageConfig.path }.storageColumnsData'\r\n            },\r\n            storageColumnsData: {},\r\n            columnsElements: {},\r\n            tableWidth: 0,\r\n            sumColumnsWidth: 0,\r\n            showLines: 4,\r\n            resizableElementClass: 'shadow-div',\r\n            resizingColumnClass: '_resizing',\r\n            fixedLayoutClass: '_layout-fixed',\r\n            inResizeClass: '_in-resize',\r\n            visibleClass: '_resize-visible',\r\n            cellContentElement: 'div.data-grid-cell-content',\r\n            minColumnWidth: 40,\r\n            layoutFixedPolyfillIterator: 0,\r\n            windowResize: false,\r\n            resizable: false,\r\n            resizeConfig: {\r\n                maxRowsHeight: [],\r\n                curResizeElem: {},\r\n                depResizeElem: {},\r\n                previousWidth: null\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initialize application -\r\n         * binding functions context,\r\n         * set handlers for table elements\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'initTable',\r\n                'initColumn',\r\n                'mousedownHandler',\r\n                'mousemoveHandler',\r\n                'mouseupHandler',\r\n                'refreshLastColumn',\r\n                'refreshMaxRowHeight',\r\n                'preprocessingWidth',\r\n                '_eventProxy',\r\n                'checkAfterResize'\r\n            );\r\n\r\n            this._super();\r\n            this.observe(['maxRowsHeight']);\r\n            this.maxRowsHeight([]);\r\n\r\n            $.async(this.tableSelector, this.initTable);\r\n            $.async(this.columnSelector, this.initColumn);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set table element and adds handler to mousedown on headers\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        initTable: function (table) {\r\n            if ($(table).is(this.mainTableSelector)) {\r\n                this.table = table;\r\n                this.tableWidth = $(table).outerWidth();\r\n                $(window).on('resize', this.checkAfterResize);\r\n            }\r\n\r\n            //TODO - Must be deleted when Firefox fixed problem with table-layout: fixed\r\n            //ticket to Firefox: https://bugs.webkit.org/show_bug.cgi?id=90068\r\n            if (navigator.userAgent.search(/Firefox/) > -1) {\r\n                this._layoutFixedPolyfill();\r\n            }\r\n\r\n            $(table).addClass(this.fixedLayoutClass);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Window resize handler,\r\n         * check changes on table width and\r\n         * set new width to variable\r\n         * after window resize start preprocessingWidth method\r\n         */\r\n        checkAfterResize: function () {\r\n            var tableWidth,\r\n                self = this;\r\n\r\n            setTimeout(function () {\r\n                tableWidth = $(self.table).outerWidth();\r\n\r\n                if (self.tableWidth !== tableWidth) {\r\n                    self.tableWidth = tableWidth;\r\n                } else {\r\n                    self.preprocessingWidth();\r\n                }\r\n            }, 300);\r\n        },\r\n\r\n        /**\r\n         * Check conditions to set minimal width\r\n         */\r\n        checkSumColumnsWidth: function () {\r\n            var table = $(this.table),\r\n                elems = table.find('th:not([style*=\"width: auto\"]):visible'),\r\n                elemsWidthMin = table.find('th[style*=\"width: ' + (this.minColumnWidth - 1) + 'px\"]:visible'),\r\n                elemsWidthAuto = table.find('th[style*=\"width: auto\"]:visible'),\r\n                model;\r\n\r\n            this.sumColumnsWidth = 0;\r\n            _.each(elems, function (elem) {\r\n                model = ko.dataFor(elem);\r\n                model.width && model.width !== 'auto' ? this.sumColumnsWidth += model.width : false;\r\n            }, this);\r\n\r\n            if (\r\n                    this.sumColumnsWidth + elemsWidthAuto.length *\r\n                    this.minColumnWidth + elemsWidthMin.length *\r\n                    this.minColumnWidth > this.tableWidth\r\n            ) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Set minimal width to element with \"auto\" width\r\n         */\r\n        setWidthToColumnsWidthAuto: function () {\r\n            var elemsWidthAuto = $(this.table).find('th[style*=\"width: auto\"]:visible');\r\n\r\n            _.each(elemsWidthAuto, function (elem) {\r\n                $(elem).outerWidth(this.minColumnWidth - 1);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Check conditions to set auto width\r\n         */\r\n        hasMinimal: function () {\r\n            var table = $(this.table),\r\n                elemsWidthMin = table.find('th[style*=\"width: ' + (this.minColumnWidth - 1) + 'px\"]:visible'),\r\n                elemsWidthAuto = table.find('th[style*=\"width: auto\"]:visible');\r\n\r\n            if (\r\n                    elemsWidthAuto && this.sumColumnsWidth + elemsWidthAuto.length *\r\n                    this.minColumnWidth + elemsWidthMin.length * this.minColumnWidth + 5 < this.tableWidth\r\n            ) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Set \"auto\" width to element with minimal width\r\n         */\r\n        setAuto: function () {\r\n            var elemsWidthAuto = $(this.table).find('th[style*=\"width: ' + (this.minColumnWidth - 1) + 'px\"]:visible');\r\n\r\n            _.each(elemsWidthAuto, function (elem) {\r\n                $(elem).outerWidth('auto');\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Check columns width and preprocessing\r\n         */\r\n        preprocessingWidth: function () {\r\n            if (this.checkSumColumnsWidth()) {\r\n                this.setWidthToColumnsWidthAuto();\r\n            } else if (this.hasMinimal()) {\r\n                this.setAuto();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Init columns elements,\r\n         * set width to current column element,\r\n         * add resizable element to columns header,\r\n         * check and add no-resize class to last column,\r\n         * stop parents events,\r\n         * add handler to visibility column\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         */\r\n        initColumn: function (column) {\r\n            var model = ko.dataFor(column),\r\n                ctxIndex = this.getCtxIndex(ko.contextFor(column));\r\n\r\n            model.width = this.getDefaultWidth(column);\r\n\r\n            if (!this.hasColumn(model, ctxIndex, false)) {\r\n                this.columnsElements[model.index] = this.columnsElements[model.index] || {};\r\n                this.columnsElements[model.index][ctxIndex] = column;\r\n                this.initResizableElement(column);\r\n                this.setStopPropagationHandler(column);\r\n                $(column).outerWidth(model.width);\r\n            }\r\n\r\n            this.refreshLastColumn(column);\r\n            this.preprocessingWidth();\r\n\r\n            model.on('visible', this.refreshLastColumn.bind(this, column));\r\n            model.on('visible', this.preprocessingWidth.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Hack for mozilla firefox\r\n         */\r\n        _layoutFixedPolyfill: function () {\r\n            var self = this;\r\n\r\n            setTimeout(function () {\r\n                if (self.layoutFixedPolyfillIterator < 20) {\r\n                    $(window).trigger('resize');\r\n                    self.layoutFixedPolyfillIterator++;\r\n                    self._layoutFixedPolyfill();\r\n                } else {\r\n                    return false;\r\n                }\r\n            }, 500);\r\n        },\r\n\r\n        /**\r\n         * Check element is resizable or not\r\n         * and append resizable element to DOM\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         * @returns {Boolean}\r\n         */\r\n        initResizableElement: function (column) {\r\n            var model = ko.dataFor(column),\r\n                templateDragElement = '<div class=\"' + this.resizableElementClass + '\"></div>';\r\n\r\n            if (_.isUndefined(model.resizeEnabled) || model.resizeEnabled) {\r\n                $(column).append(templateDragElement);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Check event target and if need stop parents event,\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         * @returns {Boolean}\r\n         */\r\n        setStopPropagationHandler: function (column) {\r\n            var events,\r\n                click,\r\n                mousedown;\r\n\r\n            $(column).on('click', this._eventProxy);\r\n            $(column).on('mousedown', this._eventProxy);\r\n\r\n            events = $._data(column, 'events');\r\n\r\n            click = events.click;\r\n            mousedown = events.mousedown;\r\n            click.unshift(click.pop());\r\n            mousedown.unshift(mousedown.pop());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Check event target and stop event if need\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        _eventProxy: function (event) {\r\n            if ($(event.target).is('.' + this.resizableElementClass)) {\r\n\r\n                if (event.type === 'click') {\r\n                    event.stopImmediatePropagation();\r\n                } else if (event.type === 'mousedown') {\r\n                    this.mousedownHandler(event);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check visible columns and set disable class to resizable elements,\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         */\r\n        refreshLastColumn: function (column) {\r\n            var i = 0,\r\n                columns = $(column).parent().children().not(':hidden'),\r\n                length = columns.length;\r\n\r\n            $('.' + this.visibleClass).removeClass(this.visibleClass);\r\n\r\n            $(column).parent().children().not(':hidden').last().addClass(this.visibleClass);\r\n\r\n            for (i; i < length; i++) {\r\n\r\n                if (!columns.eq(i).find('.' + this.resizableElementClass).length && i) {\r\n                    columns.eq(i - 1).addClass(this.visibleClass);\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * Refresh max height to row elements,\r\n         *\r\n         * @param {Object} elem - (td)\r\n         */\r\n        refreshMaxRowHeight: function (elem) {\r\n            var rowsH = this.maxRowsHeight(),\r\n                curEL = $(elem).find('div'),\r\n                height,\r\n                obj = this.hasRow($(elem).parent()[0], true);\r\n\r\n            curEL.css('white-space', 'nowrap');\r\n            height = curEL.height() * this.showLines;\r\n            curEL.css('white-space', 'normal');\r\n\r\n            if (obj) {\r\n                if (obj.maxHeight < height) {\r\n                    rowsH[_.indexOf(rowsH, obj)].maxHeight = height;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                rowsH.push({\r\n                    elem: $(elem).parent()[0],\r\n                    maxHeight: height\r\n                });\r\n            }\r\n\r\n            $(elem).parent().children().find(this.cellContentElement).css('max-height', height + 'px');\r\n            this.maxRowsHeight(rowsH);\r\n        },\r\n\r\n        /**\r\n         * Set resize class to elements when resizable\r\n         */\r\n        _setResizeClass: function () {\r\n            var rowElements = $(this.table).find('tr');\r\n\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.curResizeElem.ctx.$index() + ')')\r\n                .addClass(this.resizingColumnClass);\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.depResizeElem.ctx.$index() + ')')\r\n                .addClass(this.resizingColumnClass);\r\n        },\r\n\r\n        /**\r\n         * Remove resize class to elements when resizable\r\n         */\r\n        _removeResizeClass: function () {\r\n            var rowElements = $(this.table).find('tr');\r\n\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.curResizeElem.ctx.$index() + ')')\r\n                .removeClass(this.resizingColumnClass);\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.depResizeElem.ctx.$index() + ')')\r\n                .removeClass(this.resizingColumnClass);\r\n        },\r\n\r\n        /**\r\n         * Check conditions to resize\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        _canResize: function (column) {\r\n            if (\r\n                $(column).hasClass(this.visibleClass) ||\r\n                !$(this.resizeConfig.depResizeElem.elems[0]).find('.' + this.resizableElementClass).length\r\n            ) {\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Mouse down event handler,\r\n         * find current and dep column to resize\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        mousedownHandler: function (event) {\r\n            var target = event.target,\r\n                column = $(target).parent()[0],\r\n                cfg = this.resizeConfig,\r\n                body = $('body');\r\n\r\n            event.stopImmediatePropagation();\r\n            cfg.curResizeElem.model = ko.dataFor(column);\r\n            cfg.curResizeElem.ctx = ko.contextFor(column);\r\n            cfg.curResizeElem.elems = this.hasColumn(cfg.curResizeElem.model, false, true);\r\n            cfg.curResizeElem.position = event.pageX;\r\n            cfg.depResizeElem.elems = this.getNextElements(cfg.curResizeElem.elems[0]);\r\n            cfg.depResizeElem.model = ko.dataFor(cfg.depResizeElem.elems[0]);\r\n            cfg.depResizeElem.ctx = ko.contextFor(cfg.depResizeElem.elems[0]);\r\n\r\n            this._setResizeClass();\r\n\r\n            if (!this._canResize(column)) {\r\n                return false;\r\n            }\r\n\r\n            event.stopPropagation();\r\n            this.resizable = true;\r\n            cfg.curResizeElem.model.width = $(cfg.curResizeElem.elems[0]).outerWidth();\r\n            cfg.depResizeElem.model.width = $(cfg.depResizeElem.elems[0]).outerWidth();\r\n            body.addClass(this.inResizeClass);\r\n            body.on('mousemove', this.mousemoveHandler);\r\n            $(window).on('mouseup', this.mouseupHandler);\r\n        },\r\n\r\n        /**\r\n         * Mouse move event handler,\r\n         * change columns width\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        mousemoveHandler: function (event) {\r\n            var cfg = this.resizeConfig,\r\n                width = event.pageX - cfg.curResizeElem.position,\r\n                self = this;\r\n\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n\r\n            if (\r\n                this.resizable &&\r\n                this.minColumnWidth < cfg.curResizeElem.model.width + width &&\r\n                this.minColumnWidth < cfg.depResizeElem.model.width - width &&\r\n                cfg.previousWidth !== width\r\n            ) {\r\n                cfg.curResizeElem.model.width += width;\r\n                cfg.depResizeElem.model.width -= width;\r\n\r\n                cfg.curResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(cfg.curResizeElem.model.width);\r\n                });\r\n                cfg.depResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(cfg.depResizeElem.model.width);\r\n                });\r\n\r\n                cfg.previousWidth = width;\r\n                cfg.curResizeElem.position = event.pageX;\r\n            } else if (width <= -(cfg.curResizeElem.model.width - this.minColumnWidth)) {\r\n\r\n                cfg.curResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(self.minColumnWidth);\r\n                });\r\n                cfg.depResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(\r\n                    cfg.depResizeElem.model.width +\r\n                    cfg.curResizeElem.model.width -\r\n                    self.minColumnWidth);\r\n                });\r\n\r\n            } else if (width >= cfg.depResizeElem.model.width - this.minColumnWidth) {\r\n\r\n                cfg.depResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(self.minColumnWidth);\r\n                });\r\n                cfg.curResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(\r\n                        cfg.curResizeElem.model.width +\r\n                        cfg.depResizeElem.model.width -\r\n                        self.minColumnWidth\r\n                    );\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Mouse up event handler,\r\n         * change columns width\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        mouseupHandler: function (event) {\r\n            var cfg = this.resizeConfig,\r\n                body = $('body');\r\n\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n\r\n            this._removeResizeClass();\r\n            this.storageColumnsData[cfg.curResizeElem.model.index] = cfg.curResizeElem.model.width;\r\n            this.storageColumnsData[cfg.depResizeElem.model.index] = cfg.depResizeElem.model.width;\r\n            this.resizable = false;\r\n\r\n            this.store('storageColumnsData');\r\n\r\n            body.removeClass(this.inResizeClass);\r\n            body.off('mousemove', this.mousemoveHandler);\r\n            $(window).off('mouseup', this.mouseupHandler);\r\n        },\r\n\r\n        /**\r\n         * Find dependency element\r\n         *\r\n         * @param {Object} element - current element\r\n         * @returns {Object} next element data\r\n         */\r\n        getNextElements: function (element) {\r\n            var nextElem = $(element).next()[0],\r\n                nextElemModel = ko.dataFor(nextElem),\r\n                nextElemData = this.hasColumn(nextElemModel, false, true);\r\n\r\n            if (nextElemData) {\r\n                if (nextElemModel.visible) {\r\n                    return nextElemData;\r\n                }\r\n\r\n                return this.getNextElements(nextElem);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get default width\r\n         *\r\n         * @param {Object} column - (th) element\r\n         * @return {String} width for current column\r\n         */\r\n        getDefaultWidth: function (column) {\r\n            var model = ko.dataFor(column);\r\n\r\n            if (this.storageColumnsData[model.index]) {\r\n                return this.storageColumnsData[model.index];\r\n            }\r\n\r\n            if (model.resizeDefaultWidth) {\r\n                return parseInt(model.resizeDefaultWidth, 10);\r\n            }\r\n\r\n            return 'auto';\r\n        },\r\n\r\n        /**\r\n         * Check column is render or not\r\n         *\r\n         * @param {Object} model - cur column model\r\n         * @param {String|Boolean} ctxIndex - index of context, or false, if want to get cols from all ctx\r\n         * @param {Boolean} returned - need return column object or not\r\n         * @return {Boolean} if returned param is false, returned boolean value, else return current object data\r\n         */\r\n        hasColumn: function (model, ctxIndex, returned) {\r\n            var colElem = this.columnsElements[model.index] || {},\r\n                getFromAllCtx = ctxIndex === false;\r\n\r\n            if (colElem && (getFromAllCtx || colElem.hasOwnProperty(ctxIndex))) {\r\n\r\n                if (returned) {\r\n                    return getFromAllCtx ?\r\n                        _.values(colElem) :\r\n                        colElem[ctxIndex];\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Check row is render or not\r\n         *\r\n         * @param {Object} elem - cur column element\r\n         * @param {Boolean} returned - need return column object or not\r\n         * @return {Boolean|Object} if returned param is false, returned boolean value, else return current object data\r\n         */\r\n        hasRow: function (elem, returned) {\r\n            var i = 0,\r\n                el = this.maxRowsHeight(),\r\n                length = el.length;\r\n\r\n            for (i; i < length; i++) {\r\n                if (this.maxRowsHeight()[i].elem === elem) {\r\n                    if (returned) {//eslint-disable-line max-depth\r\n                        return this.maxRowsHeight()[i];\r\n                    }\r\n\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Generate index that will identify context\r\n         *\r\n         * @param {Object} ctx\r\n         * @return {String}\r\n         */\r\n        getCtxIndex: function (ctx) {\r\n            return ctx ? ctx.$parents.reduce(function (pv, cv) {\r\n                return (pv.index || pv) + (cv || {}).index;\r\n            }) : ctx;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/sortBy.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'uiElement'\r\n], function (Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/sortBy',\r\n            options: [],\r\n            applied: {},\r\n            sorting: 'asc',\r\n            columnsProvider: 'ns = ${ $.ns }, componentType = columns',\r\n            selectedOption: '',\r\n            isVisible: true,\r\n            listens: {\r\n                'selectedOption': 'applyChanges'\r\n            },\r\n            statefull: {\r\n                selectedOption: true,\r\n                applied: true\r\n            },\r\n            exports: {\r\n                applied: '${ $.provider }:params.sorting'\r\n            },\r\n            imports: {\r\n                preparedOptions: '${ $.columnsProvider }:elems'\r\n            },\r\n            modules: {\r\n                columns: '${ $.columnsProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initObservable: function () {\r\n            return this._super()\r\n                .observe([\r\n                    'applied',\r\n                    'selectedOption',\r\n                    'isVisible'\r\n                ]);\r\n        },\r\n\r\n        /**\r\n         * Prepared sort order options\r\n         */\r\n        preparedOptions: function (columns) {\r\n            if (columns && columns.length > 0) {\r\n                columns.map(function (column) {\r\n                    if (column.sortable === true) {\r\n                        this.options.push({\r\n                            value: column.index,\r\n                            label: column.label\r\n                        });\r\n                        this.isVisible(true);\r\n                    } else {\r\n                        this.isVisible(false);\r\n                    }\r\n                }.bind(this));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Apply changes\r\n         */\r\n        applyChanges: function () {\r\n            this.applied({\r\n                field: this.selectedOption(),\r\n                direction: this.sorting\r\n            });\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/toolbar.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'Magento_Ui/js/lib/view/utils/raf',\r\n    'rjsResolver',\r\n    'uiCollection'\r\n], function (_, $, raf, resolver, Collection) {\r\n    'use strict';\r\n\r\n    var transformProp;\r\n\r\n    /**\r\n     * Defines supported css 'transform' property.\r\n     *\r\n     * @returns {String|Undefined}\r\n     */\r\n    transformProp = (function () {\r\n        var style = document.documentElement.style,\r\n            base = 'Transform',\r\n            vendors = ['webkit', 'moz', 'ms', 'o'],\r\n            vi = vendors.length,\r\n            property;\r\n\r\n        if (typeof style.transform != 'undefined') {\r\n            return 'transform';\r\n        }\r\n\r\n        while (vi--) {\r\n            property = vendors[vi] + base;\r\n\r\n            if (typeof style[property] != 'undefined') {\r\n                return property;\r\n            }\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * Moves specified DOM element to the x and y coordinates.\r\n     *\r\n     * @param {HTMLElement} elem - Element to be relocated.\r\n     * @param {Number} x - X coordinate.\r\n     * @param {Number} y - Y coordinate.\r\n     */\r\n    function locate(elem, x, y) {\r\n        var value = 'translate(' + x + 'px,' + y + 'px)';\r\n\r\n        elem.style[transformProp] = value;\r\n    }\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/toolbar',\r\n            stickyTmpl: 'ui/grid/sticky/sticky',\r\n            tableSelector: 'table',\r\n            columnsProvider: 'ns = ${ $.ns }, componentType = columns',\r\n            refreshFPS: 15,\r\n            sticky: false,\r\n            visible: false,\r\n            _resized: true,\r\n            _scrolled: true,\r\n            _tableScrolled: true,\r\n            _requiredNodes: {\r\n                '$stickyToolbar': true,\r\n                '$stickyTable': true,\r\n                '$table': true,\r\n                '$sticky': true\r\n            },\r\n            stickyClass: {\r\n                'sticky-header': true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes sticky toolbar component.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            if (this.sticky) {\r\n                this.waitDOMElements()\r\n                    .then(this.run.bind(this));\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Establishes DOM elements wait process.\r\n         *\r\n         * @returns {jQueryPromise} Promise which will be resolved\r\n         *      when all of the required DOM elements are defined.\r\n         */\r\n        waitDOMElements: function () {\r\n            var _domPromise = $.Deferred();\r\n\r\n            _.bindAll(this, 'setStickyTable', 'setTableNode');\r\n\r\n            $.async({\r\n                ctx: ':not([data-role=\"sticky-el-root\"])',\r\n                component: this.columnsProvider,\r\n                selector: this.tableSelector\r\n            }, this.setTableNode);\r\n\r\n            $.async({\r\n                ctx: '[data-role=\"sticky-el-root\"]',\r\n                component: this.columnsProvider,\r\n                selector: this.tableSelector\r\n            }, this.setStickyTable);\r\n\r\n            this._domPromise = _domPromise;\r\n\r\n            return _domPromise.promise();\r\n        },\r\n\r\n        /**\r\n         * Defines left caption element.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setLeftCap: function (node) {\r\n            this.$leftCap = node;\r\n        },\r\n\r\n        /**\r\n         * Defines right caption element.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setRightCap: function (node) {\r\n            this.$rightCap = node;\r\n        },\r\n\r\n        /**\r\n         * Defines original table element.\r\n         *\r\n         * @param {HTMLTableElement} node\r\n         */\r\n        setTableNode: function (node) {\r\n            this.$cols = node.tHead.children[0].cells;\r\n            this.$tableContainer = node.parentNode;\r\n\r\n            this.setNode('$table', node);\r\n        },\r\n\r\n        /**\r\n         * Defines sticky table element.\r\n         *\r\n         * @param {HTMLTableElement} node\r\n         */\r\n        setStickyTable: function (node) {\r\n            this.$stickyCols = node.tHead.children[0].cells;\r\n\r\n            this.setNode('$stickyTable', node);\r\n        },\r\n\r\n        /**\r\n         * Defines sticky toolbar node.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setStickyToolbarNode: function (node) {\r\n            this.setNode('$stickyToolbar', node);\r\n        },\r\n\r\n        /**\r\n         * Defines sticky element container.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setStickyNode: function (node) {\r\n            this.setNode('$sticky', node);\r\n        },\r\n\r\n        /**\r\n         * Defines toolbar element container.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setToolbarNode: function (node) {\r\n            this.$toolbar = node;\r\n        },\r\n\r\n        /**\r\n         * Sets provided node as a value of 'key' property and\r\n         * performs check for required DOM elements.\r\n         *\r\n         * @param {String} key - Properties key.\r\n         * @param {HTMLElement} node - DOM element.\r\n         */\r\n        setNode: function (key, node) {\r\n            var nodes = this._requiredNodes,\r\n                promise = this._domPromise,\r\n                defined;\r\n\r\n            this[key] = node;\r\n\r\n            defined = _.every(nodes, function (enabled, name) {\r\n                return enabled ? this[name] : true;\r\n            }, this);\r\n\r\n            if (defined) {\r\n                resolver(promise.resolve, promise);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Starts refresh process of the sticky element\r\n         * and assigns DOM elements events handlers.\r\n         */\r\n        run: function () {\r\n            _.bindAll(\r\n                this,\r\n                'refresh',\r\n                '_onWindowResize',\r\n                '_onWindowScroll',\r\n                '_onTableScroll'\r\n            );\r\n\r\n            $(window).on({\r\n                scroll: this._onWindowScroll,\r\n                resize: this._onWindowResize\r\n            });\r\n\r\n            $(this.$tableContainer).on('scroll', this._onTableScroll);\r\n\r\n            this.refresh();\r\n            this.checkTableWidth();\r\n        },\r\n\r\n        /**\r\n         * Refreshes state of the sticky element and\r\n         * invokes DOM elements events handlers\r\n         * if corresponding event has been triggered.\r\n         */\r\n        refresh: function () {\r\n            if (!raf(this.refresh, this.refreshFPS)) {\r\n                return;\r\n            }\r\n\r\n            if (this._scrolled) {\r\n                this.onWindowScroll();\r\n            }\r\n\r\n            if (this._tableScrolled) {\r\n                this.onTableScroll();\r\n            }\r\n\r\n            if (this._resized) {\r\n                this.onWindowResize();\r\n            }\r\n\r\n            if (this.visible) {\r\n                this.checkTableWidth();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Shows sticky toolbar.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        show: function () {\r\n            this.visible = true;\r\n            //Check admin grid button has addedr not\r\n            if ($('.page-main-actions').length === 0) {\r\n                this.$sticky.style.top = 0;\r\n            }\r\n            this.$sticky.style.display = '';\r\n            this.$toolbar.style.visibility = 'hidden';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides sticky toolbar.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        hide: function () {\r\n            this.visible = false;\r\n\r\n            this.$sticky.style.display = 'none';\r\n            this.$toolbar.style.visibility = '';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if sticky toolbar covers original elements.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isCovered: function () {\r\n            var stickyTop = this._stickyTableTop + this._wScrollTop;\r\n\r\n            return stickyTop > this._tableTop;\r\n        },\r\n\r\n        /**\r\n         * Updates offset of the sticky table element.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateStickyTableOffset: function () {\r\n            var style,\r\n                top;\r\n\r\n            if (this.visible) {\r\n                top = this.$stickyTable.getBoundingClientRect().top;\r\n            } else {\r\n                style = this.$sticky.style;\r\n\r\n                style.visibility = 'hidden';\r\n                style.display = '';\r\n\r\n                top = this.$stickyTable.getBoundingClientRect().top;\r\n\r\n                style.display = 'none';\r\n                style.visibility = '';\r\n            }\r\n\r\n            this._stickyTableTop = top;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates offset of the original table element.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateTableOffset: function () {\r\n            var box = this.$table.getBoundingClientRect(),\r\n                top = box.top + this._wScrollTop;\r\n\r\n            if (this._tableTop !== top) {\r\n                this._tableTop = top;\r\n\r\n                this.onTableTopChange(top);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if width of the table or it's columns has changed.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        checkTableWidth: function () {\r\n            var cols        = this.$cols,\r\n                total       = cols.length,\r\n                rightBorder = cols[total - 2].offsetLeft,\r\n                tableWidth  = this.$table.offsetWidth;\r\n\r\n            if (this._tableWidth !== tableWidth) {\r\n                this._tableWidth = tableWidth;\r\n\r\n                this.onTableWidthChange(tableWidth);\r\n            }\r\n\r\n            if (this._rightBorder !== rightBorder) {\r\n                this._rightBorder = rightBorder;\r\n\r\n                this.onColumnsWidthChange();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates width of the sticky table.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateTableWidth: function () {\r\n            this.$stickyTable.style.width = this._tableWidth + 'px';\r\n\r\n            if (this._tableWidth < this._toolbarWidth) {\r\n                this.checkToolbarSize();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates width of the sticky columns.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateColumnsWidth: function () {\r\n            var cols        = this.$cols,\r\n                index       = cols.length,\r\n                stickyCols  = this.$stickyCols;\r\n\r\n            while (index--) {\r\n                stickyCols[index].width = cols[index].offsetWidth;\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Upadates size of the sticky toolbar element\r\n         * and invokes corresponding 'change' event handlers.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        checkToolbarSize: function () {\r\n            var width = this.$tableContainer.offsetWidth;\r\n\r\n            if (this._toolbarWidth !== width) {\r\n                this._toolbarWidth = width;\r\n\r\n                this.onToolbarWidthChange(width);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles sticky toolbar visibility if it's necessary.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateVisibility: function () {\r\n            if (this.visible !== this.isCovered()) {\r\n                this.visible ? this.hide() : this.show();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates position of the left cover area.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateLeftCap: function () {\r\n            locate(this.$leftCap, -this._wScrollLeft, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates position of the right cover area.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateRightCap: function () {\r\n            var left = this._toolbarWidth - this._wScrollLeft;\r\n\r\n            locate(this.$rightCap, left, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates position of the sticky table.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateTableScroll: function () {\r\n            var container = this.$tableContainer,\r\n                left = container.scrollLeft + this._wScrollLeft;\r\n\r\n            locate(this.$stickyTable, -left, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates width of the toolbar element.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateToolbarWidth: function () {\r\n            this.$stickyToolbar.style.width = this._toolbarWidth + 'px';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the toolbar element's width.\r\n         */\r\n        onToolbarWidthChange: function () {\r\n            this.updateToolbarWidth()\r\n                .updateRightCap();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the table top position.\r\n         */\r\n        onTableTopChange: function () {\r\n            this.updateStickyTableOffset();\r\n        },\r\n\r\n        /**\r\n         * Handles change of the table width.\r\n         */\r\n        onTableWidthChange: function () {\r\n            this.updateTableWidth();\r\n        },\r\n\r\n        /**\r\n         * Handles change of the table columns width.\r\n         */\r\n        onColumnsWidthChange: function () {\r\n            this.updateColumnsWidth();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the window's size.\r\n         */\r\n        onWindowResize: function () {\r\n            this.checkToolbarSize();\r\n\r\n            this._resized = false;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the original table scroll position.\r\n         */\r\n        onTableScroll: function () {\r\n            this.updateTableScroll();\r\n\r\n            this._tableScrolled = false;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of window's scroll position.\r\n         */\r\n        onWindowScroll: function () {\r\n            var scrollTop = window.pageYOffset,\r\n                scrollLeft = window.pageXOffset;\r\n\r\n            if (this._wScrollTop !== scrollTop) {\r\n                this._wScrollTop = scrollTop;\r\n\r\n                this.onWindowScrollTop(scrollTop);\r\n            }\r\n\r\n            if (this._wScrollLeft !== scrollLeft) {\r\n                this._wScrollLeft = scrollLeft;\r\n\r\n                this.onWindowScrollLeft(scrollLeft);\r\n            }\r\n\r\n            this._scrolled = false;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of windows' top scroll position.\r\n         */\r\n        onWindowScrollTop: function () {\r\n            this.updateTableOffset()\r\n                .updateVisibility();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of windows' left scroll position.\r\n         */\r\n        onWindowScrollLeft: function () {\r\n            this.updateRightCap()\r\n                .updateLeftCap()\r\n                .updateTableScroll();\r\n        },\r\n\r\n        /**\r\n         * Original window 'scroll' event handler.\r\n         * Sets 'scrolled' flag to 'true'.\r\n         *\r\n         * @private\r\n         */\r\n        _onWindowScroll: function () {\r\n            this._scrolled = true;\r\n        },\r\n\r\n        /**\r\n         * Original window 'resize' event handler.\r\n         * Sets 'resized' flag to 'true'.\r\n         *\r\n         * @private\r\n         */\r\n        _onWindowResize: function () {\r\n            this._resized = true;\r\n        },\r\n\r\n        /**\r\n         * Original table 'scroll' event handler.\r\n         * Sets '_tableScrolled' flag to 'true'.\r\n         *\r\n         * @private\r\n         */\r\n        _onTableScroll: function () {\r\n            this._tableScrolled = true;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/tree-massactions.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'Magento_Ui/js/grid/massactions'\r\n], function (ko, _, Massactions) {\r\n    'use strict';\r\n\r\n    return Massactions.extend({\r\n        defaults: {\r\n            template: 'ui/grid/tree-massactions',\r\n            submenuTemplate: 'ui/grid/submenu',\r\n            listens: {\r\n                opened: 'hideSubmenus'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .recursiveObserveActions(this.actions());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Recursive initializes observable actions.\r\n         *\r\n         * @param {Array} actions - Action objects.\r\n         * @param {String} [prefix] - An optional string that will be prepended\r\n         *      to the \"type\" field of all child actions.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        recursiveObserveActions: function (actions, prefix) {\r\n            _.each(actions, function (action) {\r\n                if (prefix) {\r\n                    action.type = prefix + '.' + action.type;\r\n                }\r\n\r\n                if (action.actions) {\r\n                    action.visible = ko.observable(false);\r\n                    action.parent = actions;\r\n                    this.recursiveObserveActions(action.actions, action.type);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies specified action.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        applyAction: function (actionIndex) {\r\n            var action = this.getAction(actionIndex),\r\n                visibility;\r\n\r\n            if (action.visible) {\r\n                visibility = action.visible();\r\n\r\n                this.hideSubmenus(action.parent);\r\n                action.visible(!visibility);\r\n\r\n                return this;\r\n            }\r\n\r\n            return this._super(actionIndex);\r\n        },\r\n\r\n        /**\r\n         * Retrieves action object associated with a specified index.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @param {Array} actions - Action objects.\r\n         * @returns {Object} Action object.\r\n         */\r\n        getAction: function (actionIndex, actions) {\r\n            var currentActions = actions || this.actions(),\r\n                result = false;\r\n\r\n            _.find(currentActions, function (action) {\r\n                if (action.type === actionIndex) {\r\n                    result = action;\r\n\r\n                    return true;\r\n                }\r\n\r\n                if (action.actions) {\r\n                    result = this.getAction(actionIndex, action.actions);\r\n\r\n                    return result;\r\n                }\r\n            }, this);\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Recursive hide all sub folders in given array.\r\n         *\r\n         * @param {Array} actions - Action objects.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        hideSubmenus: function (actions) {\r\n            var currentActions = actions || this.actions();\r\n\r\n            _.each(currentActions, function (action) {\r\n                if (action.visible && action.visible()) {\r\n                    action.visible(false);\r\n                }\r\n\r\n                if (action.actions) {\r\n                    this.hideSubmenus(action.actions);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/url-filter-applier.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'uiComponent',\r\n    'underscore',\r\n    'jquery'\r\n], function (Component, _, $) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            listingNamespace: null,\r\n            bookmarkProvider: 'componentType = bookmark, ns = ${ $.listingNamespace }',\r\n            filterProvider: 'componentType = filters, ns = ${ $.listingNamespace }',\r\n            filterKey: 'filters',\r\n            searchString: location.search,\r\n            modules: {\r\n                bookmarks: '${ $.bookmarkProvider }',\r\n                filterComponent: '${ $.filterProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Init component\r\n         *\r\n         * @return {exports}\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n            this.apply();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Apply filter\r\n         */\r\n        apply: function () {\r\n            var urlFilter = this.getFilterParam(this.searchString),\r\n                applied,\r\n                filters;\r\n\r\n            if (_.isUndefined(this.filterComponent())) {\r\n                setTimeout(function () {\r\n                    this.apply();\r\n                }.bind(this), 100);\r\n\r\n                return;\r\n            }\r\n\r\n            if (!_.isUndefined(this.bookmarks())) {\r\n                if (!_.size(this.bookmarks().getViewData(this.bookmarks().defaultIndex))) {\r\n                    setTimeout(function () {\r\n                        this.apply();\r\n                    }.bind(this), 500);\r\n\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (Object.keys(urlFilter).length) {\r\n                applied = this.filterComponent().get('applied');\r\n                filters = $.extend({}, applied, urlFilter);\r\n                this.filterComponent().set('applied', filters);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get filter param from url\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getFilterParam: function (url) {\r\n            var searchString = decodeURI(url),\r\n                itemArray;\r\n\r\n            return _.chain(searchString.slice(1).split('&'))\r\n                .map(function (item) {\r\n\r\n                    if (item && item.search(this.filterKey) !== -1) {\r\n                        itemArray = item.split('=');\r\n\r\n                        if (itemArray[1].search('\\\\[') === 0) {\r\n                            itemArray[1] = itemArray[1].replace(/[\\[\\]]/g, '').split(',');\r\n                        }\r\n\r\n                        itemArray[0] = itemArray[0].replace(this.filterKey, '')\r\n                                .replace(/[\\[\\]]/g, '');\r\n\r\n                        return itemArray;\r\n                    }\r\n                }.bind(this))\r\n                .compact()\r\n                .object()\r\n                .value();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/cells/sanitizedHtml.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'Magento_Ui/js/grid/columns/column',\r\n    'escaper'\r\n], function (Column, escaper) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            allowedTags: ['div', 'span', 'b', 'strong', 'i', 'em', 'u', 'a']\r\n        },\r\n\r\n        /**\r\n         * Name column.\r\n         *\r\n         * @param {String} label\r\n         * @returns {String}\r\n         */\r\n        getSafeHtml: function (label) {\r\n            return escaper.escapeHtml(label, this.allowedTags);\r\n        },\r\n\r\n        /**\r\n         * UnsanitizedHtml version of getSafeHtml.\r\n         *\r\n         * @param {String} label\r\n         * @returns {String}\r\n         */\r\n        getSafeUnsanitizedHtml: function (label) {\r\n            return this.getSafeHtml(label);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/actions.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    './column',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'mage/dataPost'\r\n], function (_, utils, registry, Column, confirm, dataPost) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/cells/actions',\r\n            sortable: false,\r\n            draggable: false,\r\n            actions: [],\r\n            rows: [],\r\n            rowsProvider: '${ $.parentName }',\r\n            fieldClass: {\r\n                'data-grid-actions-cell': true\r\n            },\r\n            templates: {\r\n                actions: {}\r\n            },\r\n            imports: {\r\n                rows: '${ $.rowsProvider }:rows'\r\n            },\r\n            listens: {\r\n                rows: 'updateActions'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('actions');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns specific action of a specified row\r\n         * or all action objects associated with it.\r\n         *\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @param {String} [actionIndex] - Action identifier.\r\n         * @returns {Array|Object}\r\n         */\r\n        getAction: function (rowIndex, actionIndex) {\r\n            var rowActions = this.actions[rowIndex];\r\n\r\n            return rowActions && actionIndex ?\r\n                rowActions[actionIndex] :\r\n                rowActions;\r\n        },\r\n\r\n        /**\r\n         * Returns visible actions for a specified row.\r\n         *\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {Array} Visible actions.\r\n         */\r\n        getVisibleActions: function (rowIndex) {\r\n            var rowActions = this.getAction(rowIndex);\r\n\r\n            return _.filter(rowActions, this.isActionVisible, this);\r\n        },\r\n\r\n        /**\r\n         * Adds new action. If an action with the specified identifier\r\n         * already exists, then the original will be overridden.\r\n         *\r\n         * @param {String} index - Actions' identifier.\r\n         * @param {Object} action - Actions' data.\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        addAction: function (index, action) {\r\n            var actionTmpls = this.templates.actions;\r\n\r\n            actionTmpls[index] = action;\r\n\r\n            this.updateActions();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Recreates actions for each row.\r\n         *\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        updateActions: function () {\r\n            this.actions = this.rows.map(this._formatActions, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Processes actions, setting additional information to them and\r\n         * evaluating their properties as string templates.\r\n         *\r\n         * @private\r\n         * @param {Object} row - Row object.\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {Array}\r\n         */\r\n        _formatActions: function (row, rowIndex) {\r\n            var rowActions      = row[this.index] || {},\r\n                recordId        = row[this.indexField],\r\n                customActions   = this.templates.actions;\r\n\r\n            /**\r\n             * Actions iterator.\r\n             */\r\n            function iterate(action, index) {\r\n                action = utils.extend({\r\n                    index: index,\r\n                    rowIndex: rowIndex,\r\n                    recordId: recordId\r\n                }, action);\r\n\r\n                return utils.template(action, row, true);\r\n            }\r\n\r\n            rowActions      = _.mapObject(rowActions, iterate);\r\n            customActions   = _.map(customActions, iterate);\r\n\r\n            customActions.forEach(function (action) {\r\n                rowActions[action.index] = action;\r\n            });\r\n\r\n            return rowActions;\r\n        },\r\n\r\n        /**\r\n         * Applies specified action.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        applyAction: function (actionIndex, rowIndex) {\r\n            var action = this.getAction(rowIndex, actionIndex),\r\n                callback = this._getCallback(action);\r\n\r\n            action.confirm ?\r\n                this._confirm(action, callback) :\r\n                callback();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates handler for the provided action if it's required.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {Function|Undefined}\r\n         */\r\n        getActionHandler: function (action) {\r\n            var index = action.index,\r\n                rowIndex = action.rowIndex;\r\n\r\n            if (this.isHandlerRequired(index, rowIndex)) {\r\n                return this.applyAction.bind(this, index, rowIndex);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns target of action if it's been set.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {String}\r\n         */\r\n        getTarget: function (action) {\r\n            if (action.target) {\r\n                return action.target;\r\n            }\r\n\r\n            return '_self';\r\n        },\r\n\r\n        /**\r\n         * Checks if specified action requires a handler function.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {Boolean}\r\n         */\r\n        isHandlerRequired: function (actionIndex, rowIndex) {\r\n            var action = this.getAction(rowIndex, actionIndex);\r\n\r\n            return _.isObject(action.callback) || action.confirm || !action.href;\r\n        },\r\n\r\n        /**\r\n         * Creates action callback based on it's data. If the action doesn't specify\r\n         * a callback function than the default one will be used.\r\n         *\r\n         * @private\r\n         * @param {Object} action - Action's object.\r\n         * @returns {Function} Callback function.\r\n         */\r\n        _getCallback: function (action) {\r\n            var args = [action.index, action.recordId, action],\r\n                callback = action.callback;\r\n\r\n            if (utils.isObject(callback)) {\r\n                args.unshift(callback.target);\r\n\r\n                callback = registry.async(callback.provider);\r\n            } else if (_.isArray(callback)) {\r\n                return this._getCallbacks(action);\r\n            } else if (!_.isFunction(callback)) {\r\n                callback = this.defaultCallback.bind(this);\r\n            }\r\n\r\n            return function () {\r\n                callback.apply(callback, args);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Creates action callback for multiple actions.\r\n         *\r\n         * @private\r\n         * @param {Object} action - Action's object.\r\n         * @returns {Function} Callback function.\r\n         */\r\n        _getCallbacks: function (action) {\r\n            var callback = action.callback,\r\n                callbacks = [],\r\n                tmpCallback;\r\n\r\n            _.each(callback, function (cb) {\r\n                tmpCallback = {\r\n                    action: registry.async(cb.provider),\r\n                    args: _.compact([cb.target, cb.params])\r\n                };\r\n                callbacks.push(tmpCallback);\r\n            });\r\n\r\n            return function () {\r\n                _.each(callbacks, function (cb) {\r\n                    cb.action.apply(cb.action, cb.args);\r\n                });\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Default action callback. Redirects to\r\n         * the specified in action's data url.\r\n         *\r\n         * @param {String} actionIndex - Action's identifier.\r\n         * @param {(Number|String)} recordId - Id of the record associated\r\n         *      with a specified action.\r\n         * @param {Object} action - Action's data.\r\n         */\r\n        defaultCallback: function (actionIndex, recordId, action) {\r\n            if (action.post) {\r\n                dataPost().postData({\r\n                    action: action.href,\r\n                    data: {}\r\n                });\r\n            } else {\r\n                window.location.href = action.href;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Shows actions' confirmation window.\r\n         *\r\n         * @param {Object} action - Action's data.\r\n         * @param {Function} callback - Callback that will be\r\n         *      invoked if action is confirmed.\r\n         */\r\n        _confirm: function (action, callback) {\r\n            var confirmData = action.confirm;\r\n\r\n            confirm({\r\n                title: confirmData.title,\r\n                content: confirmData.message,\r\n                actions: {\r\n                    confirm: callback\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Checks if row has only one visible action.\r\n         *\r\n         * @param {Number} rowIndex - Row index.\r\n         * @returns {Boolean}\r\n         */\r\n        isSingle: function (rowIndex) {\r\n            return this.getVisibleActions(rowIndex).length === 1;\r\n        },\r\n\r\n        /**\r\n         * Checks if row has more than one visible action.\r\n         *\r\n         * @param {Number} rowIndex - Row index.\r\n         * @returns {Boolean}\r\n         */\r\n        isMultiple: function (rowIndex) {\r\n            return this.getVisibleActions(rowIndex).length > 1;\r\n        },\r\n\r\n        /**\r\n         * Checks if action should be displayed.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {Boolean}\r\n         */\r\n        isActionVisible: function (action) {\r\n            return action.hidden !== true;\r\n        },\r\n\r\n        /**\r\n         * Overrides base method, because this component\r\n         * can't have global field action.\r\n         *\r\n         * @returns {Boolean} False.\r\n         */\r\n        hasFieldAction: function () {\r\n            return false;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/column.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'mageUtils',\r\n    'uiElement'\r\n], function (_, registry, utils, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            headerTmpl: 'ui/grid/columns/text',\r\n            bodyTmpl: 'ui/grid/cells/text',\r\n            disableAction: false,\r\n            controlVisibility: true,\r\n            sortable: true,\r\n            sorting: false,\r\n            visible: true,\r\n            draggable: true,\r\n            fieldClass: {},\r\n            ignoreTmpls: {\r\n                fieldAction: true\r\n            },\r\n            statefull: {\r\n                visible: true,\r\n                sorting: true\r\n            },\r\n            imports: {\r\n                exportSorting: 'sorting'\r\n            },\r\n            listens: {\r\n                '${ $.provider }:params.sorting.field': 'onSortChange'\r\n            },\r\n            modules: {\r\n                source: '${ $.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes column component.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initFieldClass();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'visible',\r\n                    'sorting',\r\n                    'disableAction'\r\n                ])\r\n                .observe([\r\n                    'dragging'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends list of field classes.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        initFieldClass: function () {\r\n            _.extend(this.fieldClass, {\r\n                _dragging: this.dragging\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies specified stored state of a column or one of its' properties.\r\n         *\r\n         * @param {String} state - Defines what state should be used: saved or default.\r\n         * @param {String} [property] - Defines what columns' property should be applied.\r\n         *      If not specified, then all columns stored properties will be used.\r\n         * @returns {Column} Chainable.\r\n         */\r\n        applyState: function (state, property) {\r\n            var namespace = this.storageConfig.root;\r\n\r\n            if (property) {\r\n                namespace += '.' + property;\r\n            }\r\n\r\n            this.storage('applyStateOf', state, namespace);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets columns' sorting. If column is currently sorted,\r\n         * than its' direction will be toggled.\r\n         *\r\n         * @param {*} [enable=true] - If false, than sorting will\r\n         *      be removed from a column.\r\n         * @returns {Column} Chainable.\r\n         */\r\n        sort: function (enable) {\r\n            if (!this.sortable) {\r\n                return this;\r\n            }\r\n\r\n            enable !== false ?\r\n                this.toggleSorting() :\r\n                this.sorting = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets descending columns' sorting.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        sortDescending: function () {\r\n            if (this.sortable) {\r\n                this.sorting = 'desc';\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets ascending columns' sorting.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        sortAscending: function () {\r\n            if (this.sortable) {\r\n                this.sorting = 'asc';\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles sorting direction.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        toggleSorting: function () {\r\n            this.sorting === 'asc' ?\r\n                this.sortDescending() :\r\n                this.sortAscending();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if column is sorted.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isSorted: function () {\r\n            return !!this.sorting;\r\n        },\r\n\r\n        /**\r\n         * Exports sorting data to the dataProvider if\r\n         * sorting of a column is enabled.\r\n         */\r\n        exportSorting: function () {\r\n            if (!this.sorting) {\r\n                return;\r\n            }\r\n\r\n            this.source('set', 'params.sorting', {\r\n                field: this.index,\r\n                direction: this.sorting\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Checks if column has an assigned action that will\r\n         * be performed when clicking on one of its' fields.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasFieldAction: function () {\r\n            return !!this.fieldAction || !!this.fieldActions;\r\n        },\r\n\r\n        /**\r\n         * Applies action described in a 'fieldAction' property\r\n         * or actions described in 'fieldActions' property.\r\n         *\r\n         * @param {Number} rowIndex - Index of a row which initiates action.\r\n         * @returns {Column} Chainable.\r\n         *\r\n         * @example Example of fieldAction definition, which is equivalent to\r\n         *      referencing to external component named 'listing.multiselect'\r\n         *      and calling its' method 'toggleSelect' with params [rowIndex, true] =>\r\n         *\r\n         *      {\r\n         *          provider: 'listing.multiselect',\r\n         *          target: 'toggleSelect',\r\n         *          params: ['${ $.$data.rowIndex }', true]\r\n         *      }\r\n         */\r\n        applyFieldAction: function (rowIndex) {\r\n            if (!this.hasFieldAction() || this.disableAction) {\r\n                return this;\r\n            }\r\n\r\n            if (this.fieldActions) {\r\n                this.fieldActions.forEach(this.applySingleAction.bind(this, rowIndex), this);\r\n            } else {\r\n                this.applySingleAction(rowIndex);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies single action\r\n         *\r\n         * @param {Number} rowIndex - Index of a row which initiates action.\r\n         * @param {Object} action - Action (fieldAction) to be applied\r\n         *\r\n         */\r\n        applySingleAction: function (rowIndex, action) {\r\n            var callback;\r\n\r\n            action = action || this.fieldAction;\r\n            action = utils.template(action, {\r\n                column: this,\r\n                rowIndex: rowIndex\r\n            }, true);\r\n\r\n            callback = this._getFieldCallback(action);\r\n\r\n            if (_.isFunction(callback)) {\r\n                callback();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns field action handler if it was specified.\r\n         *\r\n         * @param {Object} record - Record object with which action is associated.\r\n         * @returns {Function|Undefined}\r\n         */\r\n        getFieldHandler: function (record) {\r\n            if (this.hasFieldAction()) {\r\n                return this.applyFieldAction.bind(this, record._rowIndex);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates action callback based on its' data.\r\n         *\r\n         * @param {Object} action - Actions' object.\r\n         * @returns {Function|Boolean} Callback function or false\r\n         *      value if it was impossible create a callback.\r\n         */\r\n        _getFieldCallback: function (action) {\r\n            var args     = action.params || [],\r\n                callback = action.target;\r\n\r\n            if (action.provider && action.target) {\r\n                args.unshift(action.target);\r\n\r\n                callback = registry.async(action.provider);\r\n            }\r\n\r\n            if (!_.isFunction(callback)) {\r\n                return false;\r\n            }\r\n\r\n            return function () {\r\n                callback.apply(callback, args);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Ment to preprocess data associated with a current columns' field.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {String}\r\n         */\r\n        getLabel: function (record) {\r\n            return record[this.index];\r\n        },\r\n\r\n        /**\r\n         * UnsanitizedHtml version of getLabel.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {String}\r\n         */\r\n        getLabelUnsanitizedHtml: function (record) {\r\n            return this.getLabel(record);\r\n        },\r\n\r\n        /**\r\n         * Returns list of classes that should be applied to a field.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getFieldClass: function () {\r\n            return this.fieldClass;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the columns' header template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getHeader: function () {\r\n            return this.headerTmpl;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the columns' body template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getBody: function () {\r\n            return this.bodyTmpl;\r\n        },\r\n\r\n        /**\r\n         * Listener of the providers' sorting state changes.\r\n         *\r\n         * @param {Srting} field - Field by which current sorting is performed.\r\n         */\r\n        onSortChange: function (field) {\r\n            if (field !== this.index) {\r\n                this.sort(false);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/date.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'mageUtils',\r\n    'moment',\r\n    './column',\r\n    'underscore',\r\n    'moment-timezone-with-data'\r\n], function (utils, moment, Column, _) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            dateFormat: 'MMM d, YYYY h:mm:ss A',\r\n            calendarConfig: []\r\n        },\r\n\r\n        /**\r\n         * Overrides base method to normalize date format\r\n         *\r\n         * @returns {DateColumn} Chainable\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.dateFormat = utils.normalizeDate(this.dateFormat ? this.dateFormat : this.options.dateFormat);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Formats incoming date based on the 'dateFormat' property.\r\n         *\r\n         * @returns {String} Formatted date.\r\n         */\r\n        getLabel: function (value, format) {\r\n            var date;\r\n\r\n            if (this.storeLocale !== undefined) {\r\n                moment.locale(this.storeLocale, utils.extend({}, this.calendarConfig));\r\n            }\r\n\r\n            date = moment.utc(this._super());\r\n\r\n            if (!_.isUndefined(this.timezone) && moment.tz.zone(this.timezone) !== null) {\r\n                date = date.tz(this.timezone);\r\n            }\r\n\r\n            date = date.isValid() && value[this.index] ?\r\n                date.format(format || this.dateFormat) :\r\n                '';\r\n\r\n            return date;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/expandable.js":"/**\r\n * Copyright \u00a9 2016 Magento. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    './column',\r\n    'underscore'\r\n], function (Column, _) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/cells/expandable',\r\n            tooltipTmpl: 'ui/grid/cells/expandable/content',\r\n            visibeItemsLimit: 5,\r\n            tooltipTitle: ''\r\n        },\r\n\r\n        /**\r\n         * Gets label from full options array.\r\n         *\r\n         * @param {Object} record - Record object.\r\n         * @returns {String}\r\n         */\r\n        getFullLabel: function (record) {\r\n            return this.getLabelsArray(record).join(', ');\r\n        },\r\n\r\n        /**\r\n         * Gets label from options array limited by 'visibeItemsLimit'.\r\n         *\r\n         * @param {Object} record - Record object.\r\n         * @returns {String}\r\n         */\r\n        getShortLabel: function (record) {\r\n            return this.getLabelsArray(record).slice(0, this.visibeItemsLimit).join(', ');\r\n        },\r\n\r\n        /**\r\n         * Extracts array of labels associated with provided values and sort it alphabetically.\r\n         *\r\n         * @param {Object} record - Record object.\r\n         * @returns {Array}\r\n         */\r\n        getLabelsArray: function (record) {\r\n            var values = this.getLabel(record),\r\n                options = this.options || [],\r\n                labels = [];\r\n\r\n            if (_.isString(values)) {\r\n                values = values.split(',');\r\n            }\r\n\r\n            if (!Array.isArray(values)) {\r\n                values = [values];\r\n            }\r\n\r\n            values = values.map(function (value) {\r\n                return value + '';\r\n            });\r\n\r\n            options = this.flatOptions(options);\r\n\r\n            options.forEach(function (item) {\r\n                if (_.contains(values, item.value + '')) {\r\n                    labels.push(item.label);\r\n                }\r\n            });\r\n\r\n            return labels.sort(\r\n                function (labelFirst, labelSecond) {\r\n                    return labelFirst.toLowerCase().localeCompare(labelSecond.toLowerCase());\r\n                }\r\n            );\r\n        },\r\n\r\n        /**\r\n         * Transformation tree options structure to liner array.\r\n         *\r\n         * @param {Array} options\r\n         * @returns {Array}\r\n         */\r\n        flatOptions: function (options) {\r\n            var self = this;\r\n\r\n            return options.reduce(function (opts, option) {\r\n                if (_.isArray(option.value)) {\r\n                    opts = opts.concat(self.flatOptions(option.value));\r\n                } else {\r\n                    opts.push(option);\r\n                }\r\n\r\n                return opts;\r\n            }, []);\r\n        },\r\n\r\n        /**\r\n         * Checks if amount of options is more than limit value.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {Boolean}\r\n         */\r\n        isExpandable: function (record) {\r\n            return this.getLabel(record).length > this.visibeItemsLimit;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/image-preview.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/* eslint-disable no-undef */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'Magento_Ui/js/grid/columns/column',\r\n    'Magento_Ui/js/lib/key-codes'\r\n], function ($, _, Column, keyCodes) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/columns/image-preview',\r\n            previewImageSelector: '[data-image-preview]',\r\n            visibleRecord: null,\r\n            height: 0,\r\n            displayedRecord: {},\r\n            lastOpenedImage: false,\r\n            fields: {\r\n                previewUrl: 'preview_url',\r\n                title: 'title'\r\n            },\r\n            modules: {\r\n                masonry: '${ $.parentName }',\r\n                thumbnailComponent: '${ $.parentName }.thumbnail_url'\r\n            },\r\n            statefull: {\r\n                sorting: true,\r\n                lastOpenedImage: true\r\n            },\r\n            listens: {\r\n                '${ $.provider }:params.filters': 'hide',\r\n                '${ $.provider }:params.search': 'hide',\r\n                '${ $.provider }:params.paging': 'hide',\r\n                '${ $.provider }:data.items': 'updateDisplayedRecord'\r\n            },\r\n            exports: {\r\n                height: '${ $.parentName }.thumbnail_url:previewHeight'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initialize image preview component\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n            $(document).on('keydown', this.handleKeyDown.bind(this));\r\n\r\n            this.lastOpenedImage.subscribe(function (newValue) {\r\n\r\n                if (newValue === false && _.isNull(this.visibleRecord())) {\r\n                    return;\r\n                }\r\n\r\n                if (newValue === this.visibleRecord()) {\r\n                    return;\r\n                }\r\n\r\n                if (newValue === false) {\r\n                    this.hide();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.show(this.masonry().rows()[newValue]);\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init observable variables\r\n         * @return {Object}\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe([\r\n                    'visibleRecord',\r\n                    'height',\r\n                    'displayedRecord',\r\n                    'lastOpenedImage'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Next image preview\r\n         *\r\n         * @param {Object} record\r\n         */\r\n        next: function (record) {\r\n            var recordToShow;\r\n\r\n            if (record._rowIndex + 1 === this.masonry().rows().length) {\r\n                return;\r\n            }\r\n\r\n            recordToShow = this.getRecord(record._rowIndex + 1);\r\n            recordToShow.rowNumber = record.lastInRow ? record.rowNumber + 1 : record.rowNumber;\r\n            this.show(recordToShow);\r\n        },\r\n\r\n        /**\r\n         * Previous image preview\r\n         *\r\n         * @param {Object} record\r\n         */\r\n        prev: function (record) {\r\n            var recordToShow;\r\n\r\n            if (record._rowIndex === 0) {\r\n                return;\r\n            }\r\n            recordToShow = this.getRecord(record._rowIndex - 1);\r\n\r\n            recordToShow.rowNumber = record.firstInRow ? record.rowNumber - 1 : record.rowNumber;\r\n            this.show(recordToShow);\r\n        },\r\n\r\n        /**\r\n         * Get record\r\n         *\r\n         * @param {Integer} recordIndex\r\n         *\r\n         * @return {Object}\r\n         */\r\n        getRecord: function (recordIndex) {\r\n            return this.masonry().rows()[recordIndex];\r\n        },\r\n\r\n        /**\r\n         * Set selected row id\r\n         *\r\n         * @param {Number} rowId\r\n         * @private\r\n         */\r\n        _selectRow: function (rowId) {\r\n            this.thumbnailComponent().previewRowId(rowId);\r\n        },\r\n\r\n        /**\r\n         * Show image preview\r\n         *\r\n         * @param {Object} record\r\n         */\r\n        show: function (record) {\r\n            if (record._rowIndex === this.visibleRecord()) {\r\n                this.hide();\r\n\r\n                return;\r\n            }\r\n\r\n            this.hide();\r\n            this.displayedRecord(record);\r\n            this._selectRow(record.rowNumber || null);\r\n            this.visibleRecord(record._rowIndex);\r\n\r\n            this.lastOpenedImage(record._rowIndex);\r\n            this.updateImageData();\r\n        },\r\n\r\n        /**\r\n         * Update image data when image preview is opened\r\n         */\r\n        updateImageData: function () {\r\n            var img = $(this.previewImageSelector + ' img');\r\n\r\n            if (!img.get(0)) {\r\n                setTimeout(function () {\r\n                    this.updateImageData();\r\n                }.bind(this), 100);\r\n            } else if (img.get(0).complete) {\r\n                this.updateHeight();\r\n                this.scrollToPreview();\r\n            } else {\r\n                img.load(function () {\r\n                    this.updateHeight();\r\n                    this.scrollToPreview();\r\n                }.bind(this));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update preview displayed record data from the new items data if the preview is expanded\r\n         *\r\n         * @param {Array} items\r\n         */\r\n        updateDisplayedRecord: function (items) {\r\n            if (!_.isNull(this.visibleRecord())) {\r\n                this.displayedRecord(items[this.visibleRecord()]);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update image preview section height\r\n         */\r\n        updateHeight: function () {\r\n            this.height($(this.previewImageSelector).height() + 'px');\r\n        },\r\n\r\n        /**\r\n         * Close image preview\r\n         */\r\n        hide: function () {\r\n            this.lastOpenedImage(false);\r\n            this.visibleRecord(null);\r\n            this.height(0);\r\n            this._selectRow(null);\r\n        },\r\n\r\n        /**\r\n         * Returns visibility for given record.\r\n         *\r\n         * @param {Object} record\r\n         * @return {*|bool}\r\n         */\r\n        isVisible: function (record) {\r\n            if (this.lastOpenedImage() === record._rowIndex &&\r\n                this.visibleRecord() === null\r\n            ) {\r\n                this.show(record);\r\n            }\r\n\r\n            return this.visibleRecord() === record._rowIndex || false;\r\n        },\r\n\r\n        /**\r\n         * Returns preview image url for a given record.\r\n         *\r\n         * @param {Object} record\r\n         * @return {String}\r\n         */\r\n        getUrl: function (record) {\r\n            return record[this.fields.previewUrl];\r\n        },\r\n\r\n        /**\r\n         * Returns image title for a given record.\r\n         *\r\n         * @param {Object} record\r\n         * @return {String}\r\n         */\r\n        getTitle: function (record) {\r\n            return record[this.fields.title];\r\n        },\r\n\r\n        /**\r\n         * Get styles for preview\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getStyles: function () {\r\n            return {\r\n                'margin-top': '-' + this.height()\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Scroll to preview window\r\n         */\r\n        scrollToPreview: function () {\r\n            $(this.previewImageSelector).get(0).scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'center',\r\n                inline: 'nearest'\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handle keyboard navigation for image preview\r\n         *\r\n         * @param {Object} e\r\n         */\r\n        handleKeyDown: function (e) {\r\n            var key = keyCodes[e.keyCode];\r\n\r\n            if (this.visibleRecord() !== null && document.activeElement.tagName !== 'INPUT') {\r\n                if (key === 'pageLeftKey') {\r\n                    this.prev(this.displayedRecord());\r\n                } else if (key === 'pageRightKey') {\r\n                    this.next(this.displayedRecord());\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/image.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'Magento_Ui/js/grid/columns/column'\r\n], function (Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/columns/image',\r\n            modules: {\r\n                masonry: '${ $.parentName }',\r\n                previewComponent: '${ $.parentName }.preview'\r\n            },\r\n            previewRowId: null,\r\n            previewHeight: 0,\r\n            fields: {\r\n                id: 'id',\r\n                url: 'url'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Init observable variables\r\n         * @return {Object}\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe([\r\n                    'previewRowId',\r\n                    'previewHeight'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates styles when image loaded.\r\n         *\r\n         * @param {Object} record\r\n         */\r\n        updateStyles: function (record) {\r\n            !record.lastInRow || this.masonry().updateStyles();\r\n        },\r\n\r\n        /**\r\n         * Returns url to given record.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {String}\r\n         */\r\n        getUrl: function (record) {\r\n            return record[this.fields.url];\r\n        },\r\n\r\n        /**\r\n         * Returns id to given record.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {Number}\r\n         */\r\n        getId: function (record) {\r\n            return record[this.fields.id];\r\n        },\r\n\r\n        /**\r\n         * Returns container styles to given record.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {Object}\r\n         */\r\n        getStyles: function (record) {\r\n            var styles = record.styles();\r\n\r\n            styles['margin-bottom'] = this.previewRowId() === record.rowNumber ? this.previewHeight : 0;\r\n            record.styles(styles);\r\n\r\n            return record.styles;\r\n        },\r\n\r\n        /**\r\n         * Returns class list to given record.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {Object}\r\n         */\r\n        getClasses: function (record) {\r\n            return record.css || {};\r\n        },\r\n\r\n        /**\r\n         * Get is active record\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        getIsActive: function (record) {\r\n            return this.previewComponent().visibleRecord() === record._rowIndex || false;\r\n        },\r\n\r\n        /**\r\n         * Expand image preview\r\n         */\r\n        expandPreview: function (record) {\r\n            this.previewComponent().show(record);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/link.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './column',\r\n    'mageUtils'\r\n], function (Column, utils) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            link: 'link',\r\n            bodyTmpl: 'ui/grid/cells/link'\r\n        },\r\n\r\n        /**\r\n         * Returns link to given record.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {String}\r\n         */\r\n        getLink: function (record) {\r\n            return utils.nested(record, this.link);\r\n        },\r\n\r\n        /**\r\n         * Check if link parameter exist in record.\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {Boolean}\r\n         */\r\n        isLink: function (record) {\r\n            return !!utils.nested(record, this.link);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/multiselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mage/translate',\r\n    './column'\r\n], function (_, $t, Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            headerTmpl: 'ui/grid/columns/multiselect',\r\n            bodyTmpl: 'ui/grid/cells/multiselect',\r\n            controlVisibility: false,\r\n            sortable: false,\r\n            draggable: false,\r\n            menuVisible: false,\r\n            excludeMode: false,\r\n            allSelected: false,\r\n            indetermine: false,\r\n            preserveSelectionsOnFilter: false,\r\n            disabled: [],\r\n            selected: [],\r\n            excluded: [],\r\n            fieldClass: {\r\n                'data-grid-checkbox-cell': true\r\n            },\r\n            actions: [{\r\n                value: 'selectAll',\r\n                label: $t('Select All')\r\n            }, {\r\n                value: 'deselectAll',\r\n                label: $t('Deselect All')\r\n            }, {\r\n                value: 'selectPage',\r\n                label: $t('Select All on This Page')\r\n            }, {\r\n                value: 'deselectPage',\r\n                label: $t('Deselect All on This Page')\r\n            }],\r\n\r\n            imports: {\r\n                totalRecords: '${ $.provider }:data.totalRecords',\r\n                rows: '${ $.provider }:data.items'\r\n            },\r\n\r\n            listens: {\r\n                '${ $.provider }:params.filters': 'onFilter',\r\n                '${ $.provider }:params.search': 'onSearch',\r\n                selected: 'onSelectedChange',\r\n                rows: 'onRowsChange'\r\n            },\r\n\r\n            modules: {\r\n                source: '${ $.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe([\r\n                    'disabled',\r\n                    'selected',\r\n                    'excluded',\r\n                    'excludeMode',\r\n                    'totalSelected',\r\n                    'allSelected',\r\n                    'indetermine',\r\n                    'totalRecords',\r\n                    'rows'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects specified record.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        select: function (id, isIndex) {\r\n            this._setSelection(id, isIndex, true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Deselects specified record.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        deselect: function (id, isIndex) {\r\n            this._setSelection(id, isIndex, false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles selection of a specified record.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        toggleSelect: function (id, isIndex) {\r\n            this._setSelection(id, isIndex, !this.isSelected(id, isIndex));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified record is selected.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Boolean}\r\n         */\r\n        isSelected: function (id, isIndex) {\r\n            id = this.getId(id, isIndex);\r\n\r\n            return this.selected.contains(id);\r\n        },\r\n\r\n        /**\r\n         * Selects/deselects specified record base on a 'select' parameter value.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @param {Boolean} select - Whether to select/deselect record.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        _setSelection: function (id, isIndex, select) {\r\n            var selected = this.selected;\r\n\r\n            id = this.getId(id, isIndex);\r\n\r\n            if (!select && this.isSelected(id)) {\r\n                selected.remove(id);\r\n            } else if (select) {\r\n                selected.push(id);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects all records, even those that\r\n         * are not visible on the page.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        selectAll: function () {\r\n            this.excludeMode(true);\r\n\r\n            this.clearExcluded()\r\n                .selectPage();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Deselects all records.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        deselectAll: function () {\r\n            this.excludeMode(false);\r\n\r\n            this.clearExcluded();\r\n            this.selected.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects or deselects all records.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        toggleSelectAll: function () {\r\n            this.allSelected() ?\r\n                this.deselectAll() :\r\n                this.selectAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects all records on the current page.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        selectPage: function () {\r\n            var selected = _.union(this.selected(), this.getIds());\r\n\r\n            selected = _.difference(selected, this.disabled());\r\n\r\n            this.selected(selected);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Deselects all records on the current page.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        deselectPage: function () {\r\n            var pageIds = this.getIds();\r\n\r\n            this.selected.remove(function (value) {\r\n                return !!~pageIds.indexOf(value);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n        * Selects or deselects all records on the current page.\r\n        *\r\n        * @returns {Multiselect} Chainable.\r\n        */\r\n        togglePage: function () {\r\n            return this.isPageSelected() && !this.excluded().length ? this.deselectPage() : this.selectPage();\r\n        },\r\n\r\n        /**\r\n         * Clears the array of not selected records.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        clearExcluded: function () {\r\n            this.excluded.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieve all id's from available records.\r\n         *\r\n         * @param {Boolean} [exclude] - Whether to exclude not selected ids' from result.\r\n         * @returns {Array} An array of ids'.\r\n         */\r\n        getIds: function (exclude) {\r\n            var items = this.rows(),\r\n                ids = _.pluck(items, this.indexField);\r\n\r\n            return exclude ?\r\n                _.difference(ids, this.excluded()) :\r\n                ids;\r\n        },\r\n\r\n        /**\r\n         * Returns identifier of a record.\r\n         *\r\n         * @param {*} id - Id of a record or its' index in a rows array.\r\n         * @param {Boolean} [isIndex=false] - Flag that specifies with what\r\n         *      kind of identifier we are dealing with.\r\n         * @returns {*}\r\n         */\r\n        getId: function (id, isIndex) {\r\n            var record = this.rows()[id];\r\n\r\n            if (isIndex && record) {\r\n                id = record[this.indexField];\r\n            }\r\n\r\n            return id;\r\n        },\r\n\r\n        /**\r\n         * Recalculates list of the excluded records.\r\n         * Changes value of `excluded`.\r\n         *\r\n         * @param {Array} selected - List of the currently selected records.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        updateExcluded: function (selected) {\r\n            var excluded = this.excluded(),\r\n                fromPage = _.difference(this.getIds(), selected);\r\n\r\n            excluded = _.union(excluded, fromPage);\r\n            excluded = _.difference(excluded, selected);\r\n\r\n            this.excluded(excluded);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calculates number of selected records and\r\n         * updates 'totalSelected' property.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        countSelected: function () {\r\n            var total = this.totalRecords(),\r\n                excluded = this.excluded().length,\r\n                selected = this.selected().length;\r\n\r\n            if (this.excludeMode()) {\r\n                selected = total - excluded;\r\n            }\r\n\r\n            this.totalSelected(selected);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns selected items on a current page.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getPageSelections: function () {\r\n            var ids = this.getIds();\r\n\r\n            return this.selected.filter(function (id) {\r\n                return _.contains(ids, id);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Returns selections data.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getSelections: function () {\r\n            return {\r\n                excluded: this.excluded(),\r\n                selected: this.selected(),\r\n                total: this.totalSelected(),\r\n                excludeMode: this.excludeMode(),\r\n                params: this.getFiltering()\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Extracts filtering data from data provider.\r\n         *\r\n         * @returns {Object} Current filters state.\r\n         */\r\n        getFiltering: function () {\r\n            var source = this.source(),\r\n                keys = ['filters', 'search', 'namespace'];\r\n\r\n            if (!source) {\r\n                return {};\r\n            }\r\n\r\n            return _.pick(source.get('params'), keys);\r\n        },\r\n\r\n        /**\r\n         * Defines if provided select/deselect actions is relevant.\r\n         * E.g. there is no need in a 'select page' action if only one\r\n         * page is available.\r\n         *\r\n         * @param {String} actionId - Id of the action to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isActionRelevant: function (actionId) {\r\n            var pageIds         = this.getIds().length,\r\n                multiplePages   = pageIds < this.totalRecords(),\r\n                relevant        = true;\r\n\r\n            switch (actionId) {\r\n                case 'selectPage':\r\n                    relevant = multiplePages && !this.isPageSelected(true);\r\n                    break;\r\n\r\n                case 'deselectPage':\r\n                    relevant =  multiplePages && this.isPageSelected();\r\n                    break;\r\n\r\n                case 'selectAll':\r\n                    relevant = !this.allSelected();\r\n                    break;\r\n\r\n                case 'deselectAll':\r\n                    relevant = this.totalSelected() > 0;\r\n            }\r\n\r\n            return relevant;\r\n        },\r\n\r\n        /**\r\n         * Checks if current page has selected records.\r\n         *\r\n         * @param {Boolean} [all=false] - If set to 'true' checks that every\r\n         *      record on the page is selected. Otherwise checks that\r\n         *      page has some selected records.\r\n         * @returns {Boolean}\r\n         */\r\n        isPageSelected: function (all) {\r\n            var pageIds = this.getIds(),\r\n                selected = this.selected(),\r\n                excluded = this.excluded(),\r\n                iterator = all ? 'every' : 'some';\r\n\r\n            if (this.allSelected()) {\r\n                return true;\r\n            }\r\n\r\n            if (this.excludeMode()) {\r\n                return pageIds[iterator](function (id) {\r\n                    return !~excluded.indexOf(id);\r\n                });\r\n            }\r\n\r\n            return pageIds[iterator](function (id) {\r\n                return !!~selected.indexOf(id);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Updates values of the 'allSelected'\r\n         * and 'indetermine' properties.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var selected        = this.selected().length,\r\n                excluded        = this.excluded().length,\r\n                totalSelected   = this.totalSelected(),\r\n                totalRecords    = this.totalRecords(),\r\n                allSelected     = totalRecords && totalSelected === totalRecords;\r\n\r\n            if (this.excludeMode()) {\r\n                if (excluded === totalRecords && !this.preserveSelectionsOnFilter) {\r\n                    this.deselectAll();\r\n                }\r\n            } else if (totalRecords && selected === totalRecords && !this.preserveSelectionsOnFilter) {\r\n                this.selectAll();\r\n            }\r\n\r\n            this.allSelected(allSelected);\r\n            this.indetermine(totalSelected && !allSelected);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Overrides base method, because this component\r\n         * can't have global field action.\r\n         *\r\n         * @returns {Boolean} False.\r\n         */\r\n        hasFieldAction: function () {\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Callback method to handle changes of selected items.\r\n         *\r\n         * @param {Array} selected - An array of currently selected items.\r\n         */\r\n        onSelectedChange: function (selected) {\r\n            this.updateExcluded(selected)\r\n                .countSelected()\r\n                .updateState();\r\n        },\r\n\r\n        /**\r\n         * Is invoked when rows has changed. Recalculates selected items\r\n         * based on \"selectMode\" property.\r\n         */\r\n        onRowsChange: function () {\r\n            var newSelections;\r\n\r\n            if (this.excludeMode()) {\r\n                newSelections = _.union(this.getIds(true), this.selected());\r\n\r\n                this.selected(newSelections);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Is invoked when filtration is applied or removed\r\n         */\r\n        onFilter: function () {\r\n            if (!this.preserveSelectionsOnFilter) {\r\n                this.deselectAll();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Is invoked when search is applied or removed\r\n         */\r\n        onSearch: function () {\r\n            this.onFilter();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/onoff.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mage/translate',\r\n    './multiselect',\r\n    'uiRegistry'\r\n], function (_, $t, Column, registry) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            headerTmpl: 'ui/grid/columns/onoff',\r\n            bodyTmpl: 'ui/grid/cells/onoff',\r\n            fieldClass: {\r\n                'admin__scope-old': true,\r\n                'data-grid-onoff-cell': true,\r\n                'data-grid-checkbox-cell': false\r\n            },\r\n            imports: {\r\n                selectedData: '${ $.provider }:data.selectedData'\r\n            },\r\n            listens: {\r\n                '${ $.provider }:reloaded': 'setDefaultSelections'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {Number} id\r\n         * @returns {*}\r\n         */\r\n        getLabel: function (id) {\r\n            return this.selected.indexOf(id) !== -1 ? $t('On') : $t('Off');\r\n        },\r\n\r\n        /**\r\n         * Sets the ids for preselected elements\r\n         * @returns void\r\n         */\r\n        setDefaultSelections: function () {\r\n            var positionCacheValid = registry.get('position_cache_valid'),\r\n                selectedFromCache = registry.get('selected_cache'),\r\n                key,\r\n                i;\r\n\r\n            if (positionCacheValid && this.selected().length === 0) {\r\n                // Check selected data\r\n                selectedFromCache = JSON.parse(selectedFromCache);\r\n\r\n                for (i = 0; i < selectedFromCache.length; i++) {\r\n                    this.selected.push(selectedFromCache[i]);\r\n                }\r\n\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify(this.selected()));\r\n\r\n                return;\r\n            }\r\n\r\n            if (positionCacheValid && this.selected().length > 0) {\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify(this.selected()));\r\n\r\n                return;\r\n            }\r\n\r\n            if (this.selectedData.length === 0) {\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify([]));\r\n\r\n                return;\r\n            }\r\n\r\n            // Check selected data\r\n            for (key in this.selectedData) {\r\n                if (this.selectedData.hasOwnProperty(key) && this.selected().indexOf(key) === -1) {\r\n                    this.selected.push(key);\r\n                }\r\n            }\r\n            // Uncheck unselected data\r\n            for (i = 0; i < this.selected().length; i++) {\r\n                key = this.selected()[i];\r\n                this.selectedData.hasOwnProperty(key) || this.selected.splice(this.selected().indexOf(key), 1);\r\n                this.selectedData.hasOwnProperty(key) || i--;\r\n            }\r\n            registry.set('position_cache_valid', true);\r\n            registry.set('selected_cache', JSON.stringify(this.selected()));\r\n        },\r\n\r\n        /**\r\n         * Show/hide action in the massaction menu\r\n         * @param {Number} actionId\r\n         * @returns {Boolean}\r\n         */\r\n        isActionRelevant: function (actionId) {\r\n            var relevant = true;\r\n\r\n            switch (actionId) {\r\n                case 'selectPage':\r\n                    relevant = !this.isPageSelected(true);\r\n                    break;\r\n\r\n                case 'deselectPage':\r\n                    relevant =  this.isPageSelected();\r\n                    break;\r\n            }\r\n\r\n            return relevant;\r\n        },\r\n\r\n        /**\r\n         * Updates values of the 'allSelected'\r\n         * and 'indetermine' properties.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var positionCacheValid = registry.get('position_cache_valid'),\r\n                totalRecords    = this.totalRecords(),\r\n                selected        = this.selected().length,\r\n                excluded        = this.excluded().length,\r\n                totalSelected   = this.totalSelected(),\r\n                allSelected;\r\n\r\n            if (positionCacheValid && this.selected().length > 0) {\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify(this.selected()));\r\n            }\r\n\r\n            // When filters are enabled then totalRecords is unknown\r\n            if (this.getFiltering()) {\r\n                if (this.getFiltering().search !== '') {\r\n                    totalRecords = -1;\r\n                }\r\n            }\r\n\r\n            allSelected = totalRecords && totalSelected === totalRecords;\r\n\r\n            if (this.excludeMode()) {\r\n                if (excluded === totalRecords) {\r\n                    this.deselectAll();\r\n                }\r\n            } else if (totalRecords && selected === totalRecords) {\r\n                this.selectAll();\r\n            }\r\n\r\n            this.allSelected(allSelected);\r\n            this.indetermine(totalSelected && !allSelected);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/overlay.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'Magento_Ui/js/grid/columns/column'\r\n], function (Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/columns/overlay'\r\n        },\r\n\r\n        /**\r\n         * If overlay should be visible\r\n         *\r\n         * @param {Object} row\r\n         * @returns {Boolean}\r\n         */\r\n        isVisible: function (row) {\r\n            return !!row[this.index];\r\n        },\r\n\r\n        /**\r\n         * Get overlay label\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getLabel: function (row) {\r\n            return row[this.index];\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/select.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './column'\r\n], function (_, Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        /**\r\n         * Retrieves label associated with a provided value.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getLabel: function () {\r\n            var options = this.options || [],\r\n                values = this._super(),\r\n                label = [];\r\n\r\n            if (_.isString(values)) {\r\n                values = values.split(',');\r\n            }\r\n\r\n            if (!_.isArray(values)) {\r\n                values = [values];\r\n            }\r\n\r\n            values = values.map(function (value) {\r\n                return value + '';\r\n            });\r\n\r\n            options = this.flatOptions(options);\r\n\r\n            options.forEach(function (item) {\r\n                if (_.contains(values, item.value + '')) {\r\n                    label.push(item.label);\r\n                }\r\n            });\r\n\r\n            return label.join(', ');\r\n        },\r\n\r\n        /**\r\n         * Transformation tree options structure to liner array.\r\n         *\r\n         * @param {Array} options\r\n         * @returns {Array}\r\n         */\r\n        flatOptions: function (options) {\r\n            var self = this;\r\n\r\n            if (!_.isArray(options)) {\r\n                options = _.values(options);\r\n            }\r\n\r\n            return options.reduce(function (opts, option) {\r\n                if (_.isArray(option.value)) {\r\n                    opts = opts.concat(self.flatOptions(option.value));\r\n                } else {\r\n                    opts.push(option);\r\n                }\r\n\r\n                return opts;\r\n            }, []);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/thumbnail.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './column',\r\n    'jquery',\r\n    'mage/template',\r\n    'text!Magento_Ui/templates/grid/cells/thumbnail/preview.html',\r\n    'underscore',\r\n    'Magento_Ui/js/modal/modal',\r\n    'mage/translate'\r\n], function (Column, $, mageTemplate, thumbnailPreviewTemplate, _) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/cells/thumbnail',\r\n            fieldClass: {\r\n                'data-grid-thumbnail-cell': true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get image source data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getSrc: function (row) {\r\n            return row[this.index + '_src'];\r\n        },\r\n\r\n        /**\r\n         * Get original image source data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getOrigSrc: function (row) {\r\n            return row[this.index + '_orig_src'];\r\n        },\r\n\r\n        /**\r\n         * Get link data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getLink: function (row) {\r\n            return row[this.index + '_link'];\r\n        },\r\n\r\n        /**\r\n         * Get alternative text data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getAlt: function (row) {\r\n            return _.escape(row[this.index + '_alt']);\r\n        },\r\n\r\n        /**\r\n         * Check if preview available.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isPreviewAvailable: function () {\r\n            return this['has_preview'] || false;\r\n        },\r\n\r\n        /**\r\n         * Build preview.\r\n         *\r\n         * @param {Object} row\r\n         */\r\n        preview: function (row) {\r\n            var modalHtml = mageTemplate(\r\n                    thumbnailPreviewTemplate,\r\n                    {\r\n                        src: this.getOrigSrc(row), alt: this.getAlt(row), link: this.getLink(row),\r\n                        linkText: $.mage.__('Go to Details Page')\r\n                    }\r\n                ),\r\n                previewPopup = $('<div></div>').html(modalHtml);\r\n\r\n            previewPopup.modal({\r\n                title: this.getAlt(row),\r\n                innerScroll: true,\r\n                modalClass: '_image-box',\r\n                buttons: []\r\n            }).trigger('openModal');\r\n        },\r\n\r\n        /**\r\n         * Get field handler per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {Function}\r\n         */\r\n        getFieldHandler: function (row) {\r\n            if (this.isPreviewAvailable()) {\r\n                return this.preview.bind(this, row);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/columns.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'mage/translate',\r\n    'uiCollection'\r\n], function (_, utils, $t, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/controls/columns',\r\n            minVisible: 1,\r\n            maxVisible: 30,\r\n            viewportSize: 18,\r\n            displayArea: 'dataGridActions',\r\n            columnsProvider: 'ns = ${ $.ns }, componentType = columns',\r\n            imports: {\r\n                addColumns: '${ $.columnsProvider }:elems'\r\n            },\r\n            templates: {\r\n                headerMsg: $t('${ $.visible } out of ${ $.total } visible')\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Resets columns visibility to theirs default state.\r\n         *\r\n         * @returns {Columns} Chainable.\r\n         */\r\n        reset: function () {\r\n            this.elems.each('applyState', 'default', 'visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies last saved state of columns visibility.\r\n         *\r\n         * @returns {Columns} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.elems.each('applyState', '', 'visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds columns whose visibility can be controlled to the component.\r\n         *\r\n         * @param {Array} columns - Elements array that will be added to component.\r\n         * @returns {Columns} Chainable.\r\n         */\r\n        addColumns: function (columns) {\r\n            columns = _.where(columns, {\r\n                controlVisibility: true\r\n            });\r\n\r\n            this.insertChild(columns);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines whether child elements array length\r\n         * is greater than the 'viewportSize' property.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasOverflow: function () {\r\n            return this.elems().length > this.viewportSize;\r\n        },\r\n\r\n        /**\r\n         * Helper, checks\r\n         *  - if less than one item choosen\r\n         *  - if more then viewportMaxSize choosen\r\n         *\r\n         * @param {Object} elem\r\n         * @returns {Boolean}\r\n         */\r\n        isDisabled: function (elem) {\r\n            var visible = this.countVisible();\r\n\r\n            return elem.visible ?\r\n                    visible === this.minVisible :\r\n                    visible === this.maxVisible;\r\n        },\r\n\r\n        /**\r\n         * Counts number of visible columns.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countVisible: function () {\r\n            return this.elems.filter('visible').length;\r\n        },\r\n\r\n        /**\r\n         * Compile header message from headerMessage setting.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getHeaderMessage: function () {\r\n            return utils.template(this.templates.headerMsg, {\r\n                visible: this.countVisible(),\r\n                total: this.elems().length\r\n            });\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/bookmarks/bookmarks.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'mage/translate',\r\n    'rjsResolver',\r\n    'uiLayout',\r\n    'uiCollection'\r\n], function (_, utils, $t, resolver, layout, Collection) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes 'current' namespace from a 'path' string.\r\n     *\r\n     * @param {String} path\r\n     * @returns {String} Path without namespace.\r\n     */\r\n    function removeStateNs(path) {\r\n        path = typeof path == 'string' ? path.split('.') : [];\r\n\r\n        if (path[0] === 'current') {\r\n            path.shift();\r\n        }\r\n\r\n        return path.join('.');\r\n    }\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/controls/bookmarks/bookmarks',\r\n            viewTmpl: 'ui/grid/controls/bookmarks/view',\r\n            newViewLabel: $t('New View'),\r\n            defaultIndex: 'default',\r\n            activeIndex: 'default',\r\n            viewsArray: [],\r\n            storageConfig: {\r\n                provider: '${ $.storageConfig.name }',\r\n                name: '${ $.name }_storage',\r\n                component: 'Magento_Ui/js/grid/controls/bookmarks/storage'\r\n            },\r\n            views: {\r\n                default: {\r\n                    label: $t('Default View'),\r\n                    index: 'default',\r\n                    editable: false\r\n                }\r\n            },\r\n            tracks: {\r\n                editing: true,\r\n                viewsArray: true,\r\n                activeView: true,\r\n                hasChanges: true,\r\n                customLabel: true,\r\n                customVisible: true\r\n            },\r\n            listens: {\r\n                activeIndex: 'onActiveIndexChange',\r\n                activeView: 'checkState',\r\n                current: 'onStateChange'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes bookmarks component.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        initialize: function () {\r\n            utils.limit(this, 'checkState', 5);\r\n            utils.limit(this, 'saveState', 2000);\r\n\r\n            this._super()\r\n                .restore()\r\n                .initStorage()\r\n                .initViews();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates custom storage instance.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        initStorage: function () {\r\n            layout([this.storageConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines default data if it wasn't gathered previously.\r\n         *\r\n         * @private\r\n         * @returns {Bookmarks} Chainbale.\r\n         */\r\n        initDefaultView: function () {\r\n            var data = this.getViewData(this.defaultIndex);\r\n\r\n            if (!_.size(data)) {\r\n                this.setViewData(this.defaultIndex, this.current)\r\n                    .saveView(this.defaultIndex);\r\n            }\r\n\r\n            this.defaultDefined = true;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instances of a previously saved views.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        initViews: function () {\r\n            _.each(this.views, function (config) {\r\n                this.addView(config);\r\n            }, this);\r\n\r\n            this.activeView = this.getActiveView();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates complete configuration for a view.\r\n         *\r\n         * @param {Object} [config] - Additional configuration object.\r\n         * @returns {Object}\r\n         */\r\n        buildView: function (config) {\r\n            var view = {\r\n                label: this.newViewLabel,\r\n                index: '_' + Date.now(),\r\n                editable: true\r\n            };\r\n\r\n            utils.extend(view, config || {});\r\n\r\n            view.data   = view.data || utils.copy(this.current);\r\n            view.value  = view.label;\r\n\r\n            this.observe.call(view, true, 'label value');\r\n\r\n            return view;\r\n        },\r\n\r\n        /**\r\n         * Creates instance of a view with a provided configuration.\r\n         *\r\n         * @param {Object} [config] - View configuration.\r\n         * @param {Boolean} [saveView=false] - Whether to save created view automatically or not.\r\n         * @param {Boolean} [applyView=false] - Whether to apply created view automatically or not.\r\n         * @returns {View} Created view.\r\n         */\r\n        addView: function (config, saveView, applyView) {\r\n            var view    = this.buildView(config),\r\n                index   = view.index;\r\n\r\n            this.views[index] = view;\r\n\r\n            if (saveView) {\r\n                this.saveView(index);\r\n            }\r\n\r\n            if (applyView) {\r\n                this.applyView(index);\r\n            }\r\n\r\n            this.updateArray();\r\n\r\n            return view;\r\n        },\r\n\r\n        /**\r\n         * Removes specified view.\r\n         *\r\n         * @param {String} index - Index of a view to be removed.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        removeView: function (index) {\r\n            var viewPath = this.getViewPath(index);\r\n\r\n            if (this.isViewActive(index)) {\r\n                this.applyView(this.defaultIndex);\r\n            }\r\n\r\n            this.endEdit(index)\r\n                .remove(viewPath)\r\n                .removeStored(viewPath)\r\n                .updateArray();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Saves data of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view to be saved.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        saveView: function (index) {\r\n            var viewPath = this.getViewPath(index);\r\n\r\n            this.updateViewLabel(index)\r\n                .endEdit(index)\r\n                .store(viewPath)\r\n                .checkState();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets specified view as active\r\n         * and applies its' state.\r\n         *\r\n         * @param {String} index - Index of a view to be applied.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        applyView: function (index) {\r\n            this.applyStateOf(index)\r\n                .set('activeIndex', index);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates data of a specified view if it's\r\n         * currently active and saves its' data.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        updateAndSave: function (index) {\r\n            if (this.isViewActive(index)) {\r\n                this.updateActiveView(index);\r\n            }\r\n\r\n            this.saveView(index);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view to be retrieved.\r\n         * @returns {View}\r\n         */\r\n        getView: function (index) {\r\n            return this.views[index];\r\n        },\r\n\r\n        /**\r\n         * Returns instance of an active view.\r\n         *\r\n         * @returns {View}\r\n         */\r\n        getActiveView: function () {\r\n            return this.views[this.activeIndex];\r\n        },\r\n\r\n        /**\r\n         * Checks if specified view is active.\r\n         *\r\n         * @param {String} index - Index of a view to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isViewActive: function (index) {\r\n            return this.activeView === this.getView(index);\r\n        },\r\n\r\n        /**\r\n         * Sets current state as a data of an active view.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        updateActiveView: function () {\r\n            this.setViewData(this.activeIndex, this.current);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Replaces label a view with a provided one.\r\n         * If new label is not specified, then views'\r\n         * 'value' property will be taken.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @param {String} [label=view.value] - New labels' value.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        updateViewLabel: function (index, label) {\r\n            var view    = this.getView(index),\r\n                current = view.label;\r\n\r\n            label = (label || view.value).trim() || current;\r\n            label = this.uniqueLabel(label, current);\r\n\r\n            view.label = view.value = label;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieves data of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view whose data should be retrieved.\r\n         * @param {String} [property] - If not specified then whole views' data will be retrieved.\r\n         * @returns {Object} Views' data.\r\n         */\r\n        getViewData: function (index, property) {\r\n            var view = this.getView(index),\r\n                data = view.data;\r\n\r\n            if (property) {\r\n                data = utils.nested(data, property);\r\n            }\r\n\r\n            return utils.copy(data);\r\n        },\r\n\r\n        /**\r\n         * Sets data to the specified view.\r\n         *\r\n         * @param {String} index - Index of a view whose data will be replaced.\r\n         * @param {Object} data - New view data.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        setViewData: function (index, data) {\r\n            var path = this.getViewPath(index) + '.data';\r\n\r\n            this.set(path, utils.copy(data));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Starts editing of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        editView: function (index) {\r\n            this.editing = index;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Ends editing of specified view\r\n         * and restores its' label.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        endEdit: function (index) {\r\n            var view;\r\n\r\n            if (!this.isEditing(index)) {\r\n                return this;\r\n            }\r\n\r\n            index   = index || this.editing;\r\n            view    = this.getView(index);\r\n\r\n            view.value = view.label;\r\n\r\n            this.editing = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified view is in editing state.\r\n         *\r\n         * @param {String} index - Index of a view to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isEditing: function (index) {\r\n            return this.editing === index;\r\n        },\r\n\r\n        /**\r\n         * Generates label unique among present views, based\r\n         * on the incoming label pattern.\r\n         *\r\n         * @param {String} [label=this.newViewLabel] - Label pattern.\r\n         * @param {String} [exclude]\r\n         * @returns {String}\r\n         */\r\n        uniqueLabel: function (label, exclude) {\r\n            var labels      = _.pluck(this.views, 'label'),\r\n                hasParenth  = _.last(label) === ')',\r\n                index       = 2,\r\n                result,\r\n                suffix;\r\n\r\n            labels = _.without(labels, exclude);\r\n            result = label = label || this.newViewLabel;\r\n\r\n            for (index = 2; _.contains(labels, result); index++) {\r\n                suffix = '(' + index + ')';\r\n\r\n                if (!hasParenth) {\r\n                    suffix = ' ' + suffix;\r\n                }\r\n\r\n                result = label + suffix;\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Applies state of a specified view, without\r\n         * making it active.\r\n         *\r\n         * @param {String} [state=this.activeIndex]\r\n         * @param {String} [property]\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        applyStateOf: function (state, property) {\r\n            var index    = state || this.activeIndex,\r\n                dataPath = removeStateNs(property),\r\n                viewData = this.getViewData(index, dataPath);\r\n\r\n            dataPath = dataPath ?\r\n                'current.' + dataPath :\r\n                'current';\r\n\r\n            this.set(dataPath, viewData);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Saves current state.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        saveState: function () {\r\n            this.store('current');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies state of an active view.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        resetState: function () {\r\n            this.applyStateOf(this.activeIndex);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if current state is different\r\n         * from the state of an active view.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        checkState: function () {\r\n            var viewData = this.getViewData(this.activeIndex),\r\n                diff     = utils.compare(viewData, this.current);\r\n\r\n            this.hasChanges = !diff.equal;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the view instance,\r\n         * based on a provided index.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {String}\r\n         */\r\n        getViewPath: function (index) {\r\n            return 'views.' + index;\r\n        },\r\n\r\n        /**\r\n         * Updates the array of views.\r\n         *\r\n         * @returns {Bookmarks} Chainable\r\n         */\r\n        updateArray: function () {\r\n            this.viewsArray = _.values(this.views);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Shows custom view field and creates unique label for it.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        showCustom: function () {\r\n            this.customLabel    = this.uniqueLabel();\r\n            this.customVisible  = true;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides custom view field.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        hideCustom: function () {\r\n            this.customVisible = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if custom view field is visible.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isCustomVisible: function () {\r\n            return this.customVisible;\r\n        },\r\n\r\n        /**\r\n         * Creates new view instance with a label specified\r\n         * in a custom view field.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        applyCustom: function () {\r\n            var label = this.customLabel.trim();\r\n\r\n            this.hideCustom()\r\n                .addView({\r\n                    label: this.uniqueLabel(label)\r\n                }, true, true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Listener of the activeIndex property.\r\n         */\r\n        onActiveIndexChange: function () {\r\n            this.activeView = this.getActiveView();\r\n\r\n            this.store('activeIndex');\r\n        },\r\n\r\n        /**\r\n         * Listener of the activeIndex property.\r\n         */\r\n        onStateChange: function () {\r\n            this.checkState();\r\n            this.saveState();\r\n\r\n            if (!this.defaultDefined) {\r\n                resolver(this.initDefaultView, this);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/bookmarks/storage.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mageUtils',\r\n    'Magento_Ui/js/lib/core/storage/local',\r\n    'uiClass'\r\n], function ($, utils, storage, Class) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes ns prefix for path.\r\n     *\r\n     * @param {String} ns\r\n     * @param {String} path\r\n     * @returns {String}\r\n     */\r\n    function removeNs(ns, path) {\r\n        return path.replace(ns + '.', '');\r\n    }\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            ajaxSettings: {\r\n                method: 'POST',\r\n                data: {\r\n                    namespace: '${ $.namespace }'\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Delegates call to the localStorage adapter.\r\n         */\r\n        get: function () {\r\n            return {};\r\n        },\r\n\r\n        /**\r\n         * Sends request to store specified data.\r\n         *\r\n         * @param {String} path - Path by which data should be stored.\r\n         * @param {*} value - Value to be sent.\r\n         */\r\n        set: function (path, value) {\r\n            var property = removeNs(this.namespace, path),\r\n                data = {},\r\n                config;\r\n\r\n            utils.nested(data, property, value);\r\n\r\n            config = utils.extend({\r\n                url: this.saveUrl,\r\n                data: {\r\n                    data: JSON.stringify(data)\r\n                }\r\n            }, this.ajaxSettings);\r\n\r\n            $.ajax(config);\r\n        },\r\n\r\n        /**\r\n         * Sends request to remove specified data.\r\n         *\r\n         * @param {String} path - Path to the property to be removed.\r\n         */\r\n        remove: function (path) {\r\n            var property = removeNs(this.namespace, path),\r\n                config;\r\n\r\n            config = utils.extend({\r\n                url: this.deleteUrl,\r\n                data: {\r\n                    data: property\r\n                }\r\n            }, this.ajaxSettings);\r\n\r\n            $.ajax(config);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/button/split.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    return function (data, element) {\r\n\r\n        $(element).on('click.splitDefault', '.action-default', function () {\r\n            $(this).siblings('.dropdown-menu').find('.item-default').trigger('click');\r\n        });\r\n    };\r\n});\r\n","Magento_Ui/js/grid/editing/bulk.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    './record'\r\n], function (_, utils, Record) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes empty properties from the provided object.\r\n     *\r\n     * @param {Object} data - Object to be processed.\r\n     * @returns {Object}\r\n     */\r\n    function removeEmpty(data) {\r\n        data = utils.flatten(data);\r\n        data = _.omit(data, utils.isEmpty);\r\n\r\n        return utils.unflatten(data);\r\n    }\r\n\r\n    return Record.extend({\r\n        defaults: {\r\n            template: 'ui/grid/editing/bulk',\r\n            active: false,\r\n            templates: {\r\n                fields: {\r\n                    select: {\r\n                        caption: ' '\r\n                    }\r\n                }\r\n            },\r\n            imports: {\r\n                active: '${ $.editorProvider }:isMultiEditing'\r\n            },\r\n            listens: {\r\n                data: 'updateState',\r\n                active: 'updateState'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track({\r\n                    hasData: false\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends original method to disable possible\r\n         * 'required-entry' validation rule.\r\n         *\r\n         * @returns {Object} Columns' field definition.\r\n         */\r\n        buildField: function () {\r\n            var field = this._super(),\r\n                rules = field.validation;\r\n\r\n            if (rules) {\r\n                delete rules['required-entry'];\r\n            }\r\n\r\n            return field;\r\n        },\r\n\r\n        /**\r\n         * Applies current data to all active records.\r\n         *\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        apply: function () {\r\n            if (this.isValid()) {\r\n                this.applyData()\r\n                    .clear();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets available data to all active records.\r\n         *\r\n         * @param {Object} [data] -  If not specified, then current fields data will be used.\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        applyData: function (data) {\r\n            data = data || this.getData();\r\n\r\n            this.editor('setData', data, true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns data of all non-empty fields.\r\n         *\r\n         * @returns {Object} Fields data without empty values.\r\n         */\r\n        getData: function () {\r\n            return removeEmpty(this._super());\r\n        },\r\n\r\n        /**\r\n         * Updates own 'hasData' property and defines\r\n         * whether regular rows editing can be resumed.\r\n         *\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var fields  = _.keys(this.getData()),\r\n                hasData = !!fields.length;\r\n\r\n            this.hasData = hasData;\r\n\r\n            if (!this.active()) {\r\n                fields = [];\r\n            }\r\n\r\n            this.editor('disableFields', fields);\r\n            this.editor('canSave', !fields.length);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/client.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiClass'\r\n], function ($, _, utils, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            validateBeforeSave: true,\r\n            requestConfig: {\r\n                dataType: 'json',\r\n                type: 'POST'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes client instance.\r\n         *\r\n         * @returns {Client} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'onSuccess', 'onError');\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Sends XMLHttpRequest with a provided configuration.\r\n         *\r\n         * @param {Object} config - Configuration of request.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        send: function (config) {\r\n            var deffer  = $.Deferred();\r\n\r\n            config = utils.extend({}, this.requestConfig, config);\r\n\r\n            $.ajax(config)\r\n                .done(_.partial(this.onSuccess, deffer))\r\n                .fail(_.partial(this.onError, deffer));\r\n\r\n            return deffer.promise();\r\n        },\r\n\r\n        /**\r\n         * Proxy save method which might invoke\r\n         * data validation prior to its' saving.\r\n         *\r\n         * @param {Object} data - Data to be processed.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        save: function (data) {\r\n            var save = this._save.bind(this, data);\r\n\r\n            return this.validateBeforeSave ?\r\n                this.validate(data).pipe(save) :\r\n                save();\r\n        },\r\n\r\n        /**\r\n         * Sends request to validate provided data.\r\n         *\r\n         * @param {Object} data - Data to be validated.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        validate: function (data) {\r\n            return this.send({\r\n                url: this.validateUrl,\r\n                data: data\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Sends request to save provided data.\r\n         *\r\n         * @private\r\n         * @param {Object} data - Data to be validated.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        _save: function (data) {\r\n            return this.send({\r\n                url: this.saveUrl,\r\n                data: data\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Creates error object with a provided message.\r\n         *\r\n         * @param {String} msg - Errors' message.\r\n         * @returns {Object}\r\n         */\r\n        createError: function (msg) {\r\n            return {\r\n                type: 'error',\r\n                message: msg\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Handles ajax error callback.\r\n         *\r\n         * @param {jQueryPromise} promise - Promise to be rejected.\r\n         * @param {jQueryXHR} xhr - See 'jquery' ajax error callback.\r\n         * @param {String} status - See 'jquery' ajax error callback.\r\n         * @param {(String|Object)} err - See 'jquery' ajax error callback.\r\n         */\r\n        onError: function (promise, xhr, status, err) {\r\n            var msg;\r\n\r\n            msg = xhr.status !== 200 ?\r\n                xhr.status + ' (' + xhr.statusText + ')' :\r\n                err;\r\n\r\n            promise.reject(this.createError(msg));\r\n        },\r\n\r\n        /**\r\n         * Handles ajax success callback.\r\n         *\r\n         * @param {jQueryPromise} promise - Promise to be resolved.\r\n         * @param {*} data - See 'jquery' ajax success callback.\r\n         */\r\n        onSuccess: function (promise, data) {\r\n            var errors;\r\n\r\n            if (data.error) {\r\n                errors = _.map(data.messages, this.createError, this);\r\n\r\n                promise.reject(errors);\r\n            } else {\r\n                promise.resolve(data);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/editor-view.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'uiRegistry',\r\n    'uiClass'\r\n], function (ko, $, _, registry, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            rootSelector: '${ $.columnsProvider }:.admin__data-grid-wrap',\r\n            tableSelector: '${ $.rootSelector } -> table',\r\n            rowSelector: '${ $.tableSelector } tbody tr.data-row',\r\n            headerButtonsTmpl:\r\n                '<!-- ko template: headerButtonsTmpl --><!-- /ko -->',\r\n            bulkTmpl:\r\n                '<!-- ko scope: bulk -->' +\r\n                    '<!-- ko template: getTemplate() --><!-- /ko -->' +\r\n                '<!-- /ko -->',\r\n            rowTmpl:\r\n                '<!-- ko with: _editor -->' +\r\n                    '<!-- ko if: isActive($row()._rowIndex, true) -->' +\r\n                        '<!-- ko with: getRecord($row()._rowIndex, true) -->' +\r\n                            '<!-- ko template: rowTmpl --><!-- /ko -->' +\r\n                        '<!-- /ko -->' +\r\n                        '<!-- ko if: isSingleEditing && singleEditingButtons -->' +\r\n                            '<!-- ko template: rowButtonsTmpl --><!-- /ko -->' +\r\n                        '<!-- /ko -->' +\r\n                    '<!-- /ko -->' +\r\n               '<!-- /ko -->'\r\n        },\r\n\r\n        /**\r\n         * Initializes view component.\r\n         *\r\n         * @returns {View} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'initRoot',\r\n                'initTable',\r\n                'initRow',\r\n                'rowBindings',\r\n                'tableBindings'\r\n            );\r\n\r\n            this._super();\r\n\r\n            this.model = registry.get(this.model);\r\n\r\n            $.async(this.rootSelector, this.initRoot);\r\n            $.async(this.tableSelector, this.initTable);\r\n            $.async(this.rowSelector, this.initRow);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes columns root container.\r\n         *\r\n         * @param {HTMLElement} node\r\n         * @returns {View} Chainable.\r\n         */\r\n        initRoot: function (node) {\r\n            $(this.headerButtonsTmpl)\r\n                .insertBefore(node)\r\n                .applyBindings(this.model);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes table element.\r\n         *\r\n         * @param {HTMLTableElement} table\r\n         * @returns {View} Chainable.\r\n         */\r\n        initTable: function (table) {\r\n            $(table).bindings(this.tableBindings);\r\n\r\n            this.initBulk(table);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes bulk editor element\r\n         * for the provided table.\r\n         *\r\n         * @param {HTMLTableElement} table\r\n         * @returns {View} Chainable.\r\n         */\r\n        initBulk: function (table) {\r\n            var tableBody = $('tbody', table)[0];\r\n\r\n            $(this.bulkTmpl)\r\n                .prependTo(tableBody)\r\n                .applyBindings(this.model);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes table row.\r\n         *\r\n         * @param {HTMLTableRowElement} row\r\n         * @returns {View} Chainable.\r\n         */\r\n        initRow: function (row) {\r\n            var $editingRow;\r\n\r\n            $(row).extendCtx({\r\n                    _editor: this.model\r\n                }).bindings(this.rowBindings);\r\n\r\n            $editingRow = $(this.rowTmpl)\r\n                .insertBefore(row)\r\n                .applyBindings(row);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(row, this.removeEditingRow.bind(this, $editingRow));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns row bindings.\r\n         *\r\n         * @param {Object} ctx - Current context of a row.\r\n         * @returns {Object}\r\n         */\r\n        rowBindings: function (ctx) {\r\n            var model = this.model;\r\n\r\n            return {\r\n                visible: ko.computed(function () {\r\n                    var record = ctx.$row(),\r\n                        index = record && record._rowIndex;\r\n\r\n                    return !model.isActive(index, true);\r\n                })\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Returns table bindings.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        tableBindings: function () {\r\n            var model = this.model;\r\n\r\n            return {\r\n                css: {\r\n                    '_in-edit': ko.computed(function () {\r\n                        return model.hasActive() && !model.permanentlyActive;\r\n                    })\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Removes specified array of nodes.\r\n         *\r\n         * @param {ArrayLike} row\r\n         */\r\n        removeEditingRow: function (row) {\r\n            _.toArray(row).forEach(ko.removeNode);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/editor.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'mage/translate',\r\n    'uiCollection'\r\n], function (_, utils, layout, $t, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            rowButtonsTmpl: 'ui/grid/editing/row-buttons',\r\n            headerButtonsTmpl: 'ui/grid/editing/header-buttons',\r\n            successMsg: $t('You have successfully saved your edits.'),\r\n            errorsCount: 0,\r\n            bulkEnabled: true,\r\n            multiEditingButtons: true,\r\n            singleEditingButtons: true,\r\n            isMultiEditing: false,\r\n            isSingleEditing: false,\r\n            permanentlyActive: false,\r\n            rowsData: [],\r\n            fields: {},\r\n\r\n            templates: {\r\n                record: {\r\n                    parent: '${ $.$data.editor.name }',\r\n                    name: '${ $.$data.recordId }',\r\n                    component: 'Magento_Ui/js/grid/editing/record',\r\n                    columnsProvider: '${ $.$data.editor.columnsProvider }',\r\n                    editorProvider: '${ $.$data.editor.name }',\r\n                    preserveFields: {\r\n                        '${ $.$data.editor.indexField }': true\r\n                    }\r\n                }\r\n            },\r\n            bulkConfig: {\r\n                component: 'Magento_Ui/js/grid/editing/bulk',\r\n                name: '${ $.name }_bulk',\r\n                editorProvider: '${ $.name }',\r\n                columnsProvider: '${ $.columnsProvider }'\r\n            },\r\n            clientConfig: {\r\n                component: 'Magento_Ui/js/grid/editing/client',\r\n                name: '${ $.name }_client'\r\n            },\r\n            viewConfig: {\r\n                component: 'Magento_Ui/js/grid/editing/editor-view',\r\n                name: '${ $.name }_view',\r\n                model: '${ $.name }',\r\n                columnsProvider: '${ $.columnsProvider }'\r\n            },\r\n            imports: {\r\n                rowsData: '${ $.dataProvider }:data.items'\r\n            },\r\n            listens: {\r\n                '${ $.dataProvider }:reloaded': 'cancel',\r\n                '${ $.selectProvider }:selected': 'onSelectionsChange'\r\n            },\r\n            modules: {\r\n                source: '${ $.dataProvider }',\r\n                client: '${ $.clientConfig.name }',\r\n                columns: '${ $.columnsProvider }',\r\n                bulk: '${ $.bulkConfig.name }',\r\n                selections: '${ $.selectProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes editor component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'updateState', 'countErrors', 'onDataSaved', 'onSaveError');\r\n\r\n            this._super()\r\n                .initBulk()\r\n                .initClient()\r\n                .initView();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'errorsCount',\r\n                    'isMultiEditing',\r\n                    'isSingleEditing',\r\n                    'isSingleColumnEditing',\r\n                    'changed'\r\n                ])\r\n                .observe({\r\n                    canSave: true,\r\n                    activeRecords: [],\r\n                    messages: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes bulk editing component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initBulk: function () {\r\n            if (this.bulkEnabled) {\r\n                layout([this.bulkConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes editors' view component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initView: function () {\r\n            layout([this.viewConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes client component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initClient: function () {\r\n            layout([this.clientConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instance of a new record.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initRecord: function (id, isIndex) {\r\n            var record = this.buildRecord(id, isIndex);\r\n\r\n            layout([record]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds listeners on a new record.\r\n         *\r\n         * @param {Record} record\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initElement: function (record) {\r\n            record.on({\r\n                'active': this.updateState,\r\n                'errorsCount': this.countErrors\r\n            });\r\n\r\n            this.updateState();\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Creates configuration for a new record associated with a row data.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Object} Record configuration.\r\n         */\r\n        buildRecord: function (id, isIndex) {\r\n            var recordId = this.getId(id, isIndex),\r\n                recordTmpl = this.templates.record,\r\n                record;\r\n\r\n            if (this.getRecord(recordId)) {\r\n                return this;\r\n            }\r\n\r\n            record = utils.template(recordTmpl, {\r\n                editor: this,\r\n                recordId: id\r\n            });\r\n\r\n            record.recordId = id;\r\n            record.data     = this.getRowData(id);\r\n\r\n            return record;\r\n        },\r\n\r\n        /**\r\n         * Starts editing of a specified record. If records'\r\n         * instance doesn't exist, than it will be created.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        edit: function (id, isIndex) {\r\n            var recordId = this.getId(id, isIndex),\r\n                record   = this.getRecord(recordId);\r\n\r\n            record ?\r\n                record.active(true) :\r\n                this.initRecord(recordId);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Drops list of selections while activating only the specified record.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        startEdit: function (id, isIndex) {\r\n            var recordId = this.getId(id, isIndex);\r\n\r\n            this.selections()\r\n                .deselectAll()\r\n                .select(recordId);\r\n\r\n            return this.edit(recordId);\r\n        },\r\n\r\n        /**\r\n         * Hides records and resets theirs data.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.reset()\r\n                .hide()\r\n                .clearMessages()\r\n                .bulk('clear');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides records.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        hide: function () {\r\n            this.activeRecords.each('active', false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resets active records.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        reset: function () {\r\n            this.elems.each(function (record) {\r\n                this.resetRecord(record.recordId);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validates and saves data of active records.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        save: function () {\r\n            var data;\r\n\r\n            if (!this.isValid()) {\r\n                return this;\r\n            }\r\n\r\n            data = {\r\n                items: this.getData()\r\n            };\r\n\r\n            this.clearMessages()\r\n                .columns('showLoader');\r\n\r\n            this.client()\r\n                .save(data)\r\n                .done(this.onDataSaved)\r\n                .fail(this.onSaveError);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validates all active records.\r\n         *\r\n         * @returns {Array} An array of records and theirs validation results.\r\n         */\r\n        validate: function () {\r\n            return this.activeRecords.map(function (record) {\r\n                return {\r\n                    target: record,\r\n                    valid: record.isValid()\r\n                };\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Checks if all active records are valid.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isValid: function () {\r\n            return _.every(this.validate(), 'valid');\r\n        },\r\n\r\n        /**\r\n         * Returns active records data, indexed by a theirs ids.\r\n         *\r\n         * @returns {Object} Collection of records data.\r\n         */\r\n        getData: function () {\r\n            var data = this.activeRecords.map(function (record) {\r\n                var elemKey,\r\n                    recordData = record.getData();\r\n\r\n                for (elemKey in recordData) {\r\n                    if (_.isUndefined(recordData[elemKey])) {\r\n                        recordData[elemKey] = null;\r\n                    }\r\n                }\r\n\r\n                return recordData;\r\n            });\r\n\r\n            return _.indexBy(data, this.indexField);\r\n        },\r\n\r\n        /**\r\n         * Sets provided data to all active records.\r\n         *\r\n         * @param {Object} data - See 'setData' method of a 'Record'.\r\n         * @param {Boolean} partial - See 'setData' method of a 'Record'.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        setData: function (data, partial) {\r\n            this.activeRecords.each('setData', data, partial);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resets specific records' data\r\n         * to the data present in associated row.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        resetRecord: function (id, isIndex) {\r\n            var record  = this.getRecord(id, isIndex),\r\n                data    = this.getRowData(id, isIndex);\r\n\r\n            if (record && data) {\r\n                record.setData(data);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a specified record.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Record}\r\n         */\r\n        getRecord: function (id, isIndex) {\r\n            return this.elems.findWhere({\r\n                recordId: this.getId(id, isIndex)\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Creates record name based on a provided id.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {String}\r\n         */\r\n        formRecordName: function (id, isIndex) {\r\n            id = this.getId(id, isIndex);\r\n\r\n            return this.name + '.' + id;\r\n        },\r\n\r\n        /**\r\n         * Disables editing of specified fields.\r\n         *\r\n         * @param {Array} fields - An array of fields indexes to be disabled.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        disableFields: function (fields) {\r\n            var columns = this.columns().elems(),\r\n                data    = utils.copy(this.fields);\r\n\r\n            columns.forEach(function (column) {\r\n                var index = column.index,\r\n                    field = data[index] = data[index] || {};\r\n\r\n                field.disabled = _.contains(fields, index);\r\n            });\r\n\r\n            this.set('fields', data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Converts index of a row into the record id.\r\n         *\r\n         * @param {(Number|String)} id - Records' identifier or its' index in the rows array.\r\n         * @param {Boolean} [isIndex=false] - Flag that indicates if first\r\n         *      parameter is an index or identifier.\r\n         * @returns {String} Records' id.\r\n         */\r\n        getId: function (id, isIndex) {\r\n            var rowsData = this.rowsData,\r\n                record;\r\n\r\n            if (isIndex === true) {\r\n                record  = rowsData[id];\r\n                id      = record ? record[this.indexField] : false;\r\n            }\r\n\r\n            return id;\r\n        },\r\n\r\n        /**\r\n         * Returns data of a specified row.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Object}\r\n         */\r\n        getRowData: function (id, isIndex) {\r\n            id = this.getId(id, isIndex);\r\n\r\n            return _.find(this.rowsData, function (row) {\r\n                return row[this.indexField] === id;\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Checks if specified record is active.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See'getId' method.\r\n         * @returns {Boolean}\r\n         */\r\n        isActive: function (id, isIndex) {\r\n            var record = this.getRecord(id, isIndex);\r\n\r\n            return _.contains(this.activeRecords(), record);\r\n        },\r\n\r\n        /**\r\n         * Checks if editor has active records.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasActive: function () {\r\n            return !!this.activeRecords().length || this.permanentlyActive;\r\n        },\r\n\r\n        /**\r\n         * Counts number of active records.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countActive: function () {\r\n            return this.activeRecords().length;\r\n        },\r\n\r\n        /**\r\n         * Counts number of invalid fields across all active records.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countErrors: function () {\r\n            var errorsCount = 0;\r\n\r\n            this.activeRecords.each(function (record) {\r\n                errorsCount += record.errorsCount;\r\n            });\r\n\r\n            this.errorsCount = errorsCount;\r\n\r\n            return errorsCount;\r\n        },\r\n\r\n        /**\r\n         * Translatable error message text.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        countErrorsMessage: function () {\r\n            return $t('There are {placeholder} messages requires your attention.')\r\n                .replace('{placeholder}', this.countErrors());\r\n        },\r\n\r\n        /**\r\n         * Checks if editor has any errors.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasErrors: function () {\r\n            return !!this.countErrors();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the records 'active' property.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var active      = this.elems.filter('active'),\r\n                activeCount = active.length,\r\n                columns     = this.columns().elems;\r\n\r\n            columns.each('disableAction', !!activeCount);\r\n\r\n            this.isMultiEditing = activeCount > 1;\r\n            this.isSingleEditing = activeCount === 1;\r\n\r\n            this.activeRecords(active);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns list of selections from a current page.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getSelections: function () {\r\n            return this.selections().getPageSelections();\r\n        },\r\n\r\n        /**\r\n         * Starts editing of selected records. If record\r\n         * is not in the selections list, then it will get hidden.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        editSelected: function () {\r\n            var selections = this.getSelections();\r\n\r\n            this.elems.each(function (record) {\r\n                if (!_.contains(selections, record.recordId)) {\r\n                    record.active(false);\r\n                }\r\n            });\r\n\r\n            selections.forEach(function (id) {\r\n                this.edit(id);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if there is any additional messages.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasMessages: function () {\r\n            return this.messages().length;\r\n        },\r\n\r\n        /**\r\n         * Adds new additional message or a set of messages.\r\n         *\r\n         * @param {(Object|Array)} message - Messages to be added.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        addMessage: function (message) {\r\n            var messages = this.messages();\r\n\r\n            Array.isArray(message) ?\r\n                messages.push.apply(messages, message) :\r\n                messages.push(message);\r\n\r\n            this.messages(messages);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes all additional messages.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        clearMessages: function () {\r\n            this.messages.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Listener of the selections data changes.\r\n         */\r\n        onSelectionsChange: function () {\r\n            if (this.hasActive()) {\r\n                this.editSelected();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles successful save request.\r\n         */\r\n        onDataSaved: function () {\r\n            var msg = {\r\n                type: 'success',\r\n                message: this.successMsg\r\n            };\r\n\r\n            this.addMessage(msg)\r\n                .source('reload', {\r\n                    refresh: true\r\n                });\r\n        },\r\n\r\n        /**\r\n         * Handles failed save request.\r\n         *\r\n         * @param {(Array|Object)} errors - List of errors or a single error object.\r\n         */\r\n        onSaveError: function (errors) {\r\n            this.addMessage(errors)\r\n                .columns('hideLoader');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/record.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiCollection'\r\n], function (_, utils, layout, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            active: true,\r\n            hasChanges: false,\r\n            fields: [],\r\n            errorsCount: 0,\r\n            fieldTmpl: 'ui/grid/editing/field',\r\n            rowTmpl: 'ui/grid/editing/row',\r\n            templates: {\r\n                fields: {\r\n                    base: {\r\n                        parent: '${ $.$data.record.name }',\r\n                        name: '${ $.$data.column.index }',\r\n                        provider: '${ $.$data.record.name }',\r\n                        dataScope: 'data.${ $.$data.column.index }',\r\n                        imports: {\r\n                            disabled: '${ $.$data.record.parentName }:fields.${ $.$data.column.index }.disabled'\r\n                        },\r\n                        isEditor: true\r\n                    },\r\n                    text: {\r\n                        component: 'Magento_Ui/js/form/element/abstract',\r\n                        template: 'ui/form/element/input'\r\n                    },\r\n                    date: {\r\n                        component: 'Magento_Ui/js/form/element/date',\r\n                        template: 'ui/form/element/date',\r\n                        dateFormat: 'MMM d, y h:mm:ss a'\r\n                    },\r\n                    select: {\r\n                        component: 'Magento_Ui/js/form/element/select',\r\n                        template: 'ui/form/element/select',\r\n                        options: '${ JSON.stringify($.$data.column.options) }'\r\n                    }\r\n                }\r\n            },\r\n            ignoreTmpls: {\r\n                data: true\r\n            },\r\n            listens: {\r\n                elems: 'updateFields',\r\n                data: 'updateState'\r\n            },\r\n            imports: {\r\n                onColumnsUpdate: '${ $.columnsProvider }:elems'\r\n            },\r\n            modules: {\r\n                columns: '${ $.columnsProvider }',\r\n                editor: '${ $.editorProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes record component.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'countErrors');\r\n            utils.limit(this, 'updateState', 10);\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('errorsCount hasChanges')\r\n                .observe('active fields');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds listeners on a field.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initElement: function (field) {\r\n            field.on('error', this.countErrors);\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Creates new instance of a field.\r\n         *\r\n         * @param {Column} column - Column instance which contains field definition.\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initField: function (column) {\r\n            var field = this.buildField(column);\r\n\r\n            layout([field]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Builds fields' configuration described in a provided column.\r\n         *\r\n         * @param {Column} column - Column instance which contains field definition.\r\n         * @returns {Object} Complete fields' configuration.\r\n         */\r\n        buildField: function (column) {\r\n            var fields = this.templates.fields,\r\n                field  = column.editor;\r\n\r\n            if (_.isObject(field) && field.editorType) {\r\n                field = utils.extend({}, fields[field.editorType], field);\r\n            } else if (_.isString(field)) {\r\n                field = fields[field];\r\n            }\r\n\r\n            field = utils.extend({}, fields.base, field);\r\n\r\n            return utils.template(field, {\r\n                record: this,\r\n                column: column\r\n            }, true, true);\r\n        },\r\n\r\n        /**\r\n         * Creates fields for the specified columns.\r\n         *\r\n         * @param {Array} columns - An array of column instances.\r\n         * @returns {Record} Chainable.\r\n         */\r\n        createFields: function (columns) {\r\n            columns.forEach(function (column) {\r\n                if (column.editor && !this.hasChild(column.index)) {\r\n                    this.initField(column);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a column found by provided index.\r\n         *\r\n         * @param {String} index - Index of a column (e.g. 'title').\r\n         * @returns {Column}\r\n         */\r\n        getColumn: function (index) {\r\n            return this.columns().getChild(index);\r\n        },\r\n\r\n        /**\r\n         * Returns records' current data object.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getData: function () {\r\n            return this.filterData(this.data);\r\n        },\r\n\r\n        /**\r\n         * Returns saved records' data. Data will be processed\r\n         * with a 'filterData' and 'normalizeData' methods.\r\n         *\r\n         * @returns {Object} Saved records' data.\r\n         */\r\n        getSavedData: function () {\r\n            var editor      = this.editor(),\r\n                savedData   = editor.getRowData(this.index);\r\n\r\n            savedData = this.filterData(savedData);\r\n\r\n            return this.normalizeData(savedData);\r\n        },\r\n\r\n        /**\r\n         * Replaces current records' data with the provided one.\r\n         *\r\n         * @param {Object} data - New records data.\r\n         * @param {Boolean} [partial=false] - Flag that defines whether\r\n         *      to completely replace current data or to extend it.\r\n         * @returns {Record} Chainable.\r\n         */\r\n        setData: function (data, partial) {\r\n            var currentData = partial ? this.data : {};\r\n\r\n            data = this.normalizeData(data);\r\n            data = utils.extend({}, currentData, data);\r\n\r\n            this.set('data', data)\r\n                .updateState();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Filters provided object extracting from it values\r\n         * that can be matched with an existing fields.\r\n         *\r\n         * @param {Object} data - Object to be processed.\r\n         * @returns {Object}\r\n         */\r\n        filterData: function (data) {\r\n            var fields = _.pluck(this.elems(), 'index');\r\n\r\n            _.each(this.preserveFields, function (enabled, field) {\r\n                if (enabled && !_.contains(fields, field)) {\r\n                    fields.push(field);\r\n                }\r\n            });\r\n\r\n            return _.pick(data, fields);\r\n        },\r\n\r\n        /**\r\n         * Parses values of a provided object with\r\n         * a 'normalizeData' method of a corresponding field.\r\n         *\r\n         * @param {Object} data - Data to be processed.\r\n         * @returns {Object}\r\n         */\r\n        normalizeData: function (data) {\r\n            var index;\r\n\r\n            this.elems.each(function (elem) {\r\n                index = elem.index;\r\n\r\n                if (data.hasOwnProperty(index)) {\r\n                    data[index] = elem.normalizeData(data[index]);\r\n                }\r\n            });\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Clears values of all fields.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.elems.each('clear');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validates all of the available fields.\r\n         *\r\n         * @returns {Array} An array with validation results.\r\n         */\r\n        validate: function () {\r\n            return this.elems.map('validate');\r\n        },\r\n\r\n        /**\r\n         * Checks if all fields are valid.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isValid: function () {\r\n            return _.every(this.validate(), 'valid');\r\n        },\r\n\r\n        /**\r\n         * Counts total errors amount across all fields.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countErrors: function () {\r\n            var errorsCount = this.elems.filter('error').length;\r\n\r\n            this.errorsCount = errorsCount;\r\n\r\n            return errorsCount;\r\n        },\r\n\r\n        /**\r\n         * Returns difference between current data and its'\r\n         * initial state, retrieved from the records collection.\r\n         *\r\n         * @returns {Object} Object with changes descriptions.\r\n         */\r\n        checkChanges: function () {\r\n            var savedData   = this.getSavedData(),\r\n                data        = this.normalizeData(this.getData());\r\n\r\n            return utils.compare(savedData, data);\r\n        },\r\n\r\n        /**\r\n         * Updates 'fields' array filling it with available editors\r\n         * or with column instances if associated field is not present.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        updateFields: function () {\r\n            var fields;\r\n\r\n            fields = this.columns().elems.map(function (column) {\r\n                return this.getChild(column.index) || column;\r\n            }, this);\r\n\r\n            this.fields(fields);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates state of a 'hasChanges' property.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var diff = this.checkChanges(),\r\n                changed = {};\r\n\r\n            this.hasChanges = !diff.equal;\r\n            changed[this.index] = this.data;\r\n            this.editor().set('changed', [changed]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided column is an actions column.\r\n         *\r\n         * @param {Column} column - Column to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isActionsColumn: function (column) {\r\n            return column.dataType === 'actions';\r\n        },\r\n\r\n        /**\r\n         * Listener of columns provider child array changes.\r\n         *\r\n         * @param {Array} columns - Modified child elements array.\r\n         */\r\n        onColumnsUpdate: function (columns) {\r\n            this.createFields(columns)\r\n                .updateFields();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/filters/chips.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiCollection'\r\n], function (_, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/filters/chips',\r\n            componentType: 'filtersChips'\r\n        },\r\n\r\n        /**\r\n         * Defines if some of components' children has available previews.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasPreviews: function () {\r\n            return this.elems().some(function (elem) {\r\n                return !!elem.previews.length;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Calls clear method on all of its' children.\r\n         *\r\n         * @returns {Chips} Chainable.\r\n         */\r\n        clear: function () {\r\n            _.invoke(this.elems(), 'clear');\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/filters/filters.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiCollection',\r\n    'mage/translate',\r\n    'jquery'\r\n], function (_, utils, layout, Collection, $t, $) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Extracts and formats preview of an element.\r\n     *\r\n     * @param {Object} elem - Element whose preview should be extracted.\r\n     * @returns {Object} Formatted data.\r\n     */\r\n    function extractPreview(elem) {\r\n        return {\r\n            label: elem.label,\r\n            preview: elem.getPreview(),\r\n            elem: elem\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Removes empty properties from the provided object.\r\n     *\r\n     * @param {Object} data - Object to be processed.\r\n     * @returns {Object}\r\n     */\r\n    function removeEmpty(data) {\r\n        var result = utils.mapRecursive(data, utils.removeEmptyValues.bind(utils));\r\n\r\n        return utils.mapRecursive(result, function (value) {\r\n            return _.isString(value) ? value.trim() : value;\r\n        });\r\n    }\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/filters/filters',\r\n            stickyTmpl: 'ui/grid/sticky/filters',\r\n            _processed: [],\r\n            columnsProvider: 'ns = ${ $.ns }, componentType = columns',\r\n            bookmarksProvider: 'ns = ${ $.ns }, componentType = bookmark',\r\n            applied: {\r\n                placeholder: true\r\n            },\r\n            filters: {\r\n                placeholder: true\r\n            },\r\n            templates: {\r\n                filters: {\r\n                    base: {\r\n                        parent: '${ $.$data.filters.name }',\r\n                        name: '${ $.$data.column.index }',\r\n                        provider: '${ $.$data.filters.name }',\r\n                        dataScope: '${ $.$data.column.index }',\r\n                        label: '${ $.$data.column.label }',\r\n                        imports: {\r\n                            visible: '${ $.$data.column.name }:visible'\r\n                        }\r\n                    },\r\n                    text: {\r\n                        component: 'Magento_Ui/js/form/element/abstract',\r\n                        template: 'ui/grid/filters/field'\r\n                    },\r\n                    select: {\r\n                        component: 'Magento_Ui/js/form/element/select',\r\n                        template: 'ui/grid/filters/field',\r\n                        options: '${ JSON.stringify($.$data.column.options) }',\r\n                        caption: ' '\r\n                    },\r\n                    dateRange: {\r\n                        component: 'Magento_Ui/js/grid/filters/range',\r\n                        rangeType: 'date'\r\n                    },\r\n                    datetimeRange: {\r\n                        component: 'Magento_Ui/js/grid/filters/range',\r\n                        rangeType: 'datetime'\r\n                    },\r\n                    textRange: {\r\n                        component: 'Magento_Ui/js/grid/filters/range',\r\n                        rangeType: 'text'\r\n                    }\r\n                }\r\n            },\r\n            chipsConfig: {\r\n                name: '${ $.name }_chips',\r\n                provider: '${ $.chipsConfig.name }',\r\n                component: 'Magento_Ui/js/grid/filters/chips'\r\n            },\r\n            listens: {\r\n                active: 'updatePreviews',\r\n                applied: 'cancel updateActive'\r\n            },\r\n            statefull: {\r\n                applied: true\r\n            },\r\n            exports: {\r\n                applied: '${ $.provider }:params.filters'\r\n            },\r\n            imports: {\r\n                onColumnsUpdate: '${ $.columnsProvider }:elems',\r\n                onBackendError: '${ $.provider }:lastError',\r\n                bookmarksActiveIndex: '${ $.bookmarksProvider }:activeIndex'\r\n            },\r\n            modules: {\r\n                columns: '${ $.columnsProvider }',\r\n                chips: '${ $.chipsConfig.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes filters component.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initialize: function (config) {\r\n            if (typeof config.options !== 'undefined' && config.options.dateFormat) {\r\n                this.constructor.defaults.templates.filters.dateRange.dateFormat = config.options.dateFormat;\r\n            }\r\n            _.bindAll(this, 'updateActive');\r\n\r\n            this._super()\r\n                .initChips()\r\n                .cancel();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track({\r\n                    active: [],\r\n                    previews: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes chips component.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initChips: function () {\r\n            layout([this.chipsConfig]);\r\n\r\n            this.chips('insertChild', this.name);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when another element was added to filters collection.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initElement: function (elem) {\r\n            this._super();\r\n\r\n            elem.on('elems', this.updateActive);\r\n\r\n            this.updateActive();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears filters data.\r\n         *\r\n         * @param {Object} [filter] - If provided, then only specified\r\n         *      filter will be cleared. Otherwise, clears all data.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        clear: function (filter) {\r\n            filter ?\r\n                filter.clear() :\r\n                _.invoke(this.active, 'clear');\r\n\r\n            this.apply();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets filters data to the applied state.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        apply: function () {\r\n            $('body').notification('clear');\r\n            this.set('applied', removeEmpty(this.filters));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resets filters to the last applied state.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.set('filters', utils.copy(this.applied));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets provided data to filter components (without applying it).\r\n         *\r\n         * @param {Object} data - Filters data.\r\n         * @param {Boolean} [partial=false] - Flag that defines whether\r\n         *      to completely replace current filters data or to extend it.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        setData: function (data, partial) {\r\n            var filters = partial ? this.filters : {};\r\n\r\n            data = utils.extend({}, filters, data);\r\n\r\n            this.set('filters', data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instance of a filter associated with the provided column.\r\n         *\r\n         * @param {Column} column - Column component for which to create a filter.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        addFilter: function (column) {\r\n            var index       = column.index,\r\n                processed   = this._processed,\r\n                filter;\r\n\r\n            if (!column.filter || _.contains(processed, index)) {\r\n                return this;\r\n            }\r\n\r\n            filter = this.buildFilter(column);\r\n\r\n            processed.push(index);\r\n\r\n            layout([filter]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates filter component configuration associated with the provided column.\r\n         *\r\n         * @param {Column} column - Column component with a basic filter declaration.\r\n         * @returns {Object} Filters' configuration.\r\n         */\r\n        buildFilter: function (column) {\r\n            var filters = this.templates.filters,\r\n                filter  = column.filter,\r\n                type    = filters[filter.filterType];\r\n\r\n            if (_.isObject(filter) && type) {\r\n                filter = utils.extend({}, type, filter);\r\n            } else if (_.isString(filter)) {\r\n                filter = filters[filter];\r\n            }\r\n\r\n            filter = utils.extend({}, filters.base, filter);\r\n            //Accepting labels as is.\r\n            filter.__disableTmpl = {\r\n                label: 1,\r\n                options: 1\r\n            };\r\n\r\n            filter = utils.template(filter, {\r\n                filters: this,\r\n                column: column\r\n            }, true, true);\r\n\r\n            filter.__disableTmpl = {\r\n                label: true\r\n            };\r\n\r\n            return filter;\r\n        },\r\n\r\n        /**\r\n         * Returns an array of range filters.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getRanges: function () {\r\n            return this.elems.filter(function (filter) {\r\n                return filter.isRange;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Returns an array of non-range filters.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getPlain: function () {\r\n            return this.elems.filter(function (filter) {\r\n                return !filter.isRange;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Tells wether specified filter should be visible.\r\n         *\r\n         * @param {Object} filter\r\n         * @returns {Boolean}\r\n         */\r\n        isFilterVisible: function (filter) {\r\n            return filter.visible() || this.isFilterActive(filter);\r\n        },\r\n\r\n        /**\r\n         * Checks if specified filter is active.\r\n         *\r\n         * @param {Object} filter\r\n         * @returns {Boolean}\r\n         */\r\n        isFilterActive: function (filter) {\r\n            return _.contains(this.active, filter);\r\n        },\r\n\r\n        /**\r\n         * Checks if collection has visible filters.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasVisible: function () {\r\n            return this.elems.some(this.isFilterVisible, this);\r\n        },\r\n\r\n        /**\r\n         * Finds filters with a not empty data\r\n         * and sets them to the 'active' filters array.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        updateActive: function () {\r\n            var applied = _.keys(this.applied);\r\n\r\n            this.active = this.elems.filter(function (elem) {\r\n                return _.contains(applied, elem.index);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns number of applied filters.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countActive: function () {\r\n            return this.active.length;\r\n        },\r\n\r\n        /**\r\n         * Extract previews of a specified filters.\r\n         *\r\n         * @param {Array} filters - Filters to be processed.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        updatePreviews: function (filters) {\r\n            var previews = filters.map(extractPreview);\r\n\r\n            this.previews = _.compact(previews);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Listener of the columns provider children array changes.\r\n         *\r\n         * @param {Array} columns - Current columns list.\r\n         */\r\n        onColumnsUpdate: function (columns) {\r\n            columns.forEach(this.addFilter, this);\r\n        },\r\n\r\n        /**\r\n         * Provider ajax error listener.\r\n         *\r\n         * @param {bool} isError - Selected index of the filter.\r\n         */\r\n        onBackendError: function (isError) {\r\n            var defaultMessage = 'Something went wrong with processing the default view and we have restored the ' +\r\n                    'filter to its original state.',\r\n                customMessage  = 'Something went wrong with processing current custom view and filters have been ' +\r\n                    'reset to its original state. Please edit filters then click apply.';\r\n\r\n            if (isError) {\r\n                this.clear();\r\n\r\n                $('body').notification('clear')\r\n                    .notification('add', {\r\n                        error: true,\r\n                        message: $.mage.__(this.bookmarksActiveIndex !== 'default' ? customMessage : defaultMessage),\r\n\r\n                        /**\r\n                         * @param {String} message\r\n                         */\r\n                        insertMethod: function (message) {\r\n                            var $wrapper = $('<div></div>').html(message);\r\n\r\n                            $('.page-main-actions').after($wrapper);\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/filters/range.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiLayout',\r\n    'mageUtils',\r\n    'Magento_Ui/js/form/components/group',\r\n    'mage/translate'\r\n], function (_, layout, utils, Group, $t) {\r\n    'use strict';\r\n\r\n    return Group.extend({\r\n        defaults: {\r\n            template: 'ui/grid/filters/elements/group',\r\n            isRange: true,\r\n            templates: {\r\n                base: {\r\n                    parent: '${ $.$data.group.name }',\r\n                    provider: '${ $.$data.group.provider }',\r\n                    template: 'ui/grid/filters/field'\r\n                },\r\n                date: {\r\n                    component: 'Magento_Ui/js/form/element/date',\r\n                    dateFormat: 'MM/dd/YYYY',\r\n                    shiftedValue: 'filter'\r\n                },\r\n                datetime: {\r\n                    component: 'Magento_Ui/js/form/element/date',\r\n                    dateFormat: 'MM/dd/YYYY',\r\n                    shiftedValue: 'filter',\r\n                    options: {\r\n                        showsTime: true\r\n                    }\r\n                },\r\n                text: {\r\n                    component: 'Magento_Ui/js/form/element/abstract'\r\n                },\r\n                ranges: {\r\n                    from: {\r\n                        label: $t('from'),\r\n                        dataScope: 'from'\r\n                    },\r\n                    to: {\r\n                        label: $t('to'),\r\n                        dataScope: 'to'\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes range component.\r\n         *\r\n         * @returns {Range} Chainable.\r\n         */\r\n        initialize: function (config) {\r\n            if (config.dateFormat) {\r\n                this.constructor.defaults.templates.date.pickerDefaultDateFormat = config.dateFormat;\r\n            }\r\n            this._super()\r\n                .initChildren();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instances of child components.\r\n         *\r\n         * @returns {Range} Chainable.\r\n         */\r\n        initChildren: function () {\r\n            var children = this.buildChildren();\r\n\r\n            layout(children);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates configuration for the child components.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        buildChildren: function () {\r\n            var templates   = this.templates,\r\n                typeTmpl    = templates[this.rangeType],\r\n                tmpl        = utils.extend({}, templates.base, typeTmpl),\r\n                children    = {};\r\n\r\n            _.each(templates.ranges, function (range, key) {\r\n                children[key] = utils.extend({}, tmpl, range);\r\n            });\r\n\r\n            return utils.template(children, {\r\n                group: this\r\n            }, true, true);\r\n        },\r\n\r\n        /**\r\n         * Clears childrens data.\r\n         *\r\n         * @returns {Range} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.elems.each('clear');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if some children has data.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return this.elems.some('hasData');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/filters/elements/ui-select.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'Magento_Ui/js/form/element/ui-select',\r\n    'jquery',\r\n    'underscore'\r\n], function (Select, $, _) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            bookmarkProvider: 'ns = ${ $.ns }, index = bookmarks',\r\n            filterChipsProvider: 'componentType = filters, ns = ${ $.ns }',\r\n            validationUrl: false,\r\n            loadedOption: [],\r\n            validationLoading: true,\r\n            imports: {\r\n                applied: '${ $.filterChipsProvider }:applied',\r\n                activeIndex: '${ $.bookmarkProvider }:activeIndex'\r\n            },\r\n            modules: {\r\n                filterChips: '${ $.filterChipsProvider }'\r\n            },\r\n            listens: {\r\n                activeIndex: 'validateInitialValue',\r\n                applied: 'validateInitialValue'\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * Initializes UiSelect component.\r\n         *\r\n         * @returns {UiSelect} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            this.validateInitialValue();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validate initial value actually exists\r\n         */\r\n        validateInitialValue: function () {\r\n            if (_.isEmpty(this.value())) {\r\n                this.validationLoading(false);\r\n\r\n                return;\r\n            }\r\n\r\n            $.ajax({\r\n                url: this.validationUrl,\r\n                type: 'GET',\r\n                dataType: 'json',\r\n                context: this,\r\n                data: {\r\n                    ids: this.value()\r\n                },\r\n\r\n                /** @param {Object} response */\r\n                success: function (response) {\r\n                    if (!_.isEmpty(response)) {\r\n                        this.options([]);\r\n                        this.success({\r\n                            options: response\r\n                        });\r\n                    }\r\n                    this.filterChips().updateActive();\r\n                },\r\n\r\n                /** set empty array if error occurs */\r\n                error: function () {\r\n                    this.options([]);\r\n                },\r\n\r\n                /** stop loader */\r\n                complete: function () {\r\n                    this.validationLoading(false);\r\n                    this.setCaption();\r\n                }\r\n            });\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/paging/paging.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiElement'\r\n], function (ko, _, utils, layout, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/paging/paging',\r\n            totalTmpl: 'ui/grid/paging-total',\r\n            totalRecords: 0,\r\n            pages: 1,\r\n            current: 1,\r\n            selectProvider: 'ns = ${ $.ns }, index = ids',\r\n\r\n            sizesConfig: {\r\n                component: 'Magento_Ui/js/grid/paging/sizes',\r\n                name: '${ $.name }_sizes',\r\n                storageConfig: {\r\n                    provider: '${ $.storageConfig.provider }',\r\n                    namespace: '${ $.storageConfig.namespace }'\r\n                }\r\n            },\r\n\r\n            imports: {\r\n                totalSelected: '${ $.selectProvider }:totalSelected',\r\n                totalRecords: '${ $.provider }:data.totalRecords',\r\n                filters: '${ $.provider }:params.filters',\r\n                keywordUpdated: '${ $.provider }:params.keywordUpdated'\r\n            },\r\n\r\n            exports: {\r\n                pageSize: '${ $.provider }:params.paging.pageSize',\r\n                current: '${ $.provider }:params.paging.current'\r\n            },\r\n\r\n            links: {\r\n                options: '${ $.sizesConfig.name }:options',\r\n                pageSize: '${ $.sizesConfig.name }:value'\r\n            },\r\n\r\n            statefull: {\r\n                pageSize: true,\r\n                current: true\r\n            },\r\n\r\n            listens: {\r\n                'pages': 'onPagesChange',\r\n                'pageSize': 'onPageSizeChange',\r\n                'totalRecords': 'updateCounter',\r\n                '${ $.provider }:params.filters': 'goFirst',\r\n                '${ $.provider }:params.search': 'onSearchUpdate'\r\n            },\r\n\r\n            modules: {\r\n                sizes: '${ $.sizesConfig.name }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes paging component.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initSizes()\r\n                .updateCounter();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'totalSelected',\r\n                    'totalRecords',\r\n                    'pageSize',\r\n                    'pages',\r\n                    'current'\r\n                ]);\r\n\r\n            this._current = ko.pureComputed({\r\n                read: ko.getObservable(this, 'current'),\r\n\r\n                /**\r\n                 * Validates page change according to user's input.\r\n                 * Sets current observable to result of validation.\r\n                 * Calls reload method then.\r\n                 */\r\n                write: function (value) {\r\n                    this.setPage(value)\r\n                        ._current.notifySubscribers(this.current);\r\n                },\r\n\r\n                owner: this\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes sizes component.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        initSizes: function () {\r\n            layout([this.sizesConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Gets first item index on current page.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getFirstItemIndex: function () {\r\n            return this.pageSize * (this.current - 1) + 1;\r\n        },\r\n\r\n        /**\r\n         * Gets last item index on current page.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getLastItemIndex: function () {\r\n            var lastItem = this.getFirstItemIndex() + this.pageSize - 1;\r\n\r\n            return this.totalRecords < lastItem ? this.totalRecords : lastItem;\r\n        },\r\n\r\n        /**\r\n         * Sets cursor to the provied value.\r\n         *\r\n         * @param {(Number|String)} value - New value of the cursor.\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        setPage: function (value) {\r\n            this.current = this.normalize(value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Increments current page value.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        next: function () {\r\n            this.setPage(this.current + 1);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Decrements current page value.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        prev: function () {\r\n            this.setPage(this.current - 1);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Goes to the first page.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        goFirst: function () {\r\n            if (!_.isUndefined(this.filters)) {\r\n                this.current = 1;\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Goes to the last page.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        goLast: function () {\r\n            this.current = this.pages;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if current page is the first one.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isFirst: function () {\r\n            return this.current === 1;\r\n        },\r\n\r\n        /**\r\n         * Checks if current page is the last one.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isLast: function () {\r\n            return this.current === this.pages;\r\n        },\r\n\r\n        /**\r\n         * Updates number of pages.\r\n         */\r\n        updateCounter: function () {\r\n            this.pages = Math.ceil(this.totalRecords / this.pageSize) || 1;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calculates new page cursor based on the\r\n         * previous and current page size values.\r\n         */\r\n        updateCursor: function () {\r\n            var cursor = this.current - 1,\r\n                size = this.pageSize,\r\n                oldSize = _.isUndefined(this.previousSize) ? this.pageSize : this.previousSize,\r\n                delta = cursor * (oldSize - size) / size;\r\n\r\n            delta = size > oldSize ?\r\n                Math.ceil(delta) :\r\n                Math.floor(delta);\r\n\r\n            cursor += delta + 1;\r\n\r\n            this.previousSize = size;\r\n\r\n            this.setPage(cursor);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Converts provided value to a number and puts\r\n         * it in range between 1 and total amount of pages.\r\n         *\r\n         * @param {(Number|String)} value - Value to be normalized.\r\n         * @returns {Number}\r\n         */\r\n        normalize: function (value) {\r\n            value = +value;\r\n\r\n            if (isNaN(value)) {\r\n                return 1;\r\n            }\r\n\r\n            return utils.inRange(Math.round(value), 1, this.pages);\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the page size.\r\n         */\r\n        onPageSizeChange: function () {\r\n            this.updateCounter()\r\n                .updateCursor();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the pages amount.\r\n         */\r\n        onPagesChange: function () {\r\n            this.updateCursor();\r\n        },\r\n\r\n        /**\r\n         * Resent the pagination to Page 1 on search keyword update\r\n         */\r\n        onSearchUpdate: function () {\r\n            if (!_.isUndefined(this.keywordUpdated) && this.keywordUpdated) {\r\n                this.goFirst();\r\n            }\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/paging/sizes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiElement'\r\n], function (ko, _, utils, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/paging/sizes',\r\n            minSize: 1,\r\n            maxSize: 999,\r\n            statefull: {\r\n                options: true,\r\n                value: true\r\n            },\r\n            listens: {\r\n                value: 'onValueChange',\r\n                options: 'onSizesChange'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes sizes component.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .updateArray();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'value',\r\n                    'editing',\r\n                    'customVisible',\r\n                    'customValue'\r\n                ])\r\n                .track({\r\n                    optionsArray: []\r\n                });\r\n\r\n            this._value = ko.pureComputed({\r\n                read: ko.getObservable(this, 'value'),\r\n\r\n                /**\r\n                 * Validates input field prior to updating 'value' property.\r\n                 */\r\n                write: function (value) {\r\n                    value = this.normalize(value);\r\n\r\n                    this.value = value;\r\n                    this._value.notifySubscribers(value);\r\n                },\r\n\r\n                owner: this\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Starts editing of the specified size.\r\n         *\r\n         * @param {Number} value - Value of the size.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        edit: function (value) {\r\n            this.editing = value;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Discards changes made to the currently editable size.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        discardEditing: function () {\r\n            var value = this.editing;\r\n\r\n            if (value) {\r\n                this.updateSize(value, value);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Invokes 'discardEditing' and 'discardCustom' actions.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        discardAll: function () {\r\n            this.discardEditing()\r\n                .discardCustom();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns value of the first size.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getFirst: function () {\r\n            return this.optionsArray[0].value;\r\n        },\r\n\r\n        /**\r\n         * Returns size which matches specified value.\r\n         *\r\n         * @param {Number} value - Value of the item.\r\n         * @returns {Object|Undefined}\r\n         */\r\n        getSize: function (value) {\r\n            return this.options[value];\r\n        },\r\n\r\n        /**\r\n         * Sets current size to the specified value.\r\n         *\r\n         * @param {Number} value - Value of the size.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        setSize: function (value) {\r\n            this.value = value;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds a new value to sizes list.\r\n         *\r\n         * @param {Number} value - Value to be added.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        addSize: function (value) {\r\n            var size;\r\n\r\n            if (!this.hasSize(value)) {\r\n                size = this.createSize(value);\r\n\r\n                this.set('options.' + value, size);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes provided value from the sizes list.\r\n         *\r\n         * @param {Number} value - Value to be removed.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        removeSize: function (value) {\r\n            if (!this.hasSize(value)) {\r\n                return this;\r\n            }\r\n\r\n            this.remove('options.' + value);\r\n\r\n            if (this.isSelected(value)) {\r\n                this.setSize(this.getFirst());\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates existing value to the provided one. If new value\r\n         * is not specified, then sizes' '_value' property will be taken.\r\n         *\r\n         * @param {Number} value - Existing value that should be updated.\r\n         * @param {(Number|String)} [newValue=size._value] - New size value.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        updateSize: function (value, newValue) {\r\n            var size = this.getSize(value);\r\n\r\n            if (!size) {\r\n                return this;\r\n            }\r\n\r\n            newValue = newValue || size._value;\r\n\r\n            if (isNaN(+newValue)) {\r\n                this.discardEditing();\r\n\r\n                return this;\r\n            }\r\n\r\n            newValue = this.normalize(newValue);\r\n\r\n            this.remove('options.' + value)\r\n                .addSize(newValue);\r\n\r\n            if (this.isSelected(value)) {\r\n                this.setSize(newValue);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates new editable size instance with the provided value.\r\n         *\r\n         * @param {Number} value - Value of the size.\r\n         * @returns {Object}\r\n         */\r\n        createSize: function (value) {\r\n            return {\r\n                value: value,\r\n                label: value,\r\n                _value: value,\r\n                editable: true\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Checks if provided value exists in the sizes list.\r\n         *\r\n         * @param {Number} value - Value to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        hasSize: function (value) {\r\n            return !!this.getSize(value);\r\n        },\r\n\r\n        /**\r\n         * Hides and clears custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        discardCustom: function () {\r\n            this.hideCustom()\r\n                .clearCustom();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Shows custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        showCustom: function () {\r\n            this.customVisible = true;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        hideCustom: function () {\r\n            this.customVisible = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Empties value of the custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        clearCustom: function () {\r\n            this.customValue = '';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds a new size specified in the custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        applyCustom: function () {\r\n            var value = this.customValue;\r\n\r\n            value = this.normalize(value);\r\n\r\n            this.addSize(value)\r\n                .setSize(value)\r\n                .discardCustom();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if custom field is visible.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isCustomVisible: function () {\r\n            return this.customVisible;\r\n        },\r\n\r\n        /**\r\n         * Converts provided value to a number and puts\r\n         * it in range between 'minSize' and 'maxSize' properties.\r\n         *\r\n         * @param {(Number|String)} value - Value to be normalized.\r\n         * @returns {Number}\r\n         */\r\n        normalize: function (value) {\r\n            value = +value;\r\n\r\n            if (isNaN(value)) {\r\n                return this.getFirst();\r\n            }\r\n\r\n            return utils.inRange(Math.round(value), this.minSize, this.maxSize);\r\n        },\r\n\r\n        /**\r\n         * Updates the array of options.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        updateArray: function () {\r\n            var array = _.values(this.options);\r\n\r\n            this.optionsArray = _.sortBy(array, 'value');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided value is in editing state.\r\n         *\r\n         * @param {Number} value - Value to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isEditing: function (value) {\r\n            return this.editing === value;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided value is selected.\r\n         *\r\n         * @param {Number} value - Value to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isSelected: function (value) {\r\n            return this.value === value;\r\n        },\r\n\r\n        /**\r\n         * Listener of the 'value' property changes.\r\n         */\r\n        onValueChange: function () {\r\n            this.discardAll()\r\n                .trigger('close');\r\n        },\r\n\r\n        /**\r\n         * Listener of the 'options' object changes.\r\n         */\r\n        onSizesChange: function () {\r\n            this.editing = false;\r\n\r\n            this.updateArray();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/search/search.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiLayout',\r\n    'mage/translate',\r\n    'mageUtils',\r\n    'uiElement',\r\n    'jquery'\r\n], function (_, layout, $t, utils, Element, $) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/search/search',\r\n            placeholder: $t('Search by keyword'),\r\n            label: $t('Keyword'),\r\n            value: '',\r\n            keywordUpdated: false,\r\n            previews: [],\r\n            chipsProvider: 'componentType = filtersChips, ns = ${ $.ns }',\r\n            statefull: {\r\n                value: true\r\n            },\r\n            tracks: {\r\n                value: true,\r\n                previews: true,\r\n                inputValue: true,\r\n                focused: true,\r\n                keywordUpdated: true\r\n            },\r\n            imports: {\r\n                inputValue: 'value',\r\n                updatePreview: 'value',\r\n                focused: false\r\n            },\r\n            exports: {\r\n                value: '${ $.provider }:params.search',\r\n                keywordUpdated: '${ $.provider }:params.keywordUpdated'\r\n            },\r\n            modules: {\r\n                chips: '${ $.chipsProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes search component.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        initialize: function () {\r\n            var urlParams = window.location.href.slice(window.location.href.search('[\\&\\?](search=)')).split('&'),\r\n                searchTerm = [];\r\n\r\n            this._super()\r\n                .initChips();\r\n\r\n            if (urlParams[0]) {\r\n                searchTerm = urlParams[0].split('=');\r\n\r\n                if (searchTerm[1]) {\r\n                    this.apply(decodeURIComponent(searchTerm[1]));\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes chips component.\r\n         *\r\n         * @returns {Search} Chainbale.\r\n         */\r\n        initChips: function () {\r\n            this.chips('insertChild', this, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears search.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.value = '';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Click To ScrollTop.\r\n         */\r\n        scrollTo: function ($data) {\r\n            $('html, body').animate({\r\n                scrollTop: 0\r\n            }, 'slow', function () {\r\n                $data.focused = false;\r\n                $data.focused = true;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Resets input value to the last applied state.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.inputValue = this.value;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies search query.\r\n         *\r\n         * @param {String} [value=inputValue] - If not specified, then\r\n         *      value of the input field will be used.\r\n         * @returns {Search} Chainable.\r\n         */\r\n        apply: function (value) {\r\n            value = value || this.inputValue;\r\n\r\n            this.keywordUpdated = this.value !== value;\r\n            this.value = this.inputValue = value.trim();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates preview data.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        updatePreview: function () {\r\n            var preview = [];\r\n\r\n            if (this.value) {\r\n                preview.push({\r\n                    elem: this,\r\n                    label: this.label,\r\n                    preview: this.value\r\n                });\r\n            }\r\n\r\n            this.previews = preview;\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/sticky/sticky.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'uiComponent',\r\n    'Magento_Ui/js/lib/view/utils/raf'\r\n], function ($, _, Component, raf) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            listingSelector: '${ $.listingProvider }::not([data-role = \"sticky-el-root\"])',\r\n            toolbarSelector: '${ $.toolbarProvider }::not([data-role = \"sticky-el-root\"])',\r\n            bulkRowSelector: '[data-role = \"data-grid-bulk-row\"]',\r\n            bulkRowHeaderSelector: '.data-grid-info-panel:visible',\r\n            tableSelector: 'table',\r\n            columnSelector: 'thead tr th',\r\n            rowSelector: 'tbody tr',\r\n            toolbarCollapsiblesSelector: '[data-role=\"toolbar-menu-item\"]',\r\n            toolbarCollapsiblesActiveClass: '_active',\r\n            template: 'ui/grid/sticky/sticky',\r\n            stickyContainerSelector: '.sticky-header',\r\n            stickyElementSelector: '[data-role = \"sticky-el-root\"]',\r\n            leftDataGridCapSelector: '.data-grid-cap-left',\r\n            rightDataGridCapSelector: '.data-grid-cap-right',\r\n            visible: false,\r\n            enableToolbar: true,\r\n            enableHeader: true,\r\n            modules: {\r\n                toolbar: '${ $.toolbarProvider }',\r\n                listing: '${ $.listingProvider }'\r\n            },\r\n            otherStickyElsSize: 77,\r\n            containerNode: null,\r\n            listingNode: null,\r\n            toolbarNode: null,\r\n            stickyListingNode: null,\r\n            stickyToolbarNode: null,\r\n            storedOriginalToolbarElements: [],\r\n            cache: {},\r\n            flags: {},\r\n            dirtyFlag: 'dirty'\r\n        },\r\n\r\n        /**\r\n         * Initializes Sticky component.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n            _.bindAll(this,\r\n                'adjustStickyElems',\r\n                'initListingNode',\r\n                'initToolbarNode',\r\n                'initContainerNode',\r\n                'initColumns',\r\n                'initStickyListingNode',\r\n                'initStickyToolbarNode',\r\n                'initLeftDataGridCap',\r\n                'initRightDataGridCap'\r\n            );\r\n\r\n            $.async(this.listingSelector,\r\n                this.initListingNode);\r\n            $.async(this.toolbarSelector,\r\n                this.initToolbarNode);\r\n\r\n            $.async(this.stickyContainerSelector,\r\n                this,\r\n                this.initContainerNode);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init observables\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init original listing node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initListingNode: function (node) {\r\n            if ($(node).is(this.stickyElementSelector)) {\r\n                return;\r\n            }\r\n            this.listingNode = $(node);\r\n            $.async(this.columnSelector, node, this.initColumns);\r\n        },\r\n\r\n        /**\r\n         * Init original toolbar node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initToolbarNode: function (node) {\r\n            if ($(node).is(this.stickyElementSelector)) {\r\n                return;\r\n            }\r\n            this.toolbarNode = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init sticky listing node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initStickyListingNode: function (node) {\r\n            this.stickyListingNode = $(node);\r\n            this.checkPos();\r\n            this.initListeners();\r\n        },\r\n\r\n        /**\r\n         * Init sticky toolbar node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initStickyToolbarNode: function (node) {\r\n            this.stickyToolbarNode = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init sticky header container node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initContainerNode: function (node) {\r\n            this.containerNode = $(node);\r\n\r\n            $.async(this.leftDataGridCapSelector,\r\n                node,\r\n                this.initLeftDataGridCap);\r\n            $.async(this.rightDataGridCapSelector,\r\n                node,\r\n                this.initRightDataGridCap);\r\n\r\n            $.async(this.stickyElementSelector,\r\n                this.listing(),\r\n                this.initStickyListingNode);\r\n            $.async(this.stickyElementSelector,\r\n                this.toolbar(),\r\n                this.initStickyToolbarNode);\r\n        },\r\n\r\n        /**\r\n         * Init columns (each time when amount of columns is changed)\r\n         *\r\n         */\r\n        initColumns: function () {\r\n            this.columns = this.listingNode.find(this.columnSelector);\r\n        },\r\n\r\n        /**\r\n         * Init left DataGridCap\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initLeftDataGridCap: function (node) {\r\n            this.leftDataGridCap = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init right DataGridCap\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initRightDataGridCap: function (node) {\r\n            this.rightDataGridCap = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init listeners\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initListeners: function () {\r\n            this.adjustStickyElems();\r\n            this.initOnResize()\r\n                .initOnScroll()\r\n                .initOnListingScroll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Start to listen to window scroll event\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initOnScroll: function () {\r\n            this.lastHorizontalScrollPos = $(window).scrollLeft();\r\n            document.addEventListener('scroll', function () {\r\n                this.flags.scrolled = true;\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Start to listen to original listing scroll event\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initOnListingScroll: function () {\r\n            $(this.listingNode).on('scroll', function (e) {\r\n                this.flags.listingScrolled = true;\r\n                this.flags.listingScrolledValue = $(e.target).scrollLeft();\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Start to listen to window resize event\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initOnResize: function () {\r\n            $(window).on('resize', function () {\r\n                this.flags.resized = true;\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust sticky header elements according to flags of the events that have happened in the endless RAF loop\r\n         */\r\n        adjustStickyElems: function () {\r\n            if (this.flags.resized ||\r\n                this.flags.scrolled) {\r\n                this.checkPos();\r\n            }\r\n\r\n            if (this.visible) {\r\n                this.checkTableElemsWidth();\r\n\r\n                if (this.flags.originalWidthChanged) {\r\n                    this.adjustContainerElemsWidth();\r\n                }\r\n\r\n                if (this.flags.resized) {\r\n                    this.onResize();\r\n                }\r\n\r\n                if (this.flags.scrolled) {\r\n                    this.onWindowScroll();\r\n                }\r\n\r\n                if (this.flags.listingScrolled) {\r\n                    this.onListingScroll(this.flags.listingScrolledValue);\r\n                }\r\n            }\r\n            _.each(this.flags, function (val, key) {\r\n                if (val === this.dirtyFlag) {\r\n                    this.flags[key] = false;\r\n                } else if (val) {\r\n                    this.flags[key] = this.dirtyFlag;\r\n                }\r\n            }, this);\r\n\r\n            raf(this.adjustStickyElems);\r\n        },\r\n\r\n        /**\r\n         * Handles window scroll\r\n         */\r\n        onWindowScroll: function () {\r\n            var scrolled = $(window).scrollLeft(),\r\n                horizontal = this.lastHorizontalScrollPos !== scrolled;\r\n\r\n            if (horizontal) {\r\n                this.adjustOffset()\r\n                    .adjustDataGridCapPositions();\r\n                this.lastHorizontalScrollPos = scrolled;\r\n            } else {\r\n                this.checkPos();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles original listing scroll\r\n         *\r\n         * @param {Number} scrolled\r\n         */\r\n        onListingScroll: function (scrolled) {\r\n            this.adjustOffset(scrolled);\r\n        },\r\n\r\n        /**\r\n         * Handles window resize\r\n         */\r\n        onResize: function () {\r\n            this.checkPos();\r\n            this.adjustContainerElemsWidth()\r\n                .adjustDataGridCapPositions();\r\n        },\r\n\r\n        /**\r\n         * Check if original table or columns change it dimensions and sets appropriate flag\r\n         */\r\n        checkTableElemsWidth: function () {\r\n            var newWidth = this.getTableWidth();\r\n\r\n            if (this.cache.tableWidth !== newWidth) {\r\n                this.cache.tableWidth = newWidth;\r\n                this.flags.originalWidthChanged = true;\r\n            } else if (this.cache.colChecksum !== this.getColsChecksum()) {\r\n                this.cache.colChecksum = this.getColsChecksum();\r\n                this.flags.originalWidthChanged = true;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get the checksum of original columns width\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getColsChecksum: function () {\r\n            return _.reduce(this.columns,\r\n            function (pv, cv) {\r\n                return ($(pv).width() || pv) + '' + $(cv).width();\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Get the width of the sticky table wrapper\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getListingWidth: function () {\r\n            return this.listingNode.width();\r\n        },\r\n\r\n        /**\r\n         * Get the width of the original table\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getTableWidth: function () {\r\n            return this.listingNode.find(this.tableSelector).width();\r\n        },\r\n\r\n        /**\r\n         * Get the top elem: header or toolbar\r\n         *\r\n         * @returns {HTMLElement}.\r\n         */\r\n        getTopElement: function () {\r\n            return this.toolbarNode || this.listingNode;\r\n        },\r\n\r\n        /**\r\n         * Get the height of the other sticky elem (Page header)\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getOtherStickyElementsSize: function () {\r\n            return this.otherStickyElsSize;\r\n        },\r\n\r\n        /**\r\n         * Get original bulk row height, if is visible\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getBulkRowHeight: function () {\r\n            return this.listingNode.find(this.bulkRowSelector).filter(':visible').height();\r\n        },\r\n\r\n        /**\r\n         * Get top Y coord of the sticky header\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getListingTopYCoord: function () {\r\n            var bulkRowHeight = this.getBulkRowHeight();\r\n\r\n            return this.listingNode.find('tbody').offset().top -\r\n                this.containerNode.height() -\r\n                $(window).scrollTop() +\r\n                bulkRowHeight;\r\n        },\r\n\r\n        /**\r\n         * Check if sticky header must be visible\r\n         *\r\n         * @returns {Boolean}.\r\n         */\r\n        getMustBeSticky: function () {\r\n            var stickyTopCondition = this.getListingTopYCoord() - this.getOtherStickyElementsSize(),\r\n                stickyBottomCondition = this.listingNode.offset().top +\r\n                    this.listingNode.height() -\r\n                    $(window).scrollTop() +\r\n                    this.getBulkRowHeight() -\r\n                    this.getOtherStickyElementsSize();\r\n\r\n            return stickyTopCondition < 0 && stickyBottomCondition > 0;\r\n        },\r\n\r\n        /**\r\n         * Resize sticky header and cols\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustContainerElemsWidth: function () {\r\n            this.resizeContainer()\r\n                .resizeCols()\r\n                .resizeBulk();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resize sticky header\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        resizeContainer: function () {\r\n            var listingWidth = this.getListingWidth();\r\n\r\n            this.stickyListingNode.innerWidth(listingWidth);\r\n            this.stickyListingNode.find(this.tableSelector).innerWidth(this.getTableWidth());\r\n\r\n            if (this.stickyToolbarNode) {\r\n                this.stickyToolbarNode.innerWidth(listingWidth);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resize sticky cols\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        resizeCols: function () {\r\n            var cols = this.listingNode.find(this.columnSelector);\r\n\r\n            this.stickyListingNode.find(this.columnSelector).each(function (ind) {\r\n                var originalColWidth =  $(cols[ind]).width();\r\n\r\n                $(this).width(originalColWidth);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resize bulk row header\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        resizeBulk: function () {\r\n            var bulk = this.containerNode.find(this.bulkRowHeaderSelector)[0];\r\n\r\n            if (bulk) {\r\n                $(bulk).innerWidth(this.getListingWidth());\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Reset viewport to the top of listing\r\n         */\r\n        resetToTop: function () {\r\n            var posOfTopEl = this.getTopElement().offset().top - this.getOtherStickyElementsSize() || 0;\r\n\r\n            $(window).scrollTop(posOfTopEl);\r\n        },\r\n\r\n        /**\r\n         * Adjust sticky header offset\r\n         *\r\n         * @param {Number} val\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustOffset: function (val) {\r\n            val = val || this.listingNode.scrollLeft();\r\n            this.stickyListingNode.offset({\r\n                left: this.listingNode.offset().left - val\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust both DataGridCap position\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustDataGridCapPositions: function () {\r\n            this.adjustLeftDataGridCapPos()\r\n                .adjustRightDataGridCapPos();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust left DataGridCap position\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustLeftDataGridCapPos: function () {\r\n            this.leftDataGridCap.offset({\r\n                left: this.listingNode.offset().left - this.leftDataGridCap.width()\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust right DataGridCap position\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustRightDataGridCapPos: function () {\r\n            this.rightDataGridCap.offset({\r\n                left: this.listingNode.offset().left + this.listingNode.width()\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides the oiginal toolbar opened dropdowns/collapsibles etc\r\n         */\r\n        collapseOriginalElements: function () {\r\n            this.toolbarNode\r\n                .find(this.toolbarCollapsiblesSelector)\r\n                .css('visibility', 'hidden');\r\n            $(this.listingNode.find(this.bulkRowSelector)[0]).css('visibility', 'hidden');\r\n        },\r\n\r\n        /**\r\n         * Restores the oiginal toolbar opened dropdowns/collapsibles etc\r\n         */\r\n        restoreOriginalElements: function () {\r\n            this.toolbarNode\r\n                .find(this.toolbarCollapsiblesSelector)\r\n                .css('visibility', 'visible');\r\n            $(this.listingNode.find(this.bulkRowSelector)[0]).css('visibility', 'visible');\r\n        },\r\n\r\n        /**\r\n         * Toggle the visibility of sticky header\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        toggleContainerVisibility: function () {\r\n            this.visible = !this.visible;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks position of the listing to know if need to show/hide sticky header\r\n         *\r\n         * @returns {Boolean} whether the visibility of the sticky header was toggled.\r\n         */\r\n        checkPos: function () {\r\n            var isSticky = this.visible,\r\n                mustBeSticky = this.getMustBeSticky(),\r\n                needChange = isSticky !== mustBeSticky;\r\n\r\n            if (needChange) {\r\n                if (mustBeSticky) {\r\n                    this.collapseOriginalElements();\r\n                    this.toggleContainerVisibility();\r\n                    this.adjustContainerElemsWidth()\r\n                        .adjustOffset()\r\n                        .adjustDataGridCapPositions();\r\n\r\n                } else {\r\n                    this.toggleContainerVisibility();\r\n                    this.restoreOriginalElements();\r\n                }\r\n            }\r\n\r\n            return needChange;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/collapsible.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiComponent'\r\n], function (Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            opened: false,\r\n            collapsible: true\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('opened');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles value of the 'opened' property.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        toggleOpened: function () {\r\n            this.opened() ?\r\n                this.close() :\r\n                this.open();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets 'opened' flag to false.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        close: function () {\r\n            if (this.collapsible) {\r\n                this.opened(false);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets 'opened' flag to true.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        open: function () {\r\n            if (this.collapsible) {\r\n                this.opened(true);\r\n            }\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/key-codes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return {\r\n        13: 'enterKey',\r\n        27: 'escapeKey',\r\n        40: 'pageDownKey',\r\n        38: 'pageUpKey',\r\n        32: 'spaceKey',\r\n        9:  'tabKey',\r\n        37: 'pageLeftKey',\r\n        39: 'pageRightKey',\r\n        17: 'ctrlKey',\r\n        18: 'altKey',\r\n        16: 'shiftKey',\r\n        191: 'forwardSlashKey',\r\n        66: 'bKey',\r\n        73: 'iKey',\r\n        85: 'uKey'\r\n    };\r\n});\r\n","Magento_Ui/js/lib/spinner.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    var selector = '[data-role=\"spinner\"]',\r\n        spinner = $(selector);\r\n\r\n    return {\r\n        /**\r\n         * Show spinner.\r\n         */\r\n        show: function () {\r\n            spinner.show();\r\n        },\r\n\r\n        /**\r\n         * Hide spinner.\r\n         */\r\n        hide: function () {\r\n            spinner.hide();\r\n        },\r\n\r\n        /**\r\n         * Get spinner by selector.\r\n         *\r\n         * @param {String} id\r\n         * @return {jQuery}\r\n         */\r\n        get: function (id) {\r\n            return $(selector + '[data-component=\"' + id + '\"]');\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/step-wizard.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'uiRegistry',\r\n    'uiComponent',\r\n    'jquery',\r\n    'underscore',\r\n    'ko',\r\n    'mage/backend/notification',\r\n    'mage/translate'\r\n], function (uiRegistry, Component, $, _, ko) {\r\n    'use strict';\r\n\r\n    var Wizard;\r\n\r\n    ko.utils.domNodeDisposal.cleanExternalData = _.wrap(\r\n        ko.utils.domNodeDisposal.cleanExternalData,\r\n        function (func, node) {\r\n            if (!$(node).closest('[data-type=skipKO]').length) {\r\n                func(node);\r\n            }\r\n        }\r\n    );\r\n\r\n    /**\r\n     * Wizard constructor.\r\n     *\r\n     * @param {Array} steps\r\n     * @param {String} modalClass\r\n     * @constructor\r\n     */\r\n    Wizard = function (steps, modalClass) {\r\n        this.steps = steps;\r\n        this.index = 0;\r\n        this.data = {};\r\n        this.nextLabelText = $.mage.__('Next');\r\n        this.prevLabelText = $.mage.__('Back');\r\n        this.elementSelector = '[data-role=steps-wizard-main]';\r\n        this.element = modalClass ? $('.' + modalClass + this.elementSelector) : $(this.elementSelector);\r\n        this.nextLabel = '[data-role=\"step-wizard-next\"]';\r\n        this.prevLabel = '[data-role=\"step-wizard-prev\"]';\r\n        this.element.notification();\r\n\r\n        /**\r\n         * Move to newIndex.\r\n         *\r\n         * @param {Number} newIndex\r\n         * @return {String}\r\n         */\r\n        this.move = function (newIndex) {\r\n            if (!this.preventSwitch(newIndex)) {\r\n                if (newIndex > this.index) {\r\n                    this._next(newIndex);\r\n                } else if (newIndex < this.index) {\r\n                    this._prev(newIndex);\r\n                }\r\n            }\r\n            this.updateLabels(this.getStep());\r\n            this.showNotificationMessage();\r\n\r\n            return this.getStep().name;\r\n        };\r\n\r\n        /**\r\n         * Move wizard to next step.\r\n         *\r\n         * @return {String}\r\n         */\r\n        this.next = function () {\r\n            this.move(this.index + 1);\r\n\r\n            return this.getStep().name;\r\n        };\r\n\r\n        /**\r\n         * Move wizard to previous step.\r\n         *\r\n         * @return {String}\r\n         */\r\n        this.prev = function () {\r\n            this.move(this.index - 1);\r\n\r\n            return this.getStep().name;\r\n        };\r\n\r\n        /**\r\n         * @return {*}\r\n         */\r\n        this.preventSwitch = function (newIndex) {\r\n            return newIndex < 0 || (newIndex - this.index) > 1;//eslint-disable-line no-extra-parens\r\n        };\r\n\r\n        /**\r\n         * @param {Number} newIndex\r\n         * @return {Boolean}\r\n         * @private\r\n         */\r\n        this._next = function (newIndex) {\r\n            newIndex = _.isNumber(newIndex) ? newIndex : this.index + 1;\r\n\r\n            try {\r\n                this.getStep().force(this);\r\n\r\n                if (newIndex >= steps.length) {\r\n                    return false;\r\n                }\r\n            } catch (e) {\r\n                this.setNotificationMessage(e.message, true);\r\n\r\n                return false;\r\n            }\r\n            this.cleanErrorNotificationMessage();\r\n            this.index = newIndex;\r\n            this.cleanNotificationMessage();\r\n            this.render();\r\n        };\r\n\r\n        /**\r\n         * @param {Number} newIndex\r\n         * @private\r\n         */\r\n        this._prev = function (newIndex) {\r\n            newIndex = _.isNumber(newIndex) ? newIndex : this.index - 1;\r\n            this.getStep().back(this);\r\n            this.index = newIndex;\r\n        };\r\n\r\n        /**\r\n         * @param {Number} stepIndex\r\n         * @return {Object}\r\n         */\r\n        this.getStep = function (stepIndex) {\r\n            return this.steps[stepIndex || this.index] || {};\r\n        };\r\n\r\n        /**\r\n         * @param {String} message\r\n         * @param {String} error\r\n         */\r\n        this.notifyMessage = function (message, error) {\r\n            $(this.element).notification('clear').notification('add', {\r\n                error: error,\r\n                message: message\r\n            });\r\n        };\r\n\r\n        /**\r\n         * @param {Object} step\r\n         */\r\n        this.updateLabels = function (step) {\r\n            this.element.find(this.nextLabel).find('button').text(step.nextLabelText || this.nextLabelText);\r\n            this.element.find(this.prevLabel).find('button').text(step.prevLabelText || this.prevLabelText);\r\n        };\r\n\r\n        /**\r\n         * Show notification message.\r\n         */\r\n        this.showNotificationMessage = function () {\r\n            if (!_.isEmpty(this.getStep())) {\r\n                this.hideNotificationMessage();\r\n\r\n                if (this.getStep().notificationMessage.text !== null) {\r\n                    this.notifyMessage(\r\n                        this.getStep().notificationMessage.text,\r\n                        this.getStep().notificationMessage.error\r\n                    );\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Remove notification message.\r\n         */\r\n        this.cleanNotificationMessage = function () {\r\n            this.getStep().notificationMessage.text = null;\r\n            this.hideNotificationMessage();\r\n        };\r\n\r\n        /**\r\n         * Remove error message.\r\n         */\r\n        this.cleanErrorNotificationMessage = function () {\r\n            if (this.getStep().notificationMessage.error === true) {\r\n                this.cleanNotificationMessage();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * @param {String} text\r\n         * @param {String} error\r\n         */\r\n        this.setNotificationMessage = function (text, error) {\r\n            error = error !== undefined;\r\n\r\n            if (!_.isEmpty(this.getStep())) {\r\n                this.getStep().notificationMessage.text = text;\r\n                this.getStep().notificationMessage.error = error;\r\n                this.showNotificationMessage();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Hide notification message.\r\n         */\r\n        this.hideNotificationMessage = function () {\r\n            $(this.element).notification('clear');\r\n        };\r\n\r\n        /**\r\n         * Render step.\r\n         */\r\n        this.render = function () {\r\n            this.hideNotificationMessage();\r\n            this.getStep().render(this);\r\n        };\r\n\r\n        /**\r\n         * Initialize step.\r\n         */\r\n        this.init = function () {\r\n            this.updateLabels(this.getStep());\r\n            this.render();\r\n        };\r\n        this.init();\r\n    };\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            modalClass: '',\r\n            initData: [],\r\n            stepsNames: [],\r\n            selectedStep: '',\r\n            steps: [],\r\n            disabled: true\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super();\r\n            this.selectedStep.subscribe(this.wrapDisabledBackButton.bind(this));\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initElement: function (step) {\r\n            step.initData = this.initData;\r\n            step.mode = _.all(this.initData, _.isEmpty) ? 'create' : 'edit';\r\n            this.steps[this.getStepIndexByName(step.name)] = step;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            this._super().observe([\r\n                'selectedStep',\r\n                'disabled'\r\n            ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        destroy: function () {\r\n            _.each(this.steps, function (step) {\r\n                step.destroy();\r\n            });\r\n\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Toggle disable property.\r\n         *\r\n         * @param {String} stepName\r\n         */\r\n        wrapDisabledBackButton: function (stepName) {\r\n            if (_.first(this.stepsNames) === stepName) {\r\n                this.disabled(true);\r\n            } else {\r\n                this.disabled(false);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get step by index name.\r\n         *\r\n         * @param {String} stepName\r\n         */\r\n        getStepIndexByName: function (stepName) {\r\n            return _.indexOf(this.stepsNames, stepName);\r\n        },\r\n        //controls, todo to another object\r\n        /**\r\n         * Select next step.\r\n         */\r\n        next: function () {\r\n            this.selectedStep(this.wizard.next());\r\n        },\r\n\r\n        /**\r\n         * Select previous step.\r\n         */\r\n        back: function () {\r\n            this.selectedStep(this.wizard.prev());\r\n        },\r\n\r\n        /**\r\n         * Open wizard.\r\n         */\r\n        open: function () {\r\n            this.selectedStep(this.stepsNames.first());\r\n            this.wizard = new Wizard(this.steps, this.modalClass);\r\n        },\r\n\r\n        /**\r\n         * Close wizard.\r\n         */\r\n        close: function () {\r\n            var modal =  uiRegistry.get(this.initData.configurableModal);\r\n\r\n            if (!_.isUndefined(modal)) {\r\n                modal.closeModal();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {Object} data\r\n         * @param {Object} event\r\n         */\r\n        showSpecificStep: function (data, event) {\r\n            var index = _.indexOf(this.stepsNames, event.target.hash.substr(1)),\r\n                stepName = this.wizard.move(index);\r\n\r\n            this.selectedStep(stepName);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/core/class.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'mage/utils/wrapper'\r\n], function (_, utils, wrapper) {\r\n    'use strict';\r\n\r\n    var Class;\r\n\r\n    /**\r\n     * Returns property of an object if\r\n     * it's his own property.\r\n     *\r\n     * @param {Object} obj - Object whose property should be retrieved.\r\n     * @param {String} prop - Name of the property.\r\n     * @returns {*} Value of the property or false.\r\n     */\r\n    function getOwn(obj, prop) {\r\n        return _.isObject(obj) && obj.hasOwnProperty(prop) && obj[prop];\r\n    }\r\n\r\n    /**\r\n     * Creates constructor function which allows\r\n     * initialization without usage of a 'new' operator.\r\n     *\r\n     * @param {Object} protoProps - Prototypal properties of a new constructor.\r\n     * @param {Function} constructor\r\n     * @returns {Function} Created constructor.\r\n     */\r\n    function createConstructor(protoProps, constructor) {\r\n        var UiClass = constructor;\r\n\r\n        if (!UiClass) {\r\n\r\n            /**\r\n             * Default constructor function.\r\n             */\r\n            UiClass = function () {\r\n                var obj = this;\r\n\r\n                if (!_.isObject(obj) || Object.getPrototypeOf(obj) !== UiClass.prototype) {\r\n                    obj = Object.create(UiClass.prototype);\r\n                }\r\n\r\n                obj.initialize.apply(obj, arguments);\r\n\r\n                return obj;\r\n            };\r\n        }\r\n\r\n        UiClass.prototype = protoProps;\r\n        UiClass.prototype.constructor = UiClass;\r\n\r\n        return UiClass;\r\n    }\r\n\r\n    Class = createConstructor({\r\n\r\n        /**\r\n         * Entry point to the initialization of constructor's instance.\r\n         *\r\n         * @param {Object} [options={}]\r\n         * @returns {Class} Chainable.\r\n         */\r\n        initialize: function (options) {\r\n            this.initConfig(options);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Recursively extends data specified in constructors' 'defaults'\r\n         * property with provided options object. Evaluates resulting\r\n         * object using string templates (see: mage/utils/template.js).\r\n         *\r\n         * @param {Object} [options={}]\r\n         * @returns {Class} Chainable.\r\n         */\r\n        initConfig: function (options) {\r\n            var defaults    = this.constructor.defaults,\r\n                config      = utils.extend({}, defaults, options || {}),\r\n                ignored     = config.ignoreTmpls || {},\r\n                cached      = utils.omit(config, ignored);\r\n\r\n            config = utils.template(config, this, false, true);\r\n\r\n            _.each(cached, function (value, key) {\r\n                utils.nested(config, key, value);\r\n            });\r\n\r\n            return _.extend(this, config);\r\n        }\r\n    });\r\n\r\n    _.extend(Class, {\r\n        defaults: {\r\n            ignoreTmpls: {\r\n                templates: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates new constructor based on a current prototype properties,\r\n         * extending them with properties specified in 'exender' object.\r\n         *\r\n         * @param {Object} [extender={}]\r\n         * @returns {Function} New constructor.\r\n         */\r\n        extend: function (extender) {\r\n            var parent      = this,\r\n                parentProto = parent.prototype,\r\n                childProto  = Object.create(parentProto),\r\n                child       = createConstructor(childProto, getOwn(extender, 'constructor')),\r\n                defaults;\r\n\r\n            extender = extender || {};\r\n            defaults = extender.defaults;\r\n\r\n            delete extender.defaults;\r\n\r\n            _.each(extender, function (method, name) {\r\n                childProto[name] = wrapper.wrapSuper(parentProto[name], method);\r\n            });\r\n\r\n            child.defaults = utils.extend({}, parent.defaults || {});\r\n\r\n            if (defaults) {\r\n                utils.extend(child.defaults, defaults);\r\n                extender.defaults = defaults;\r\n            }\r\n\r\n            return _.extend(child, {\r\n                __super__:  parentProto,\r\n                extend:     parent.extend\r\n            });\r\n        }\r\n    });\r\n\r\n    return Class;\r\n});\r\n","Magento_Ui/js/lib/core/collection.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    'uiElement'\r\n], function (_, utils, registry, Element) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes non plain object items from the specified array.\r\n     *\r\n     * @param {Array} container - Array whose value should be filtered.\r\n     * @returns {Array}\r\n     */\r\n    function compact(container) {\r\n        return _.values(container).filter(utils.isObject);\r\n    }\r\n\r\n    /**\r\n     * Defines index of an item in a specified container.\r\n     *\r\n     * @param {*} item - Item whose index should be defined.\r\n     * @param {Array} container - Container upon which to perform search.\r\n     * @returns {Number}\r\n     */\r\n    function _findIndex(item, container) {\r\n        var index = _.findKey(container, function (value) {\r\n            return value === item;\r\n        });\r\n\r\n        if (typeof index === 'undefined') {\r\n            index = _.findKey(container, function (value) {\r\n                return value && value.name === item;\r\n            });\r\n        }\r\n\r\n        return typeof index === 'undefined' ? -1 : index;\r\n    }\r\n\r\n    /**\r\n     * Inserts specified item into container at a specified position.\r\n     *\r\n     * @param {*} item - Item to be inserted into container.\r\n     * @param {Array} container - Container of items.\r\n     * @param {*} [position=-1] - Position at which item should be inserted.\r\n     *      Position can represent:\r\n     *          - specific index in container\r\n     *          - item which might already be present in container\r\n     *          - structure with one of these properties: after, before\r\n     * @returns {Boolean|*}\r\n     *      - true if element has changed its' position\r\n     *      - false if nothing has changed\r\n     *      - inserted value if it wasn't present in container\r\n     */\r\n    function _insertAt(item, container, position) {\r\n        var currentIndex = _findIndex(item, container),\r\n            newIndex,\r\n            target;\r\n\r\n        if (typeof position === 'undefined') {\r\n            position = -1;\r\n        } else if (typeof position === 'string') {\r\n            position = isNaN(+position) ? position : +position;\r\n        }\r\n\r\n        newIndex = position;\r\n\r\n        if (~currentIndex) {\r\n            target = container.splice(currentIndex, 1)[0];\r\n\r\n            if (typeof item === 'string') {\r\n                item = target;\r\n            }\r\n        }\r\n\r\n        if (typeof position !== 'number') {\r\n            target = position.after || position.before || position;\r\n\r\n            newIndex = _findIndex(target, container);\r\n\r\n            if (~newIndex && (position.after || newIndex >= currentIndex)) {\r\n                newIndex++;\r\n            }\r\n        }\r\n\r\n        if (newIndex < 0) {\r\n            newIndex += container.length + 1;\r\n        }\r\n\r\n        container[newIndex] ?\r\n            container.splice(newIndex, 0, item) :\r\n            container[newIndex] = item;\r\n\r\n        return !~currentIndex ? item : currentIndex !== newIndex;\r\n    }\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/collection',\r\n            _elems: [],\r\n            ignoreTmpls: {\r\n                childDefaults: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Model} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe({\r\n                    elems: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when another element was added to current component.\r\n         *\r\n         * @param {Object} elem - Instance of an element that was added.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        initElement: function (elem) {\r\n            elem.initContainer(this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a child found by provided index.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {Object}\r\n         */\r\n        getChild: function (index) {\r\n            return _.findWhere(this.elems(), {\r\n                index: index\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Requests specified components to insert\r\n         * them into 'elems' array starting from provided position.\r\n         *\r\n         * @param {(String|Array)} elems - Name of the component to insert.\r\n         * @param {Number} [position=-1] - Position at which to insert elements.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        insertChild: function (elems, position) {\r\n            var container   = this._elems,\r\n                insert      = this._insert.bind(this),\r\n                update;\r\n\r\n            if (!Array.isArray(elems)) {\r\n                elems = [elems];\r\n            }\r\n\r\n            elems.map(function (item) {\r\n                return item.elem ?\r\n                    _insertAt(item.elem, container, item.position) :\r\n                    _insertAt(item, container, position);\r\n            }).forEach(function (item) {\r\n                if (item === true) {\r\n                    update = true;\r\n                } else if (_.isString(item)) {\r\n                    registry.get(item, insert);\r\n                } else if (utils.isObject(item)) {\r\n                    insert(item);\r\n                }\r\n            });\r\n\r\n            if (update) {\r\n                this._updateCollection();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified child from collection.\r\n         *\r\n         * @param {(Object|String)} elem - Child or index of a child to be removed.\r\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\r\n         *\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        removeChild: function (elem, skipUpdate) {\r\n            if (_.isString(elem)) {\r\n                elem = this.getChild(elem);\r\n            }\r\n\r\n            if (elem) {\r\n                utils.remove(this._elems, elem);\r\n\r\n                if (!skipUpdate) {\r\n                    this._updateCollection();\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys collection children with its' elements.\r\n         */\r\n        destroyChildren: function () {\r\n            this.elems.each(function (elem) {\r\n                elem.destroy(true);\r\n            });\r\n\r\n            this._updateCollection();\r\n        },\r\n\r\n        /**\r\n         * Clear data. Call method \"clear\"\r\n         * in child components\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        clear: function () {\r\n            var elems = this.elems();\r\n\r\n            _.each(elems, function (elem) {\r\n                if (_.isFunction(elem.clear)) {\r\n                    elem.clear();\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified child exists in collection.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {Boolean}\r\n         */\r\n        hasChild: function (index) {\r\n            return !!this.getChild(index);\r\n        },\r\n\r\n        /**\r\n         * Creates 'async' wrapper for the specified child\r\n         * using uiRegistry 'async' method and caches it\r\n         * in a '_requested' components  object.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {Function} Async module wrapper.\r\n         */\r\n        requestChild: function (index) {\r\n            var name = this.formChildName(index);\r\n\r\n            return this.requestModule(name);\r\n        },\r\n\r\n        /**\r\n         * Creates complete child name based on a provided index.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {String}\r\n         */\r\n        formChildName: function (index) {\r\n            return this.name + '.' + index;\r\n        },\r\n\r\n        /**\r\n         * Retrieves requested region.\r\n         * Creates region if it was not created yet\r\n         *\r\n         * @returns {ObservableArray}\r\n         */\r\n        getRegion: function (name) {\r\n            var regions = this.regions = this.regions || {};\r\n\r\n            if (!regions[name]) {\r\n                regions[name] = [];\r\n\r\n                this.observe.call(regions, name);\r\n            }\r\n\r\n            return regions[name];\r\n        },\r\n\r\n        /**\r\n         * Checks if the specified region has any elements\r\n         * associated with it.\r\n         *\r\n         * @param {String} name\r\n         * @returns {Boolean}\r\n         */\r\n        regionHasElements: function (name) {\r\n            var region = this.getRegion(name);\r\n\r\n            return region().length > 0;\r\n        },\r\n\r\n        /**\r\n         * Replaces specified regions' data with a provided one.\r\n         * Creates region if it was not created yet.\r\n         *\r\n         * @param {Array} items - New regions' data.\r\n         * @param {String} name - Name of the region.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        updateRegion: function (items, name) {\r\n            this.getRegion(name)(items);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys collection along with its' elements.\r\n         */\r\n        destroy: function () {\r\n            this._super();\r\n\r\n            this.elems.each('destroy');\r\n        },\r\n\r\n        /**\r\n         * Inserts provided component into 'elems' array at a specified position.\r\n         * @private\r\n         *\r\n         * @param {Object} elem - Element to insert.\r\n         */\r\n        _insert: function (elem) {\r\n            var index = _.findKey(this._elems, function (value) {\r\n                return value === elem.name;\r\n            });\r\n\r\n            if (typeof index !== 'undefined') {\r\n                this._elems[index] = elem;\r\n            }\r\n\r\n            this._updateCollection()\r\n                .initElement(elem);\r\n        },\r\n\r\n        /**\r\n         * Synchronizes multiple elements arrays with a core '_elems' container.\r\n         * Performs elemets grouping by theirs 'displayArea' property.\r\n         * @private\r\n         *\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        _updateCollection: function () {\r\n            var _elems = compact(this._elems),\r\n                grouped;\r\n\r\n            grouped = _elems.filter(function (elem) {\r\n                return elem.displayArea && _.isString(elem.displayArea);\r\n            });\r\n            grouped = _.groupBy(grouped, 'displayArea');\r\n\r\n            _.each(grouped, this.updateRegion, this);\r\n\r\n            _.each(this.regions, function (items) {\r\n                var hasObsoleteComponents = items().length && !_.intersection(_elems, items()).length;\r\n\r\n                if (hasObsoleteComponents) {\r\n                    items.removeAll();\r\n                }\r\n            });\r\n\r\n            this.elems(_elems);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Tries to call specified method of a current component,\r\n         * otherwise delegates attempt to its' children.\r\n         *\r\n         * @param {String} target - Name of the method.\r\n         * @param {...*} parameters - Arguments that will be passed to method.\r\n         * @returns {*} Result of the method calls.\r\n         */\r\n        delegate: function (target) {\r\n            var args = _.toArray(arguments);\r\n\r\n            target = this[target];\r\n\r\n            if (_.isFunction(target)) {\r\n                return target.apply(this, args.slice(1));\r\n            }\r\n\r\n            return this._delegate(args);\r\n        },\r\n\r\n        /**\r\n         * Calls 'delegate' method of all of it's children components.\r\n         * @private\r\n         *\r\n         * @param {Array} args - An array of arguments to pass to the next delegation call.\r\n         * @returns {Array} An array of delegation results.\r\n         */\r\n        _delegate: function (args) {\r\n            var result;\r\n\r\n            result = this.elems.map(function (elem) {\r\n                var target;\r\n\r\n                if (!_.isFunction(elem.delegate)) {\r\n                    target = elem[args[0]];\r\n\r\n                    if (_.isFunction(target)) {\r\n                        return target.apply(elem, args.slice(1));\r\n                    }\r\n                } else {\r\n                    return elem.delegate.apply(elem, args);\r\n                }\r\n            });\r\n\r\n            return _.flatten(result);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/core/events.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global WeakMap, Map*/\r\ndefine([\r\n    'ko',\r\n    'underscore'\r\n], function (ko, _) {\r\n    'use strict';\r\n\r\n    var eventsMap = new WeakMap();\r\n\r\n    /**\r\n     * Returns events map or a specific event\r\n     * data associated with a provided object.\r\n     *\r\n     * @param {Object} obj - Key in the events weakmap.\r\n     * @param {String} [name] - Name of the event.\r\n     * @returns {Map|Array|Boolean}\r\n     */\r\n    function getEvents(obj, name) {\r\n        var events = eventsMap.get(obj);\r\n\r\n        if (!events) {\r\n            return false;\r\n        }\r\n\r\n        return name ? events.get(name) : events;\r\n    }\r\n\r\n    /**\r\n     * Adds new event handler.\r\n     *\r\n     * @param {Object} obj - Key in the events weakmap.\r\n     * @param {String} ns - Callback namespace.\r\n     * @param {Function} callback - Event callback.\r\n     * @param {String} name - Name of the event.\r\n     */\r\n    function addHandler(obj, ns, callback, name) {\r\n        var events      = getEvents(obj),\r\n            observable,\r\n            data;\r\n\r\n        observable = !ko.isObservable(obj[name]) ?\r\n            ko.getObservable(obj, name) :\r\n            obj[name];\r\n\r\n        if (observable) {\r\n            observable.subscribe(callback);\r\n\r\n            return;\r\n        }\r\n\r\n        if (!events) {\r\n            events = new Map();\r\n\r\n            eventsMap.set(obj, events);\r\n        }\r\n\r\n        data = {\r\n            callback: callback,\r\n            ns: ns\r\n        };\r\n\r\n        events.has(name) ?\r\n            events.get(name).push(data) :\r\n            events.set(name, [data]);\r\n    }\r\n\r\n    /**\r\n     * Invokes provided callbacks with a specified arguments.\r\n     *\r\n     * @param {Array} handlers\r\n     * @param {Array} args\r\n     * @returns {Boolean}\r\n     */\r\n    function trigger(handlers, args) {\r\n        var bubble = true,\r\n            callback;\r\n\r\n        handlers.forEach(function (handler) {\r\n            callback = handler.callback;\r\n\r\n            if (callback.apply(null, args) === false) {\r\n                bubble = false;\r\n            }\r\n        });\r\n\r\n        return bubble;\r\n    }\r\n\r\n    return {\r\n\r\n        /**\r\n         * Calls callback when name event is triggered.\r\n         * @param  {String}   events\r\n         * @param  {Function} callback\r\n         * @param  {Function} ns\r\n         * @return {Object} reference to this\r\n         */\r\n        on: function (events, callback, ns) {\r\n            var iterator;\r\n\r\n            if (arguments.length < 2) {\r\n                ns = callback;\r\n            }\r\n\r\n            iterator = addHandler.bind(null, this, ns);\r\n\r\n            _.isObject(events) ?\r\n                _.each(events, iterator) :\r\n                iterator(callback, events);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removed callback from listening to target event\r\n         * @param  {String} ns\r\n         * @return {Object} reference to this\r\n         */\r\n        off: function (ns) {\r\n            var storage = getEvents(this);\r\n\r\n            if (!storage) {\r\n                return this;\r\n            }\r\n\r\n            storage.forEach(function (handlers, name) {\r\n                handlers = handlers.filter(function (handler) {\r\n                    return !ns ? false : handler.ns !== ns;\r\n                });\r\n\r\n                handlers.length ?\r\n                    storage.set(name, handlers) :\r\n                    storage.delete(name);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Triggers event and executes all attached callbacks.\r\n         *\r\n         * @param {String} name - Name of the event to be triggered.\r\n         * @returns {Boolean}\r\n         */\r\n        trigger: function (name) {\r\n            var handlers,\r\n                args;\r\n\r\n            handlers = getEvents(this, name),\r\n            args = _.toArray(arguments).slice(1);\r\n\r\n            if (!handlers || !name) {\r\n                return true;\r\n            }\r\n\r\n            return trigger(handlers, args);\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/core/element/element.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    'uiEvents',\r\n    'uiClass',\r\n    './links',\r\n    '../storage/local'\r\n], function (ko, _, utils, registry, Events, Class, links) {\r\n    'use strict';\r\n\r\n    var Element;\r\n\r\n    /**\r\n     * Creates observable property using knockouts'\r\n     * 'observableArray' or 'observable' methods,\r\n     * depending on a type of 'value' parameter.\r\n     *\r\n     * @param {Object} obj - Object to whom property belongs.\r\n     * @param {String} key - Key of the property.\r\n     * @param {*} value - Initial value.\r\n     */\r\n    function observable(obj, key, value) {\r\n        var method = Array.isArray(value) ? 'observableArray' : 'observable';\r\n\r\n        if (_.isFunction(obj[key]) && !ko.isObservable(obj[key])) {\r\n            return;\r\n        }\r\n\r\n        if (ko.isObservable(value)) {\r\n            value = value();\r\n        }\r\n\r\n        ko.isObservable(obj[key]) ?\r\n            obj[key](value) :\r\n            obj[key] = ko[method](value);\r\n    }\r\n\r\n    /**\r\n     * Creates observable property using 'track' method.\r\n     *\r\n     * @param {Object} obj - Object to whom property belongs.\r\n     * @param {String} key - Key of the property.\r\n     * @param {*} value - Initial value.\r\n     */\r\n    function accessor(obj, key, value) {\r\n        if (_.isFunction(obj[key]) || ko.isObservable(obj[key])) {\r\n            return;\r\n        }\r\n\r\n        obj[key] = value;\r\n\r\n        if (!ko.es5.isTracked(obj, key)) {\r\n            ko.track(obj, [key]);\r\n        }\r\n    }\r\n\r\n    Element = _.extend({\r\n        defaults: {\r\n            _requested: {},\r\n            containers: [],\r\n            exports: {},\r\n            imports: {},\r\n            links: {},\r\n            listens: {},\r\n            name: '',\r\n            ns: '${ $.name.split(\".\")[0] }',\r\n            provider: '',\r\n            registerNodes: true,\r\n            source: null,\r\n            statefull: {},\r\n            template: '',\r\n            tracks: {},\r\n            storageConfig: {\r\n                provider: 'localStorage',\r\n                namespace: '${ $.name }',\r\n                path: '${ $.storageConfig.provider }:${ $.storageConfig.namespace }'\r\n            },\r\n            maps: {\r\n                imports: {},\r\n                exports: {}\r\n            },\r\n            modules: {\r\n                storage: '${ $.storageConfig.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes model instance.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initObservable()\r\n                .initModules()\r\n                .initStatefull()\r\n                .initLinks()\r\n                .initUnique();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            _.each(this.tracks, function (enabled, key) {\r\n                if (enabled) {\r\n                    this.track(key);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Parses 'modules' object and creates\r\n         * async wrappers for specified components.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initModules: function () {\r\n            _.each(this.modules, function (name, property) {\r\n                if (name) {\r\n                    this[property] = this.requestModule(name);\r\n                }\r\n            }, this);\r\n\r\n            if (!_.isFunction(this.source)) {\r\n                this.source = registry.get(this.provider);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when current element was injected to another component.\r\n         *\r\n         * @param {Object} parent - Instance of a 'parent' component.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        initContainer: function (parent) {\r\n            this.containers.push(parent);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes statefull properties\r\n         * based on the keys of 'statefull' object.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initStatefull: function () {\r\n            _.each(this.statefull, function (path, key) {\r\n                if (path) {\r\n                    this.setStatefull(key, path);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes links between properties.\r\n         *\r\n         * @returns {Element} Chainbale.\r\n         */\r\n        initLinks: function () {\r\n            return this.setListeners(this.listens)\r\n                       .setLinks(this.links, 'imports')\r\n                       .setLinks(this.links, 'exports')\r\n                       .setLinks(this.exports, 'exports')\r\n                       .setLinks(this.imports, 'imports');\r\n        },\r\n\r\n        /**\r\n         * Initializes listeners of the unique property.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initUnique: function () {\r\n            var update = this.onUniqueUpdate.bind(this),\r\n                uniqueNs = this.uniqueNs;\r\n\r\n            this.hasUnique = this.uniqueProp && uniqueNs;\r\n\r\n            if (this.hasUnique) {\r\n                this.source.on(uniqueNs, update, this.name);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Makes specified property to be stored automatically.\r\n         *\r\n         * @param {String} key - Name of the property\r\n         *      that will be stored.\r\n         * @param {String} [path=key] - Path to the property in storage.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        setStatefull: function (key, path) {\r\n            var link = {};\r\n\r\n            path        = !_.isString(path) || !path ? key : path;\r\n            link[key]   = this.storageConfig.path + '.' + path;\r\n\r\n            this.setLinks(link, 'imports')\r\n                .setLinks(link, 'exports');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates property specified in uniqueNs\r\n         * if elements' unique property is set to 'true'.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        setUnique: function () {\r\n            var property = this.uniqueProp;\r\n\r\n            if (this[property]()) {\r\n                this.source.set(this.uniqueNs, this.name);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates 'async' wrapper for the specified component\r\n         * using uiRegistry 'async' method and caches it\r\n         * in a '_requested' components  object.\r\n         *\r\n         * @param {String} name - Name of requested component.\r\n         * @returns {Function} Async module wrapper.\r\n         */\r\n        requestModule: function (name) {\r\n            var requested = this._requested;\r\n\r\n            if (!requested[name]) {\r\n                requested[name] = registry.async(name);\r\n            }\r\n\r\n            return requested[name];\r\n        },\r\n\r\n        /**\r\n         * Returns path to elements' template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getTemplate: function () {\r\n            return this.template;\r\n        },\r\n\r\n        /**\r\n         * Checks if template was specified for an element.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasTemplate: function () {\r\n            return !!this.template;\r\n        },\r\n\r\n        /**\r\n         * Returns value of the nested property.\r\n         *\r\n         * @param {String} path - Path to the property.\r\n         * @returns {*} Value of the property.\r\n         */\r\n        get: function (path) {\r\n            return utils.nested(this, path);\r\n        },\r\n\r\n        /**\r\n         * Sets provided value as a value of the specified nested property.\r\n         * Triggers changes notifications, if value has mutated.\r\n         *\r\n         * @param {String} path - Path to property.\r\n         * @param {*} value - New value of the property.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        set: function (path, value) {\r\n            var data = this.get(path),\r\n                diffs;\r\n\r\n            diffs = !_.isFunction(data) && !this.isTracked(path) ?\r\n                utils.compare(data, value, path) :\r\n                false;\r\n\r\n            utils.nested(this, path, value);\r\n\r\n            if (diffs) {\r\n                this._notifyChanges(diffs);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes nested property from the object.\r\n         *\r\n         * @param {String} path - Path to the property.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        remove: function (path) {\r\n            var data = utils.nested(this, path),\r\n                diffs;\r\n\r\n            if (_.isUndefined(data) || _.isFunction(data)) {\r\n                return this;\r\n            }\r\n\r\n            diffs = utils.compare(data, undefined, path);\r\n\r\n            utils.nestedRemove(this, path);\r\n\r\n            this._notifyChanges(diffs);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates observable properties for the current object.\r\n         *\r\n         * If 'useTrack' flag is set to 'true' then each property will be\r\n         * created with a ES5 get/set accessor descriptors, instead of\r\n         * making them an observable functions.\r\n         * See 'knockout-es5' library for more information.\r\n         *\r\n         * @param {Boolean} [useAccessors=false] - Whether to create an\r\n         *      observable function or to use property accesessors.\r\n         * @param {(Object|String|Array)} properties - List of observable properties.\r\n         * @returns {Element} Chainable.\r\n         *\r\n         * @example Sample declaration and equivalent knockout methods.\r\n         *      this.key = 'value';\r\n         *      this.array = ['value'];\r\n         *\r\n         *      this.observe(['key', 'array']);\r\n         *      =>\r\n         *          this.key = ko.observable('value');\r\n         *          this.array = ko.observableArray(['value']);\r\n         *\r\n         * @example Another syntaxes of the previous example.\r\n         *      this.observe({\r\n         *          key: 'value',\r\n         *          array: ['value']\r\n         *      });\r\n         */\r\n        observe: function (useAccessors, properties) {\r\n            var model = this,\r\n                trackMethod;\r\n\r\n            if (typeof useAccessors !== 'boolean') {\r\n                properties   = useAccessors;\r\n                useAccessors = false;\r\n            }\r\n\r\n            trackMethod = useAccessors ? accessor : observable;\r\n\r\n            if (_.isString(properties)) {\r\n                properties = properties.split(' ');\r\n            }\r\n\r\n            if (Array.isArray(properties)) {\r\n                properties.forEach(function (key) {\r\n                    trackMethod(model, key, model[key]);\r\n                });\r\n            } else if (typeof properties === 'object') {\r\n                _.each(properties, function (value, key) {\r\n                    trackMethod(model, key, value);\r\n                });\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Delegates call to 'observe' method but\r\n         * with a predefined 'useAccessors' flag.\r\n         *\r\n         * @param {(String|Array|Object)} properties - List of observable properties.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        track: function (properties) {\r\n            this.observe(true, properties);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified property is tracked.\r\n         *\r\n         * @param {String} property - Property to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isTracked: function (property) {\r\n            return ko.es5.isTracked(this, property);\r\n        },\r\n\r\n        /**\r\n         * Invokes subscribers for the provided changes.\r\n         *\r\n         * @param {Object} diffs - Object with changes descriptions.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        _notifyChanges: function (diffs) {\r\n            diffs.changes.forEach(function (change) {\r\n                this.trigger(change.path, change.value, change);\r\n            }, this);\r\n\r\n            _.each(diffs.containers, function (changes, name) {\r\n                var value = utils.nested(this, name);\r\n\r\n                this.trigger(name, value, changes);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extracts all stored data and sets it to element.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        restore: function () {\r\n            var ns = this.storageConfig.namespace,\r\n                storage = this.storage();\r\n\r\n            if (storage) {\r\n                utils.extend(this, storage.get(ns));\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stores value of the specified property in components' storage module.\r\n         *\r\n         * @param {String} property\r\n         * @param {*} [data=this[property]]\r\n         * @returns {Element} Chainable.\r\n         */\r\n        store: function (property, data) {\r\n            var ns = this.storageConfig.namespace,\r\n                path = utils.fullPath(ns, property);\r\n\r\n            if (arguments.length < 2) {\r\n                data = this.get(property);\r\n            }\r\n\r\n            this.storage('set', path, data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extracts specified property from storage.\r\n         *\r\n         * @param {String} [property] - Name of the property\r\n         *      to be extracted. If not specified then all of the\r\n         *      stored will be returned.\r\n         * @returns {*}\r\n         */\r\n        getStored: function (property) {\r\n            var ns = this.storageConfig.namespace,\r\n                path = utils.fullPath(ns, property),\r\n                storage = this.storage(),\r\n                data;\r\n\r\n            if (storage) {\r\n                data = storage.get(path);\r\n            }\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Removes stored property.\r\n         *\r\n         * @param {String} property - Property to be removed from storage.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        removeStored: function (property) {\r\n            var ns = this.storageConfig.namespace,\r\n                path = utils.fullPath(ns, property);\r\n\r\n            this.storage('remove', path);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys current instance along with all of its' children.\r\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\r\n         */\r\n        destroy: function (skipUpdate) {\r\n            this._dropHandlers()\r\n                ._clearRefs(skipUpdate);\r\n        },\r\n\r\n        /**\r\n         * Removes events listeners.\r\n         * @private\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        _dropHandlers: function () {\r\n            this.off();\r\n\r\n            if (_.isFunction(this.source)) {\r\n                this.source().off(this.name);\r\n            } else if (this.source) {\r\n                this.source.off(this.name);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes all references to current instance and\r\n         * calls 'destroy' method on all of its' children.\r\n         * @private\r\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        _clearRefs: function (skipUpdate) {\r\n            registry.remove(this.name);\r\n\r\n            this.containers.forEach(function (parent) {\r\n                parent.removeChild(this, skipUpdate);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Overrides 'EventsBus.trigger' method to implement events bubbling.\r\n         *\r\n         * @param {...*} arguments - Any number of arguments that should be passed to the events' handler.\r\n         * @returns {Boolean} False if event bubbling was canceled.\r\n         */\r\n        bubble: function () {\r\n            var args = _.toArray(arguments),\r\n                bubble = this.trigger.apply(this, args),\r\n                result;\r\n\r\n            if (!bubble) {\r\n                return false;\r\n            }\r\n\r\n            this.containers.forEach(function (parent) {\r\n                result = parent.bubble.apply(parent, args);\r\n\r\n                if (result === false) {\r\n                    bubble = false;\r\n                }\r\n            });\r\n\r\n            return !!bubble;\r\n        },\r\n\r\n        /**\r\n         * Callback which fires when property under uniqueNs has changed.\r\n         */\r\n        onUniqueUpdate: function (name) {\r\n            var active = name === this.name,\r\n                property = this.uniqueProp;\r\n\r\n            this[property](active);\r\n        },\r\n\r\n        /**\r\n         * Clean data form data source.\r\n         *\r\n         * @returns {Element}\r\n         */\r\n        cleanData: function () {\r\n            if (this.source && this.source.componentType === 'dataSource') {\r\n                if (this.elems) {\r\n                    _.each(this.elems(), function (val) {\r\n                        val.cleanData();\r\n                    });\r\n                } else {\r\n                    this.source.remove(this.dataScope);\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Fallback data.\r\n         */\r\n        cacheData: function () {\r\n            this.cachedComponent = utils.copy(this);\r\n        },\r\n\r\n        /**\r\n         * Update configuration in component.\r\n         *\r\n         * @param {*} oldValue\r\n         * @param {*} newValue\r\n         * @param {String} path - path to value.\r\n         * @returns {Element}\r\n         */\r\n        updateConfig: function (oldValue, newValue, path) {\r\n            var names = path.split('.'),\r\n                index = _.lastIndexOf(names, 'config') + 1;\r\n\r\n            names = names.splice(index, names.length - index).join('.');\r\n            this.set(names, newValue);\r\n\r\n            return this;\r\n        }\r\n    }, Events, links);\r\n\r\n    return Class.extend(Element);\r\n});\r\n","Magento_Ui/js/lib/core/element/links.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry'\r\n], function (ko, _, utils, registry) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Parse provided data.\r\n     *\r\n     * @param {String} placeholder\r\n     * @param {String} data\r\n     * @param {String} direction\r\n     * @returns {Boolean|Object}\r\n     */\r\n    function parseData(placeholder, data, direction) {\r\n        if (typeof data !== 'string') {\r\n            return false;\r\n        }\r\n\r\n        data = data.split(':');\r\n\r\n        if (!data[0]) {\r\n            return false;\r\n        }\r\n\r\n        if (!data[1]) {\r\n            data[1] = data[0];\r\n            data[0] = placeholder;\r\n        }\r\n\r\n        return {\r\n            target: data[0],\r\n            property: data[1],\r\n            direction: direction\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Check if value not empty.\r\n     *\r\n     * @param {*} value\r\n     * @returns {Boolean}\r\n     */\r\n    function notEmpty(value) {\r\n        return typeof value !== 'undefined' && value != null;\r\n    }\r\n\r\n    /**\r\n     * Update value for linked component.\r\n     *\r\n     * @param {Object} data\r\n     * @param {Object} owner\r\n     * @param {Object} target\r\n     * @param {*} value\r\n     */\r\n    function updateValue(data, owner, target, value) {\r\n        var component = target.component,\r\n            property = target.property,\r\n            linked = data.linked;\r\n\r\n        if (data.mute) {\r\n            return;\r\n        }\r\n\r\n        if (linked) {\r\n            linked.mute = true;\r\n        }\r\n\r\n        if (owner.component !== target.component) {\r\n            value = data.inversionValue ? !utils.copy(value) : utils.copy(value);\r\n        }\r\n\r\n        component.set(property, value, owner);\r\n\r\n        if (property === 'disabled' && value) {\r\n            component.set('validate', value, owner);\r\n        }\r\n\r\n        if (linked) {\r\n            linked.mute = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get value form owner component property.\r\n     *\r\n     * @param {Object} owner\r\n     * @returns {*}\r\n     */\r\n    function getValue(owner) {\r\n        var component = owner.component,\r\n            property = owner.property;\r\n\r\n        return component.get(property);\r\n    }\r\n\r\n    /**\r\n     * Format provided params to object.\r\n     *\r\n     * @param {String} ownerComponent\r\n     * @param {String} targetComponent\r\n     * @param {String} ownerProp\r\n     * @param {String} targetProp\r\n     * @param {String} direction\r\n     * @returns {Object}\r\n     */\r\n    function form(ownerComponent, targetComponent, ownerProp, targetProp, direction) {\r\n        var result,\r\n            tmp;\r\n\r\n        result = {\r\n            owner: {\r\n                component: ownerComponent,\r\n                property: ownerProp\r\n            },\r\n            target: {\r\n                component: targetComponent,\r\n                property: targetProp\r\n            }\r\n        };\r\n\r\n        if (direction === 'exports') {\r\n            tmp = result.owner;\r\n            result.owner = result.target;\r\n            result.target = tmp;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Set data to linked property.\r\n     *\r\n     * @param {Object} map\r\n     * @param {Object} data\r\n     */\r\n    function setLinked(map, data) {\r\n        var match;\r\n\r\n        if (!map) {\r\n            return;\r\n        }\r\n\r\n        match = _.findWhere(map, {\r\n            linked: false,\r\n            target: data.target,\r\n            property: data.property\r\n        });\r\n\r\n        if (match) {\r\n            match.linked = data;\r\n            data.linked = match;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set data by direction.\r\n     *\r\n     * @param {Object} maps\r\n     * @param {String} property\r\n     * @param {Object} data\r\n     */\r\n    function setData(maps, property, data) {\r\n        var direction   = data.direction,\r\n            map         = maps[direction];\r\n\r\n        data.linked = false;\r\n\r\n        (map[property] = map[property] || []).push(data);\r\n\r\n        direction = direction === 'imports' ? 'exports' : 'imports';\r\n\r\n        setLinked(maps[direction][property], data);\r\n    }\r\n\r\n    /**\r\n     * Set links for components.\r\n     *\r\n     * @param {String} target\r\n     * @param {String} owner\r\n     * @param {Object} data\r\n     * @param {String} property\r\n     * @param {Boolean} immediate\r\n     */\r\n    function setLink(target, owner, data, property, immediate) {\r\n        var direction = data.direction,\r\n            formated = form(target, owner, data.property, property, direction),\r\n            callback,\r\n            value;\r\n\r\n        owner = formated.owner;\r\n        target = formated.target;\r\n\r\n        callback = updateValue.bind(null, data, owner, target);\r\n\r\n        owner.component.on(owner.property, callback, target.component.name);\r\n\r\n        if (immediate) {\r\n            value = getValue(owner);\r\n\r\n            if (notEmpty(value)) {\r\n                updateValue(data, owner, target, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Transfer data between components.\r\n     *\r\n     * @param {Object} owner\r\n     * @param {Object} data\r\n     */\r\n    function transfer(owner, data) {\r\n        var args = _.toArray(arguments);\r\n\r\n        if (data.target.substr(0, 1) === '!') {\r\n            data.target = data.target.substr(1);\r\n            data.inversionValue = true;\r\n        }\r\n\r\n        if (owner.name === data.target) {\r\n            args.unshift(owner);\r\n\r\n            setLink.apply(null, args);\r\n        } else {\r\n            registry.get(data.target, function (target) {\r\n                args.unshift(target);\r\n\r\n                setLink.apply(null, args);\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        /**\r\n         * Assign listeners.\r\n         *\r\n         * @param {Object} listeners\r\n         * @returns {Object} Chainable\r\n         */\r\n        setListeners: function (listeners) {\r\n            var owner = this,\r\n                data;\r\n\r\n            _.each(listeners, function (callbacks, sources) {\r\n                sources = sources.split(' ');\r\n                callbacks = callbacks.split(' ');\r\n\r\n                sources.forEach(function (target) {\r\n                    callbacks.forEach(function (callback) {//eslint-disable-line max-nested-callbacks\r\n                        data = parseData(owner.name, target, 'imports');\r\n\r\n                        if (data) {\r\n                            setData(owner.maps, callback, data);\r\n                            transfer(owner, data, callback);\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set links in provided direction.\r\n         *\r\n         * @param {Object} links\r\n         * @param {String} direction\r\n         * @returns {Object} Chainable\r\n         */\r\n        setLinks: function (links, direction) {\r\n            var owner = this,\r\n                property,\r\n                data;\r\n\r\n            for (property in links) {\r\n                if (links.hasOwnProperty(property)) {\r\n                    data = parseData(owner.name, links[property], direction);\r\n\r\n                    if (data) {//eslint-disable-line max-depth\r\n                        setData(owner.maps, property, data);\r\n                        transfer(owner, data, property, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/core/storage/local.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'mageUtils',\r\n    'uiEvents'\r\n], function (_, registry, utils, EventsBus) {\r\n    'use strict';\r\n\r\n    var root = 'appData',\r\n        localStorage,\r\n        hasSupport,\r\n        storage;\r\n\r\n    /**\r\n     * Flag which indicates whether localStorage is supported.\r\n     */\r\n    hasSupport = (function () {\r\n        var key = '_storageSupported';\r\n\r\n        try {\r\n            localStorage = window.localStorage;\r\n            localStorage.setItem(key, 'true');\r\n\r\n            if (localStorage.getItem(key) === 'true') {\r\n                localStorage.removeItem(key);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    })();\r\n\r\n    if (!hasSupport) {\r\n        localStorage = {\r\n            _data: {},\r\n\r\n            /**\r\n             * Sets value of the specified item.\r\n             *\r\n             * @param {String} key - Key of the property.\r\n             * @param {*} value - Properties' value.\r\n             */\r\n            setItem: function (key, value) {\r\n                this._data[key] = value + '';\r\n            },\r\n\r\n            /**\r\n             * Retrieves specified item.\r\n             *\r\n             * @param {String} key - Key of the property to be retrieved.\r\n             */\r\n            getItem: function (key) {\r\n                return this._data[key];\r\n            },\r\n\r\n            /**\r\n             * Removes specified item.\r\n             *\r\n             * @param {String} key - Key of the property to be removed.\r\n             */\r\n            removeItem: function (key) {\r\n                delete this._data[key];\r\n            },\r\n\r\n            /**\r\n             * Removes all items.\r\n             */\r\n            clear: function () {\r\n                this._data = {};\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Extracts and parses data stored in localStorage by the\r\n     * key specified in 'root' variable.\r\n     *\r\n     * @returns {Object}\r\n     */\r\n    function getRoot() {\r\n        var data = localStorage.getItem(root),\r\n            result = {};\r\n\r\n        if (!_.isNull(data) && typeof data != 'undefined') {\r\n            result = JSON.parse(data);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Writes provided data to the localStorage.\r\n     *\r\n     * @param {*} data - Data to be stored.\r\n     */\r\n    function setRoot(data) {\r\n        localStorage.setItem(root, JSON.stringify(data));\r\n    }\r\n\r\n    /**\r\n     * Provides methods to work with a localStorage\r\n     * as a single nested structure.\r\n     */\r\n    storage = _.extend({\r\n\r\n        /**\r\n         * Retrieves value of the specified property.\r\n         *\r\n         * @param {String} path - Path to the property.\r\n         *\r\n         * @example Retrieving data.\r\n         *      localStorage =>\r\n         *          'appData' => '\r\n         *              \"one\": {\"two\": \"three\"}\r\n         *          '\r\n         *      storage.get('one.two')\r\n         *      => \"three\"\r\n         *\r\n         *      storage.get('one')\r\n         *      => {\"two\": \"three\"}\r\n         */\r\n        get: function (path) {\r\n            var data = getRoot();\r\n\r\n            return utils.nested(data, path);\r\n        },\r\n\r\n        /**\r\n         * Sets specified data to the localStorage.\r\n         *\r\n         * @param {String} path - Path of the property.\r\n         * @param {*} value - Value of the property.\r\n         *\r\n         * @example Setting data.\r\n         *      storage.set('one.two', 'four');\r\n         *      => localStorage =>\r\n         *          'appData' => '\r\n         *              \"one\": {\"two\": \"four\"}\r\n         *          '\r\n         */\r\n        set: function (path, value) {\r\n            var data = getRoot();\r\n\r\n            utils.nested(data, path, value);\r\n\r\n            setRoot(data);\r\n        },\r\n\r\n        /**\r\n         * Removes specified data from the localStorage.\r\n         *\r\n         * @param {String} path - Path to the property that should be removed.\r\n         *\r\n         * @example Removing data.\r\n         *      storage.remove('one.two', 'four');\r\n         *      => localStorage =>\r\n         *          'appData' => '\r\n         *              \"one\": {}\r\n         *          '\r\n         */\r\n        remove: function (path) {\r\n            var data = getRoot();\r\n\r\n            utils.nestedRemove(data, path);\r\n\r\n            setRoot(data);\r\n        }\r\n    }, EventsBus);\r\n\r\n    registry.set('localStorage', storage);\r\n\r\n    return storage;\r\n});\r\n","Magento_Ui/js/lib/knockout/bootstrap.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Loads all available knockout bindings, sets custom template engine, initializes knockout on page */\r\n\r\ndefine([\r\n    'ko',\r\n    './template/engine',\r\n    'knockoutjs/knockout-es5',\r\n    './bindings/bootstrap',\r\n    './extender/observable_array',\r\n    './extender/bound-nodes',\r\n    'domReady!'\r\n], function (ko, templateEngine) {\r\n    'use strict';\r\n\r\n    ko.uid = 0;\r\n\r\n    ko.setTemplateEngine(templateEngine);\r\n    ko.applyBindings();\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/after-render.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.afterRender = {\r\n\r\n        /**\r\n         * Binding init callback.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel) {\r\n            var callback = valueAccessor();\r\n\r\n            if (typeof callback === 'function') {\r\n                callback.call(viewModel, element, viewModel);\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('afterRender');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/autoselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    '../template/renderer'\r\n], function (ko, $, renderer) {\r\n    'use strict';\r\n\r\n    /**\r\n     * 'Focus' event handler.\r\n     *\r\n     * @param {EventObject} e\r\n     */\r\n    function onFocus(e) {\r\n        e.target.select();\r\n    }\r\n\r\n    ko.bindingHandlers.autoselect = {\r\n\r\n        /**\r\n         * Adds event handler which automatically\r\n         * selects inputs' element text when field gets focused.\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var enabled = ko.unwrap(valueAccessor());\r\n\r\n            if (enabled !== false) {\r\n                $(element).on('focus', onFocus);\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('autoselect');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/bind-html.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mage/apply/main',\r\n    '../template/renderer'\r\n], function (ko, _, mage, renderer) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Set html to node element.\r\n     *\r\n     * @param {HTMLElement} el - Element to apply bindings to.\r\n     * @param {Function} html - Observable html content.\r\n     */\r\n    function setHtml(el, html) {\r\n        ko.utils.emptyDomNode(el);\r\n        html = ko.utils.unwrapObservable(html);\r\n\r\n        if (!_.isNull(html) && !_.isUndefined(html)) {\r\n            if (!_.isString(html)) {\r\n                html = html.toString();\r\n            }\r\n\r\n            el.innerHTML = html;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Apply bindings and call magento attributes parser.\r\n     *\r\n     * @param {HTMLElement} el - Element to apply bindings to.\r\n     * @param {ko.bindingContext} ctx - Instance of ko.bindingContext, passed to binding initially.\r\n     */\r\n    function applyComponents(el, ctx) {\r\n        ko.utils.arrayForEach(el.childNodes, ko.cleanNode);\r\n        ko.applyBindingsToDescendants(ctx, el);\r\n        mage.apply();\r\n    }\r\n\r\n    ko.bindingHandlers.bindHtml = {\r\n        /**\r\n         * Scope binding's init method.\r\n         *\r\n         * @returns {Object} - Knockout declaration for it to let binding control descendants.\r\n         */\r\n        init: function () {\r\n            return {\r\n                controlsDescendantBindings: true\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Reads params passed to binding.\r\n         * Set html to node element, apply bindings and call magento attributes parser.\r\n         *\r\n         * @param {HTMLElement} el - Element to apply bindings to.\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\r\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\r\n         * @param {Object} viewModel - Object, which represents view model binded to el.\r\n         * @param {ko.bindingContext} bindingContext - Instance of ko.bindingContext, passed to binding initially.\r\n         */\r\n        update: function (el, valueAccessor, allBindings, viewModel, bindingContext) {\r\n            setHtml(el, valueAccessor());\r\n            applyComponents(el, bindingContext);\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('bindHtml');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/bootstrap.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine(function (require) {\r\n    'use strict';\r\n\r\n    var renderer = require('../template/renderer');\r\n\r\n    renderer.addAttribute('repeat', renderer.handlers.wrapAttribute);\r\n\r\n    renderer.addAttribute('outerfasteach', {\r\n        binding: 'fastForEach',\r\n        handler: renderer.handlers.wrapAttribute\r\n    });\r\n\r\n    renderer\r\n        .addNode('repeat')\r\n        .addNode('fastForEach');\r\n\r\n    return {\r\n        resizable:      require('./resizable'),\r\n        i18n:           require('./i18n'),\r\n        scope:          require('./scope'),\r\n        range:          require('./range'),\r\n        mageInit:       require('./mage-init'),\r\n        keyboard:       require('./keyboard'),\r\n        optgroup:       require('./optgroup'),\r\n        afterRender:     require('./after-render'),\r\n        autoselect:     require('./autoselect'),\r\n        datepicker:     require('./datepicker'),\r\n        outerClick:     require('./outer_click'),\r\n        fadeVisible:    require('./fadeVisible'),\r\n        collapsible:    require('./collapsible'),\r\n        staticChecked:  require('./staticChecked'),\r\n        simpleChecked:  require('./simple-checked'),\r\n        bindHtml:       require('./bind-html'),\r\n        tooltip:        require('./tooltip'),\r\n        repeat:         require('knockoutjs/knockout-repeat'),\r\n        fastForEach:    require('knockoutjs/knockout-fast-foreach'),\r\n        colorPicker:    require('./color-picker')\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/collapsible.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    '../template/renderer'\r\n], function (ko, $, _, renderer) {\r\n    'use strict';\r\n\r\n    var collapsible,\r\n        defaults;\r\n\r\n    defaults = {\r\n        closeOnOuter: true,\r\n        onTarget: false,\r\n        openClass: '_active',\r\n        as: '$collapsible'\r\n    };\r\n\r\n    collapsible = {\r\n\r\n        /**\r\n         * Sets 'opened' property to true.\r\n         */\r\n        open: function () {\r\n            this.opened(true);\r\n        },\r\n\r\n        /**\r\n         * Sets 'opened' property to false.\r\n         */\r\n        close: function () {\r\n            this.opened(false);\r\n        },\r\n\r\n        /**\r\n         * Toggles value of the 'opened' property.\r\n         */\r\n        toggle: function () {\r\n            this.opened(!this.opened());\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Document click handler which in case if event target is not\r\n     * a descendant of provided container element, closes collapsible model.\r\n     *\r\n     * @param {HTMLElement} container\r\n     * @param {Object} model\r\n     * @param {EventObject} e\r\n     */\r\n    function onOuterClick(container, model, e) {\r\n        var target = e.target;\r\n\r\n        if (target !== container && !container.contains(target)) {\r\n            model.close();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates 'css' binding which toggles\r\n     * class specified in 'name' parameter.\r\n     *\r\n     * @param {Object} model\r\n     * @param {String} name\r\n     * @returns {Object}\r\n     */\r\n    function getClassBinding(model, name) {\r\n        var binding = {};\r\n\r\n        binding[name] = model.opened;\r\n\r\n        return {\r\n            css: binding\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Prepares configuration for the binding based\r\n     * on a default properties and provided options.\r\n     *\r\n     * @param {Object} [options={}]\r\n     * @returns {Object} Complete instance configuration.\r\n     */\r\n    function buildConfig(options) {\r\n        if (typeof options !== 'object') {\r\n            options = {};\r\n        }\r\n\r\n        return _.extend({}, defaults, options);\r\n    }\r\n\r\n    ko.bindingHandlers.collapsible = {\r\n\r\n        /**\r\n         * Initializes 'collapsible' binding.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var $collapsible = Object.create(collapsible),\r\n                config = buildConfig(valueAccessor()),\r\n                outerClick,\r\n                bindings;\r\n\r\n            _.bindAll($collapsible, 'open', 'close', 'toggle');\r\n\r\n            $collapsible.opened = ko.observable(!!config.opened);\r\n\r\n            bindingCtx[config.as] = $collapsible;\r\n\r\n            if (config.closeOnOuter) {\r\n                outerClick = onOuterClick.bind(null, element, $collapsible);\r\n\r\n                $(document).on('click', outerClick);\r\n\r\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n                    $(document).off('click', outerClick);\r\n                });\r\n            }\r\n\r\n            if (config.openClass) {\r\n                bindings = getClassBinding($collapsible, config.openClass);\r\n\r\n                ko.applyBindingsToNode(element, bindings, bindingCtx);\r\n            }\r\n\r\n            if (config.onTarget) {\r\n                $(element).on('click', $collapsible.toggle);\r\n            }\r\n\r\n            if (viewModel && _.isFunction(viewModel.on)) {\r\n                viewModel.on({\r\n                    close:          $collapsible.close,\r\n                    open:           $collapsible.open,\r\n                    toggleOpened:   $collapsible.toggle\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.closeCollapsible = {\r\n\r\n        /**\r\n         * Creates listener for the click event on provided DOM element,\r\n         * which closes associated with it collapsible model.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var name = valueAccessor() || defaults.as,\r\n                $collapsible = bindingCtx[name];\r\n\r\n            if ($collapsible) {\r\n                $(element).on('click', $collapsible.close);\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.openCollapsible = {\r\n\r\n        /**\r\n         * Creates listener for the click event on provided DOM element,\r\n         * which opens associated with it collapsible model.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var name = valueAccessor() || defaults.as,\r\n                $collapsible = bindingCtx[name];\r\n\r\n            if ($collapsible) {\r\n                $(element).on('click', $collapsible.open);\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.toggleCollapsible = {\r\n\r\n        /**\r\n         * Creates listener for the click event on provided DOM element,\r\n         * which toggles associated with it collapsible model.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var name = valueAccessor() || defaults.as,\r\n                $collapsible = bindingCtx[name];\r\n\r\n            if ($collapsible) {\r\n                $(element).on('click', $collapsible.toggle);\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer\r\n        .addAttribute('collapsible')\r\n        .addAttribute('openCollapsible')\r\n        .addAttribute('closeCollapsible')\r\n        .addAttribute('toggleCollapsible');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/color-picker.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    '../template/renderer',\r\n    'spectrum',\r\n    'tinycolor'\r\n], function (ko, $, renderer, spectrum, tinycolor) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Change color picker status to be enabled or disabled\r\n     *\r\n     * @param {HTMLElement} element - Element to apply colorpicker enable/disable status to.\r\n     * @param {Object} viewModel - Object, which represents view model binded to el.\r\n     */\r\n    function changeColorPickerStateBasedOnViewModel(element, viewModel) {\r\n        $(element).spectrum(viewModel.disabled() ? 'disable' : 'enable');\r\n    }\r\n\r\n    ko.bindingHandlers.colorPicker = {\r\n        /**\r\n         * Binding init callback.\r\n         *\r\n         * @param {*} element\r\n         * @param {Function} valueAccessor\r\n         * @param {Function} allBindings\r\n         * @param {Object} viewModel\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel) {\r\n            var config = valueAccessor(),\r\n\r\n                /** change value */\r\n                changeValue = function (value) {\r\n                    if (value == null) {\r\n                        value = '';\r\n                    }\r\n                    config.value(value.toString());\r\n                };\r\n\r\n            config.change = changeValue;\r\n\r\n            config.hide = changeValue;\r\n\r\n            /** show value */\r\n            config.show = function () {\r\n                if (!viewModel.focused()) {\r\n                    viewModel.focused(true);\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            $(element).spectrum(config);\r\n\r\n            changeColorPickerStateBasedOnViewModel(element, viewModel);\r\n        },\r\n\r\n        /**\r\n         * Reads params passed to binding, parses component declarations.\r\n         * Fetches for those found and attaches them to the new context.\r\n         *\r\n         * @param {HTMLElement} element - Element to apply bindings to.\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\r\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\r\n         * @param {Object} viewModel - Object, which represents view model binded to element.\r\n         */\r\n        update: function (element, valueAccessor, allBindings, viewModel) {\r\n            var config = valueAccessor();\r\n\r\n            /** Initialise value as empty if it is undefined when color picker input is reset **/\r\n            if (config.value() === undefined) {\r\n                config.value('');\r\n            }\r\n\r\n            if (tinycolor(config.value()).isValid() || config.value() === '') {\r\n                $(element).spectrum('set', config.value());\r\n\r\n                if (config.value() !== '') {\r\n                    config.value($(element).spectrum('get').toString());\r\n                }\r\n            }\r\n\r\n            changeColorPickerStateBasedOnViewModel(element, viewModel);\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('colorPicker');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/datepicker.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Creates datepicker binding and registers in to ko.bindingHandlers object */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'jquery',\r\n    'mage/translate'\r\n], function (ko, _, $, $t) {\r\n    'use strict';\r\n\r\n    var defaults = {\r\n        dateFormat: 'mm\\/dd\\/yyyy',\r\n        showsTime: false,\r\n        timeFormat: null,\r\n        buttonImage: null,\r\n        buttonImageOnly: null,\r\n        buttonText: $t('Select Date')\r\n    };\r\n\r\n    ko.bindingHandlers.datepicker = {\r\n        /**\r\n         * Initializes calendar widget on element and stores it's value to observable property.\r\n         * Datepicker binding takes either observable property or object\r\n         *  { storage: {ko.observable}, options: {Object} }.\r\n         * For more info about options take a look at \"mage/calendar\" and jquery.ui.datepicker widget.\r\n         * @param {HTMLElement} el - Element, that binding is applied to\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding\r\n         */\r\n        init: function (el, valueAccessor) {\r\n            var config = valueAccessor(),\r\n                observable,\r\n                options = {};\r\n\r\n            _.extend(options, defaults);\r\n\r\n            if (typeof config === 'object') {\r\n                observable = config.storage;\r\n                _.extend(options, config.options);\r\n            } else {\r\n                observable = config;\r\n            }\r\n\r\n            require(['mage/calendar'], function () {\r\n                $(el).calendar(options);\r\n\r\n                ko.utils.registerEventHandler(el, 'change', function () {\r\n                    observable(this.value);\r\n                });\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Update calendar widget on element and stores it's value to observable property.\r\n         * Datepicker binding takes either observable property or object\r\n         *  { storage: {ko.observable}, options: {Object} }.\r\n         * @param {HTMLElement} element - Element, that binding is applied to\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding\r\n         */\r\n        update: function (element, valueAccessor) {\r\n            var config = valueAccessor(),\r\n                $element = $(element),\r\n                observable,\r\n                options = {},\r\n                newVal;\r\n\r\n            _.extend(options, defaults);\r\n\r\n            if (typeof config === 'object') {\r\n                observable = config.storage;\r\n                _.extend(options, config.options);\r\n            } else {\r\n                observable = config;\r\n            }\r\n\r\n            require(['moment', 'mage/utils/misc', 'mage/calendar'], function (moment, utils) {\r\n                if (_.isEmpty(observable())) {\r\n                    newVal = null;\r\n                } else {\r\n                    newVal = moment(\r\n                        observable(),\r\n                        utils.convertToMomentFormat(\r\n                            options.dateFormat + (options.showsTime ? ' ' + options.timeFormat : '')\r\n                        )\r\n                    ).toDate();\r\n                }\r\n\r\n                if (!options.timeOnly) {\r\n                    $element.datepicker('setDate', newVal);\r\n                    $element.trigger('blur');\r\n                }\r\n            });\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/fadeVisible.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'ko'\r\n], function ($, ko) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.fadeVisible = {\r\n        /**\r\n         * Initially set the element to be instantly visible/hidden depending on the value.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n\r\n            // Use \"unwrapObservable\" so we can handle values that may or may not be observable\r\n            $(element).toggle(ko.unwrap(value));\r\n        },\r\n\r\n        /**\r\n         * Whenever the value subsequently changes, slowly fade the element in or out.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        update: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n\r\n            ko.unwrap(value) ? $(element).fadeIn() : $(element).fadeOut();\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/i18n.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'ko',\r\n    'module',\r\n    '../template/renderer',\r\n    'mage/translate'\r\n], function ($, ko, module, renderer) {\r\n    'use strict';\r\n\r\n    var locations = {\r\n            'legend': 'Caption for the fieldset element',\r\n            'label': 'Label for an input element.',\r\n            'button': 'Push button',\r\n            'a': 'Link label',\r\n            'b': 'Bold text',\r\n            'strong': 'Strong emphasized text',\r\n            'i': 'Italic text',\r\n            'em': 'Emphasized text',\r\n            'u': 'Underlined text',\r\n            'sup': 'Superscript text',\r\n            'sub': 'Subscript text',\r\n            'span': 'Span element',\r\n            'small': 'Smaller text',\r\n            'big': 'Bigger text',\r\n            'address': 'Contact information',\r\n            'blockquote': 'Long quotation',\r\n            'q': 'Short quotation',\r\n            'cite': 'Citation',\r\n            'caption': 'Table caption',\r\n            'abbr': 'Abbreviated phrase',\r\n            'acronym': 'An acronym',\r\n            'var': 'Variable part of a text',\r\n            'dfn': 'Term',\r\n            'strike': 'Strikethrough text',\r\n            'del': 'Deleted text',\r\n            'ins': 'Inserted text',\r\n            'h1': 'Heading level 1',\r\n            'h2': 'Heading level 2',\r\n            'h3': 'Heading level 3',\r\n            'h4': 'Heading level 4',\r\n            'h5': 'Heading level 5',\r\n            'h6': 'Heading level 6',\r\n            'center': 'Centered text',\r\n            'select': 'List options',\r\n            'img': 'Image',\r\n            'input': 'Form element'\r\n        },\r\n\r\n        /**\r\n         * Generates [data-translate] attribute's value\r\n         * @param {Object} translationData\r\n         * @param {String} location\r\n         */\r\n        composeTranslateAttr = function (translationData, location) {\r\n            var obj = [{\r\n                'shown': translationData.shown,\r\n                'translated': translationData.translated,\r\n                'original': translationData.original,\r\n                'location': locations[location] || 'Text'\r\n            }];\r\n\r\n            return JSON.stringify(obj);\r\n        },\r\n\r\n        /**\r\n         * Sets text for the element\r\n         * @param {Object} el\r\n         * @param {String} text\r\n         */\r\n        setText = function (el, text) {\r\n            $(el).text(text);\r\n        },\r\n\r\n        /**\r\n         * Sets [data-translate] attribute for the element\r\n         * @param {Object} el - The element which is binded\r\n         * @param {String} original - The original value of the element\r\n         */\r\n        setTranslateProp = function (el, original) {\r\n            var location = $(el).prop('tagName').toLowerCase(),\r\n                translated = $.mage.__(original),\r\n                translationData = {\r\n                    shown: translated,\r\n                    translated: translated,\r\n                    original: original\r\n                },\r\n                translateAttr = composeTranslateAttr(translationData, location);\r\n\r\n            $(el).attr('data-translate', translateAttr);\r\n\r\n            setText(el, translationData.shown);\r\n        },\r\n\r\n        /**\r\n         * Checks if node represents ko virtual node (nodeType === 8, nodeName === '#comment').\r\n         *\r\n         * @param {HTMLElement} node\r\n         * @returns {Boolean}\r\n         */\r\n        isVirtualElement = function (node) {\r\n            return node.nodeType === 8;\r\n        },\r\n\r\n        /**\r\n        * Checks if it's real DOM element\r\n        * in case of virtual element, returns span wrapper\r\n        * @param {Object} el\r\n        * @param {bool} isUpdate\r\n        * @return {Object} el\r\n        */\r\n        getRealElement = function (el, isUpdate) {\r\n            if (isVirtualElement(el)) {\r\n                if (isUpdate) {\r\n                    return $(el).next('span');\r\n                }\r\n\r\n                return $('<span></span>').insertAfter(el);\r\n            }\r\n\r\n            return el;\r\n        },\r\n\r\n        /**\r\n         * execute i18n binding\r\n         * @param {Object} element\r\n         * @param {Function} valueAccessor\r\n         * @param {bool} isUpdate\r\n         */\r\n        execute = function (element, valueAccessor, isUpdate) {\r\n            var original = ko.unwrap(valueAccessor() || ''),\r\n                el = getRealElement(element, isUpdate),\r\n                inlineTranslation = (module.config() || {}).inlineTranslation;\r\n\r\n            if (inlineTranslation) {\r\n                setTranslateProp(el, original);\r\n            } else {\r\n                setText(el, $.mage.__(original));\r\n            }\r\n        };\r\n\r\n    /**\r\n     * i18n binding\r\n     * @property {Function}  init\r\n     * @property {Function}  update\r\n     */\r\n    ko.bindingHandlers.i18n = {\r\n\r\n        /**\r\n         * init i18n binding\r\n         * @param {Object} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            execute(element, valueAccessor);\r\n        },\r\n\r\n        /**\r\n         * update i18n binding\r\n         * @param {Object} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        update: function (element, valueAccessor) {\r\n            execute(element, valueAccessor, true);\r\n        }\r\n    };\r\n\r\n    ko.virtualElements.allowedBindings.i18n = true;\r\n\r\n    renderer\r\n        .addNode('translate', {\r\n            binding: 'i18n'\r\n        })\r\n        .addAttribute('translate', {\r\n            binding: 'i18n'\r\n        });\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/keyboard.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.keyboard = {\r\n\r\n        /**\r\n         * Attaches keypress handlers to element\r\n         * @param {HTMLElement} el - Element, that binding is applied to\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding\r\n         * @param  {Object} allBindings - all bindings object\r\n         * @param  {Object} viewModel - reference to viewmodel\r\n         */\r\n        init: function (el, valueAccessor, allBindings, viewModel) {\r\n            var map = valueAccessor();\r\n\r\n            ko.utils.registerEventHandler(el, 'keyup', function (e) {\r\n                var callback = map[e.keyCode];\r\n\r\n                if (callback) {\r\n                    return callback.call(viewModel, e);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('keyboard');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/mage-init.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mage/apply/main'\r\n], function (ko, _, mage) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.mageInit = {\r\n        /**\r\n         * Initializes components assigned to HTML elements.\r\n         *\r\n         * @param {HTMLElement} el\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (el, valueAccessor) {\r\n            var data = valueAccessor();\r\n\r\n            _.each(data, function (config, component) {\r\n                mage.applyFor(el, config, component);\r\n            });\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/optgroup.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'mageUtils'\r\n    ], function (ko, utils) {\r\n    'use strict';\r\n\r\n    var captionPlaceholder = {},\r\n        optgroupTmpl = '<optgroup label=\"${ $.label }\"></optgroup>',\r\n        nbspRe = /&nbsp;/g,\r\n        optionsText,\r\n        optionsValue,\r\n        optionTitle;\r\n\r\n    ko.bindingHandlers.optgroup = {\r\n        /**\r\n         * @param {*} element\r\n         */\r\n        init: function (element) {\r\n            if (ko.utils.tagNameLower(element) !== 'select') {\r\n                throw new Error('options binding applies only to SELECT elements');\r\n            }\r\n\r\n            // Remove all existing <option>s.\r\n            while (element.length > 0) {\r\n                element.remove(0);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} element\r\n         * @param {*} valueAccessor\r\n         * @param {*} allBindings\r\n         */\r\n        update: function (element, valueAccessor, allBindings) {\r\n            var selectWasPreviouslyEmpty = element.length === 0,\r\n                previousScrollTop = !selectWasPreviouslyEmpty && element.multiple ? element.scrollTop : null,\r\n                includeDestroyed = allBindings.get('optionsIncludeDestroyed'),\r\n                arrayToDomNodeChildrenOptions = {},\r\n                captionValue,\r\n                unwrappedArray = ko.utils.unwrapObservable(valueAccessor()),\r\n                filteredArray,\r\n                previousSelectedValues,\r\n                itemUpdate = false,\r\n                callback = setSelectionCallback,//eslint-disable-line no-use-before-define\r\n                nestedOptionsLevel = -1;\r\n\r\n            optionsText = ko.utils.unwrapObservable(allBindings.get('optionsText')) || 'text';\r\n            optionsValue = ko.utils.unwrapObservable(allBindings.get('optionsValue')) || 'value';\r\n            optionTitle = optionsText + 'title';\r\n\r\n            if (element.multiple) {\r\n                previousSelectedValues = ko.utils.arrayMap(\r\n                    selectedOptions(),//eslint-disable-line no-use-before-define\r\n                    ko.selectExtensions.readValue\r\n                );\r\n            } else {\r\n                previousSelectedValues = element.selectedIndex >= 0 ?\r\n                    [ko.selectExtensions.readValue(element.options[element.selectedIndex])] :\r\n                    [];\r\n            }\r\n\r\n            if (unwrappedArray) {\r\n                if (typeof unwrappedArray.length === 'undefined') { // Coerce single value into array\r\n                    unwrappedArray = [unwrappedArray];\r\n                }\r\n\r\n                // Filter out any entries marked as destroyed\r\n                filteredArray = ko.utils.arrayFilter(unwrappedArray, function (item) {\r\n                    if (item && !item.label) {\r\n                        return false;\r\n                    }\r\n\r\n                    return includeDestroyed ||\r\n                        item === undefined ||\r\n                        item === null ||\r\n                        !ko.utils.unwrapObservable(item._destroy);\r\n                });\r\n                filteredArray.map(recursivePathBuilder, null);//eslint-disable-line no-use-before-define\r\n            }\r\n\r\n            /**\r\n             * @param {*} option\r\n             */\r\n            arrayToDomNodeChildrenOptions.beforeRemove = function (option) {\r\n                element.removeChild(option);\r\n            };\r\n\r\n            if (allBindings.has('optionsAfterRender')) {\r\n\r\n                /**\r\n                 * @param {*} arrayEntry\r\n                 * @param {*} newOptions\r\n                 */\r\n                callback = function (arrayEntry, newOptions) {\r\n                    setSelectionCallback(arrayEntry, newOptions);//eslint-disable-line no-use-before-define\r\n                    ko.dependencyDetection.ignore(\r\n                        allBindings.get('optionsAfterRender'),\r\n                        null,\r\n                        [newOptions[0],\r\n                        arrayEntry !== captionPlaceholder ? arrayEntry : undefined]\r\n                    );\r\n                };\r\n            }\r\n\r\n            filteredArray = formatOptions(filteredArray);//eslint-disable-line no-use-before-define\r\n            ko.utils.setDomNodeChildrenFromArrayMapping(\r\n                element,\r\n                filteredArray,\r\n                optionNodeFromArray,//eslint-disable-line no-use-before-define\r\n                arrayToDomNodeChildrenOptions,\r\n                callback\r\n            );\r\n\r\n            ko.dependencyDetection.ignore(function () {\r\n                var selectionChanged;\r\n\r\n                if (allBindings.get('valueAllowUnset') && allBindings.has('value')) {\r\n                    // The model value is authoritative, so make sure its value is the one selected\r\n                    ko.selectExtensions.writeValue(\r\n                        element,\r\n                        ko.utils.unwrapObservable(allBindings.get('value')),\r\n                        true /* allowUnset */\r\n                    );\r\n                } else {\r\n                    // Determine if the selection has changed as a result of updating the options list\r\n                    if (element.multiple) {\r\n                        // For a multiple-select box, compare the new selection count to the previous one\r\n                        // But if nothing was selected before, the selection can't have changed\r\n                        selectionChanged = previousSelectedValues.length &&\r\n                            selectedOptions().length < //eslint-disable-line no-use-before-define\r\n                            previousSelectedValues.length;\r\n                    } else {\r\n                        // For a single-select box, compare the current value to the previous value\r\n                        // But if nothing was selected before or nothing is selected now,\r\n                        // just look for a change in selection\r\n                        selectionChanged = previousSelectedValues.length && element.selectedIndex >= 0 ?\r\n                            ko.selectExtensions.readValue(element.options[element.selectedIndex]) !==\r\n                            previousSelectedValues[0] : previousSelectedValues.length || element.selectedIndex >= 0;\r\n                    }\r\n\r\n                    // Ensure consistency between model value and selected option.\r\n                    // If the dropdown was changed so that selection is no longer the same,\r\n                    // notify the value or selectedOptions binding.\r\n                    if (selectionChanged) {\r\n                        ko.utils.triggerEvent(element, 'change');\r\n                    }\r\n                }\r\n            });\r\n\r\n            /*eslint-enable max-len, no-use-before-define*/\r\n\r\n            if (previousScrollTop && Math.abs(previousScrollTop - element.scrollTop) > 20) {\r\n                element.scrollTop = previousScrollTop;\r\n            }\r\n\r\n            /**\r\n             * @returns {*}\r\n             */\r\n            function selectedOptions() {\r\n                return ko.utils.arrayFilter(element.options, function (node) {\r\n                    return node.selected;\r\n                });\r\n            }\r\n\r\n            /**\r\n             * @param {*} object\r\n             * @param {*} predicate\r\n             * @param {*} defaultValue\r\n             * @returns {*}\r\n             */\r\n            function applyToObject(object, predicate, defaultValue) {\r\n                var predicateType = typeof predicate;\r\n\r\n                if (predicateType === 'function') {   // run it against the data value\r\n                    return predicate(object);\r\n                } else if (predicateType === 'string') { // treat it as a property name on the data value\r\n                    return object[predicate];\r\n                }\r\n\r\n                return defaultValue;\r\n            }\r\n\r\n            /**\r\n             * @param {*} obj\r\n             */\r\n            function recursivePathBuilder(obj) {\r\n\r\n                obj[optionTitle] = (this && this[optionTitle] ? this[optionTitle] + '/' : '') + obj[optionsText].trim();\r\n\r\n                if (Array.isArray(obj[optionsValue])) {\r\n                    obj[optionsValue].map(recursivePathBuilder, obj);\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @param {Array} arrayEntry\r\n             * @param {*} oldOptions\r\n             * @returns {*[]}\r\n             */\r\n            function optionNodeFromArray(arrayEntry, oldOptions) {\r\n                var option;\r\n\r\n                if (oldOptions.length) {\r\n                    previousSelectedValues = oldOptions[0].selected ?\r\n                        [ko.selectExtensions.readValue(oldOptions[0])] : [];\r\n                    itemUpdate = true;\r\n                }\r\n\r\n                if (arrayEntry === captionPlaceholder) { // empty value, label === caption\r\n                    option = element.ownerDocument.createElement('option');\r\n                    ko.utils.setTextContent(option, allBindings.get('optionsCaption'));\r\n                    ko.selectExtensions.writeValue(option, undefined);\r\n                } else if (typeof arrayEntry[optionsValue] === 'undefined') { // empty value === optgroup\r\n                    if (arrayEntry.__disableTmpl) {\r\n                        option = '<optgroup label=\"' + arrayEntry[optionsText] + '\"></optgroup>';\r\n                    } else {\r\n                        option = utils.template(optgroupTmpl, {\r\n                            label: arrayEntry[optionsText],\r\n                            title: arrayEntry[optionsText + 'title']\r\n                        });\r\n                    }\r\n                    option = ko.utils.parseHtmlFragment(option)[0];\r\n\r\n                } else {\r\n                    option = element.ownerDocument.createElement('option');\r\n                    option.setAttribute('data-title', arrayEntry[optionsText + 'title']);\r\n                    ko.selectExtensions.writeValue(option, arrayEntry[optionsValue]);\r\n                    ko.utils.setTextContent(option, arrayEntry[optionsText]);\r\n                }\r\n\r\n                return [option];\r\n            }\r\n\r\n            /**\r\n             * @param {*} newOptions\r\n             */\r\n            function setSelectionCallback(newOptions) {\r\n                var isSelected;\r\n\r\n                // IE6 doesn't like us to assign selection to OPTION nodes before they're added to the document.\r\n                // That's why we first added them without selection. Now it's time to set the selection.\r\n                if (previousSelectedValues.length && newOptions.value) {\r\n                    isSelected = ko.utils.arrayIndexOf(\r\n                        previousSelectedValues,\r\n                        ko.selectExtensions.readValue(newOptions.value)\r\n                    ) >= 0;\r\n\r\n                    ko.utils.setOptionNodeSelectionState(newOptions.value, isSelected);\r\n\r\n                    // If this option was changed from being selected during a single-item update, notify the change\r\n                    if (itemUpdate && !isSelected) {\r\n                        ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, 'change']);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @param {*} string\r\n             * @param {Number} times\r\n             * @returns {Array}\r\n             */\r\n            function strPad(string, times) {\r\n                return (new Array(times + 1)).join(string);\r\n            }\r\n\r\n            /**\r\n             * @param {*} options\r\n             * @returns {Array}\r\n             */\r\n            function formatOptions(options) {\r\n                var res = [];\r\n\r\n                nestedOptionsLevel++;\r\n\r\n                if (!nestedOptionsLevel) { // zero level\r\n                    // If caption is included, add it to the array\r\n                    if (allBindings.has('optionsCaption')) {\r\n                        captionValue = ko.utils.unwrapObservable(allBindings.get('optionsCaption'));\r\n                        // If caption value is null or undefined, don't show a caption\r\n                        if (//eslint-disable-line max-depth\r\n                            captionValue !== null &&\r\n                            captionValue !== undefined &&\r\n                            captionValue !== false\r\n                        ) {\r\n                            res.push(captionPlaceholder);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                ko.utils.arrayForEach(options, function (option) {\r\n                    var value = applyToObject(option, optionsValue, option),\r\n                        label = applyToObject(option, optionsText, value) || '',\r\n                        disabled = applyToObject(option, 'disabled', false) || false,\r\n                        obj = {},\r\n                        space = '\\u2007\\u2007\\u2007';\r\n\r\n                    obj[optionTitle] = applyToObject(option, optionsText + 'title', value);\r\n\r\n                    if (disabled) {\r\n                        obj.disabled = disabled;\r\n                    }\r\n\r\n                    if (option.hasOwnProperty('__disableTmpl')) {\r\n                        obj.__disableTmpl = option.__disableTmpl;\r\n                    }\r\n\r\n                    label = label.replace(nbspRe, '').trim();\r\n\r\n                    if (Array.isArray(value)) {\r\n                        obj[optionsText] = strPad('&nbsp;', nestedOptionsLevel * 4) + label;\r\n                        res.push(obj);\r\n                        res = res.concat(formatOptions(value));\r\n                    } else {\r\n                        obj[optionsText] = strPad(space, nestedOptionsLevel * 2) + label;\r\n                        obj[optionsValue] = value;\r\n                        res.push(obj);\r\n                    }\r\n                });\r\n                nestedOptionsLevel--;\r\n\r\n                return res;\r\n            }\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/outer_click.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Creates outerClick binding and registers in to ko.bindingHandlers object */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    '../template/renderer'\r\n], function (ko, $, _, renderer) {\r\n    'use strict';\r\n\r\n    var defaults = {\r\n        onlyIfVisible: true\r\n    };\r\n\r\n    /**\r\n     * Checks if element sis visible.\r\n     *\r\n     * @param {Element} el\r\n     * @returns {Boolean}\r\n     */\r\n    function isVisible(el) {\r\n        var style = window.getComputedStyle(el),\r\n            visibility = {\r\n                display: 'none',\r\n                visibility: 'hidden',\r\n                opacity: '0'\r\n            },\r\n            visible = true;\r\n\r\n        _.each(visibility, function (val, key) {\r\n            if (style[key] === val) {\r\n                visible = false;\r\n            }\r\n        });\r\n\r\n        return visible;\r\n    }\r\n\r\n    /**\r\n     * Document click handler which in case if event target is not\r\n     * a descendant of provided container element,\r\n     * invokes specified in configuration callback.\r\n     *\r\n     * @param {HTMLElement} container\r\n     * @param {Object} config\r\n     * @param {EventObject} e\r\n     */\r\n    function onOuterClick(container, config, e) {\r\n        var target = e.target,\r\n            callback = config.callback;\r\n\r\n        if (container === target || container.contains(target)) {\r\n            return;\r\n        }\r\n\r\n        if (config.onlyIfVisible) {\r\n            if (!_.isNull(container.offsetParent) && isVisible(container)) {\r\n                callback();\r\n            }\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Prepares configuration for the binding based\r\n     * on a default properties and provided options.\r\n     *\r\n     * @param {(Object|Function)} [options={}]\r\n     * @returns {Object}\r\n     */\r\n    function buildConfig(options) {\r\n        var config = {};\r\n\r\n        if (_.isFunction(options)) {\r\n            options = {\r\n                callback: options\r\n            };\r\n        } else if (!_.isObject(options)) {\r\n            options = {};\r\n        }\r\n\r\n        return _.extend(config, defaults, options);\r\n    }\r\n\r\n    ko.bindingHandlers.outerClick = {\r\n\r\n        /**\r\n         * Initializes outer click binding.\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var config = buildConfig(valueAccessor()),\r\n                outerClick = onOuterClick.bind(null, element, config),\r\n                isTouchDevice = typeof document.ontouchstart !== 'undefined';\r\n\r\n            if (isTouchDevice) {\r\n                $(document).on('touchstart', outerClick);\r\n\r\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n                    $(document).off('touchstart', outerClick);\r\n                });\r\n            } else {\r\n                $(document).on('click', outerClick);\r\n\r\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n                    $(document).off('click', outerClick);\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('outerClick');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/range.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    '../template/renderer'\r\n], function (ko, $, _, renderer) {\r\n    'use strict';\r\n\r\n    var isTouchDevice = !_.isUndefined(document.ontouchstart),\r\n        sliderFn = 'slider',\r\n        sliderModule = 'jquery-ui-modules/slider';\r\n\r\n    if (isTouchDevice) {\r\n        sliderFn = 'touchSlider';\r\n        sliderModule = 'mage/touch-slider';\r\n    }\r\n\r\n    ko.bindingHandlers.range = {\r\n\r\n        /**\r\n         * Initializes binding and a slider update.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var config  = valueAccessor(),\r\n                value   = config.value;\r\n\r\n            _.extend(config, {\r\n                value: value(),\r\n\r\n                /**\r\n                 * Callback which is being called when sliders' value changes.\r\n                 *\r\n                 * @param {Event} event\r\n                 * @param {Object} ui\r\n                 */\r\n                slide: function (event, ui) {\r\n                    value(ui.value);\r\n                }\r\n            });\r\n\r\n            require([sliderModule], function () {\r\n                $(element)[sliderFn](config);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Updates sliders' plugin configuration.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        update: function (element, valueAccessor) {\r\n            var config = valueAccessor();\r\n\r\n            config.value = ko.unwrap(config.value);\r\n\r\n            require([sliderModule], function () {\r\n                $(element)[sliderFn]('option', config);\r\n            });\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('range');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/resizable.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'uiRegistry',\r\n    'underscore',\r\n    '../template/renderer'\r\n], function (ko, $, async, registry, _, renderer) {\r\n    'use strict';\r\n\r\n    var sizeOptions = [\r\n            'minHeight',\r\n            'maxHeight',\r\n            'minWidth',\r\n            'maxWidth'\r\n        ],\r\n\r\n        handles = {\r\n            height: '.ui-resizable-s, .ui-resizable-n',\r\n            width: '.ui-resizable-w, .ui-resizable-e'\r\n        };\r\n\r\n    /**\r\n     * Recalcs visibility of handles, width and height of resizable based on content\r\n     * @param {HTMLElement} element\r\n     */\r\n    function adjustSize(element) {\r\n        var maxHeight,\r\n            maxWidth;\r\n\r\n        element = $(element);\r\n        maxHeight = element.resizable('option').maxHeight;\r\n        maxWidth = element.resizable('option').maxWidth;\r\n\r\n        if (maxHeight && element.height() > maxHeight) {\r\n            element.height(maxHeight + 1);\r\n            $(handles.height).hide();\r\n        } else {\r\n            $(handles.height).show();\r\n        }\r\n\r\n        if (maxWidth && element.width() > maxWidth) {\r\n            element.width(maxWidth + 1);\r\n            $(handles.width).hide();\r\n        } else {\r\n            $(handles.width).show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Recalcs allowed min, max width and height based on configured selectors\r\n     * @param {Object} sizeConstraints\r\n     * @param {String} componentName\r\n     * @param {HTMLElement} element\r\n     * @param {Boolean} hasWidthUpdate\r\n     */\r\n    function recalcAllowedSize(sizeConstraints, componentName, element, hasWidthUpdate) {\r\n        var size;\r\n\r\n        element = $(element);\r\n\r\n        if (!element.data('resizable')) {\r\n            return;\r\n        }\r\n\r\n        if (!hasWidthUpdate) {\r\n            element.css('width', 'auto');\r\n        }\r\n\r\n        _.each(sizeConstraints, function (selector, key) {\r\n            async.async({\r\n                component: componentName,\r\n                selector: selector\r\n            }, function (elem) {\r\n                size = key.indexOf('Height') !== -1 ? $(elem).outerHeight(true) : $(elem).outerWidth(true);\r\n\r\n                if (element.data('resizable')) {\r\n                    element.resizable('option', key, size + 1);\r\n                }\r\n            });\r\n        }, this);\r\n\r\n        adjustSize(element);\r\n    }\r\n\r\n    /**\r\n     * Preprocess config to separate options,\r\n     * which must be processed further before applying\r\n     *\r\n     * @param {Object} config\r\n     * @param {Object} viewModel\r\n     * @param {*} element\r\n     * @return {Object} config\r\n     */\r\n    function processConfig(config, viewModel, element) {\r\n        var sizeConstraint,\r\n            sizeConstraints = {},\r\n            recalc,\r\n            hasWidthUpdate;\r\n\r\n        if (_.isEmpty(config)) {\r\n            return {};\r\n        }\r\n        _.each(sizeOptions, function (key) {\r\n            sizeConstraint = config[key];\r\n\r\n            if (sizeConstraint && !_.isNumber(sizeConstraint)) {\r\n                sizeConstraints[key] = sizeConstraint;\r\n                delete config[key];\r\n            }\r\n        });\r\n        hasWidthUpdate =  _.some(sizeConstraints, function (value, key) {\r\n            return key.indexOf('Width') !== -1;\r\n        });\r\n\r\n        recalc = recalcAllowedSize.bind(null, sizeConstraints, viewModel.name, element, hasWidthUpdate);\r\n        config.start = recalc;\r\n        $(window).on('resize.resizable', recalc);\r\n        registry.get(viewModel.provider).on('reloaded', recalc);\r\n\r\n        return config;\r\n    }\r\n\r\n    ko.bindingHandlers.resizable = {\r\n\r\n        /**\r\n         * Binding init callback.\r\n         *\r\n         * @param {*} element\r\n         * @param {Function} valueAccessor\r\n         * @param {Function} allBindings\r\n         * @param {Object} viewModel\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel) {\r\n            var config = processConfig(valueAccessor(), viewModel, element);\r\n\r\n            require(['jquery-ui-modules/resizable'], function () {\r\n                if ($.fn.resizable) {\r\n                    $(element).resizable(config);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('resizable');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/scope.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Creates scope binding and registers in to ko.bindingHandlers object */\r\ndefine([\r\n    'ko',\r\n    'uiRegistry',\r\n    'mage/translate',\r\n    '../template/renderer',\r\n    'jquery',\r\n    '../../logger/console-logger'\r\n], function (ko, registry, $t, renderer, $, consoleLogger) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Creates child context with passed component param as $data. Extends context with $t helper.\r\n     * Applies bindings to descendant nodes.\r\n     * @param {HTMLElement} el - element to apply bindings to.\r\n     * @param {ko.bindingContext} bindingContext - instance of ko.bindingContext, passed to binding initially.\r\n     * @param {Promise} promise - instance of jQuery promise\r\n     * @param {Object} component - component instance to attach to new context\r\n     */\r\n    function applyComponents(el, bindingContext, promise, component) {\r\n        promise.resolve();\r\n        component = bindingContext.createChildContext(component);\r\n\r\n        ko.utils.extend(component, {\r\n            $t: $t\r\n        });\r\n\r\n        ko.utils.arrayForEach(ko.virtualElements.childNodes(el), ko.cleanNode);\r\n\r\n        ko.applyBindingsToDescendants(component, el);\r\n    }\r\n\r\n    ko.bindingHandlers.scope = {\r\n\r\n        /**\r\n         * Scope binding's init method.\r\n         * @returns {Object} - Knockout declaration for it to let binding control descendants.\r\n         */\r\n        init: function () {\r\n            return {\r\n                controlsDescendantBindings: true\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Reads params passed to binding, parses component declarations.\r\n         * Fetches for those found and attaches them to the new context.\r\n         * @param {HTMLElement} el - Element to apply bindings to.\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\r\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\r\n         * @param {Object} viewModel - Object, which represents view model binded to el.\r\n         * @param {ko.bindingContext} bindingContext - Instance of ko.bindingContext, passed to binding initially.\r\n         */\r\n        update: function (el, valueAccessor, allBindings, viewModel, bindingContext) {\r\n            var component = valueAccessor(),\r\n                promise = $.Deferred(),\r\n                apply = applyComponents.bind(this, el, bindingContext, promise),\r\n                loggerUtils = consoleLogger.utils;\r\n\r\n            if (typeof component === 'string') {\r\n                loggerUtils.asyncLog(\r\n                    promise,\r\n                    {\r\n                        data: {\r\n                            component: component\r\n                        },\r\n                        messages: loggerUtils.createMessages(\r\n                            'requestingComponent',\r\n                            'requestingComponentIsLoaded',\r\n                            'requestingComponentIsFailed'\r\n                        )\r\n                    }\r\n                );\r\n\r\n                registry.get(component, apply);\r\n            } else if (typeof component === 'function') {\r\n                component(apply);\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.virtualElements.allowedBindings.scope = true;\r\n\r\n    renderer\r\n        .addNode('scope')\r\n        .addAttribute('scope', {\r\n            name: 'ko-scope'\r\n        });\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/simple-checked.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.simpleChecked = {\r\n        'after': ['attr'],\r\n\r\n        /**\r\n         * Implements same functionality as a standard 'simpleChecked' binding,\r\n         * but with a difference that it wont' change values array if\r\n         * value of DOM element changes.\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var isCheckbox = element.type === 'checkbox',\r\n                isRadio = element.type === 'radio',\r\n                updateView,\r\n                updateModel;\r\n\r\n            if (!isCheckbox && !isRadio) {\r\n                return;\r\n            }\r\n\r\n            /**\r\n             * Updates checked observable\r\n             */\r\n            updateModel = function () {\r\n                var  modelValue = ko.dependencyDetection.ignore(valueAccessor),\r\n                    isChecked = element.checked;\r\n\r\n                if (ko.computedContext.isInitial()) {\r\n                    return;\r\n                }\r\n\r\n                if (modelValue.peek() === isChecked) {\r\n                    return;\r\n                }\r\n\r\n                if (isRadio && !isChecked) {\r\n                    return;\r\n                }\r\n\r\n                modelValue(isChecked);\r\n            };\r\n\r\n            /**\r\n             * Updates checkbox state\r\n             */\r\n            updateView = function () {\r\n                var modelValue = ko.utils.unwrapObservable(valueAccessor());\r\n\r\n                element.checked = !!modelValue;\r\n            };\r\n\r\n            ko.utils.registerEventHandler(element, 'change', updateModel);\r\n\r\n            ko.computed(updateModel, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n            ko.computed(updateView, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n        }\r\n    };\r\n\r\n    ko.expressionRewriting._twoWayBindings.simpleChecked = true;\r\n\r\n    renderer.addAttribute('simpleChecked');\r\n    renderer.addAttribute('simple-checked', {\r\n        binding: 'simpleChecked'\r\n    });\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/staticChecked.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.staticChecked = {\r\n        'after': ['value', 'attr'],\r\n\r\n        /**\r\n         * Implements same functionality as a standard 'checked' binding,\r\n         * but with a difference that it wont' change values array if\r\n         * value of DOM element changes.\r\n         */\r\n        init: function (element, valueAccessor, allBindings) {\r\n            var isCheckbox = element.type === 'checkbox',\r\n                isRadio = element.type === 'radio',\r\n                isValueArray,\r\n                oldElemValue,\r\n                useCheckedValue,\r\n                checkedValue,\r\n                updateModel,\r\n                updateView;\r\n\r\n            if (!isCheckbox && !isRadio) {\r\n                return;\r\n            }\r\n\r\n            checkedValue = ko.pureComputed(function () {\r\n                if (allBindings.has('checkedValue')) {\r\n                    return ko.utils.unwrapObservable(allBindings.get('checkedValue'));\r\n                } else if (allBindings.has('value')) {\r\n                    return ko.utils.unwrapObservable(allBindings.get('value'));\r\n                }\r\n\r\n                return element.value;\r\n            });\r\n\r\n            isValueArray = isCheckbox && ko.utils.unwrapObservable(valueAccessor()) instanceof Array;\r\n            oldElemValue = isValueArray ? checkedValue() : undefined;\r\n            useCheckedValue = isRadio || isValueArray;\r\n\r\n            /**\r\n             * Updates values array if it's necessary.\r\n             */\r\n            updateModel = function () {\r\n                var isChecked = element.checked,\r\n                    elemValue = useCheckedValue ? checkedValue() : isChecked,\r\n                    modelValue;\r\n\r\n                if (ko.computedContext.isInitial()) {\r\n                    return;\r\n                }\r\n\r\n                if (isRadio && !isChecked) {\r\n                    return;\r\n                }\r\n\r\n                modelValue = ko.dependencyDetection.ignore(valueAccessor);\r\n\r\n                if (isValueArray) {\r\n                    if (oldElemValue !== elemValue) {\r\n                        oldElemValue = elemValue;\r\n                    } else {\r\n                        ko.utils.addOrRemoveItem(modelValue, elemValue, isChecked);\r\n                    }\r\n                } else {\r\n                    ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'checked', elemValue, true);\r\n                }\r\n            };\r\n\r\n            /**\r\n             * Updates checkbox state.\r\n             */\r\n            updateView = function () {\r\n                var modelValue = ko.utils.unwrapObservable(valueAccessor());\r\n\r\n                if (isValueArray) {\r\n                    element.checked = ko.utils.arrayIndexOf(modelValue, checkedValue()) >= 0;\r\n                } else if (isCheckbox) {\r\n                    element.checked = modelValue;\r\n                } else {\r\n                    element.checked = checkedValue() === modelValue;\r\n                }\r\n            };\r\n\r\n            ko.computed(updateModel, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n\r\n            ko.utils.registerEventHandler(element, 'click', updateModel);\r\n\r\n            ko.computed(updateView, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n        }\r\n    };\r\n\r\n    ko.expressionRewriting._twoWayBindings.staticChecked = true;\r\n\r\n    renderer.addAttribute('staticChecked');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/tooltip.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'ko',\r\n    'underscore',\r\n    'mage/template',\r\n    'text!ui/template/tooltip/tooltip.html',\r\n    '../template/renderer'\r\n], function ($, ko, _, template, tooltipTmpl, renderer) {\r\n    'use strict';\r\n\r\n    var tooltip,\r\n        defaults,\r\n        positions,\r\n        transformProp,\r\n        checkedPositions = {},\r\n        iterator = 0,\r\n        previousTooltip,\r\n        tooltipData,\r\n        positionData = {},\r\n        tooltipsCollection = {},\r\n        isTouchDevice = (function () {\r\n            return 'ontouchstart' in document.documentElement;\r\n        })(),\r\n        CLICK_EVENT = (function () {\r\n            return isTouchDevice ? 'touchstart' : 'click';\r\n        })();\r\n\r\n    defaults = {\r\n        tooltipWrapper: '[data-tooltip=tooltip-wrapper]',\r\n        tooltipContentBlock: 'data-tooltip-content',\r\n        closeButtonClass: 'action-close',\r\n        tailClass: 'data-tooltip-tail',\r\n        action: 'hover',\r\n        delay: 300,\r\n        track: false,\r\n        step: 20,\r\n        position: 'top',\r\n        closeButton: false,\r\n        showed: false,\r\n        strict: true,\r\n        center: false,\r\n        closeOnScroll: true\r\n    };\r\n\r\n    tooltipData = {\r\n        tooltipClasses: '',\r\n        trigger: false,\r\n        timeout: 0,\r\n        element: false,\r\n        event: false,\r\n        targetElement: {},\r\n        showed: false,\r\n        currentID: 0\r\n    };\r\n\r\n    /**\r\n     * Polyfill for css transform\r\n     */\r\n    transformProp = (function () {\r\n        var style = document.createElement('div').style,\r\n            base = 'Transform',\r\n            vendors = ['webkit', 'moz', 'ms', 'o'],\r\n            vi = vendors.length,\r\n            property;\r\n\r\n        if (typeof style.transform !== 'undefined') {\r\n            return 'transform';\r\n        }\r\n\r\n        while (vi--) {\r\n            property = vendors[vi] + base;\r\n\r\n            if (typeof style[property] !== 'undefined') {\r\n                return property;\r\n            }\r\n        }\r\n    })();\r\n\r\n    positions = {\r\n\r\n        /*eslint max-depth: [0, 0]*/\r\n\r\n        map: {\r\n            horizontal: {\r\n                s: 'w',\r\n                p: 'left'\r\n            },\r\n            vertical: {\r\n                s: 'h',\r\n                p: 'top'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        top: function (s) {\r\n            return positions._topLeftChecker(s, positions.map, 'vertical', '_bottom', 'top', 'right');\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        left: function (s) {\r\n            return positions._topLeftChecker(s, positions.map, 'horizontal', '_right', 'left', 'top');\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        bottom: function (s) {\r\n            return positions._bottomRightChecker(s, positions.map, 'vertical', '_top', 'bottom', 'left');\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        right: function (s) {\r\n            return positions._bottomRightChecker(s, positions.map, 'horizontal', '_left', 'right', 'bottom');\r\n        },\r\n\r\n        /**\r\n         * Check can tooltip setted on current position or not. If can't setted - delegate call.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {String} className - class whats should be setted to tooltip\r\n         * @param {String} side - parent method name\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _topLeftChecker: function (s, map, direction, className, side, delegate) {\r\n            var result = {\r\n                    position: {}\r\n                },\r\n                config = tooltip.getTooltip(tooltipData.currentID),\r\n                startPosition = !config.strict ? s.eventPosition : s.elementPosition,\r\n                changedDirection;\r\n\r\n            checkedPositions[side] = true;\r\n\r\n            if (\r\n                startPosition[map[direction].p] - s.tooltipSize[map[direction].s] - config.step >\r\n                s.scrollPosition[map[direction].p]\r\n            ) {\r\n                result.position[map[direction].p] = startPosition[map[direction].p] - s.tooltipSize[map[direction].s] -\r\n                    config.step;\r\n                result.className = className;\r\n                result.side = side;\r\n                changedDirection = direction === 'vertical' ? 'horizontal' : 'vertical';\r\n                result = positions._normalize(s, result, config, delegate, map, changedDirection);\r\n            } else if (!checkedPositions[delegate]) {\r\n                result = positions[delegate].apply(null, arguments);\r\n            } else {\r\n                result = positions.positionCenter(s, result);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Check can tooltip setted on current position or not. If can't setted - delegate call.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {String} className - class whats should be setted to tooltip\r\n         * @param {String} side - parent method name\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _bottomRightChecker: function (s, map, direction, className, side, delegate) {\r\n            var result = {\r\n                    position: {}\r\n                },\r\n                config = tooltip.getTooltip(tooltipData.currentID),\r\n                startPosition = !config.strict ? s.eventPosition : {\r\n                    top: s.elementPosition.top + s.elementSize.h,\r\n                    left: s.elementPosition.left + s.elementSize.w\r\n                },\r\n                changedDirection;\r\n\r\n            checkedPositions[side] = true;\r\n\r\n            if (\r\n                startPosition[map[direction].p] + s.tooltipSize[map[direction].s] + config.step <\r\n                s.scrollPosition[map[direction].p] + s.windowSize[map[direction].s]\r\n            ) {\r\n                result.position[map[direction].p] = startPosition[map[direction].p] + config.step;\r\n                result.className = className;\r\n                result.side = side;\r\n                changedDirection = direction === 'vertical' ? 'horizontal' : 'vertical';\r\n                result = positions._normalize(s, result, config, delegate, map, changedDirection);\r\n            } else if (!checkedPositions[delegate]) {\r\n                result = positions[delegate].apply(null, arguments);\r\n            } else {\r\n                result = positions.positionCenter(s, result);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Centered tooltip if tooltip does not fit in window\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        positionCenter: function (s, data) {\r\n            data = positions._positionCenter(s, data, 'horizontal', positions.map);\r\n            data = positions._positionCenter(s, data, 'vertical', positions.map);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Centered tooltip side\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _positionCenter: function (s, data, direction, map) {\r\n            if (s.tooltipSize[map[direction].s] < s.windowSize[map[direction].s]) {\r\n                data.position[map[direction].p] = (s.windowSize[map[direction].s] -\r\n                    s.tooltipSize[map[direction].s]) / 2 + s.scrollPosition[map[direction].p];\r\n            } else {\r\n                data.position[map[direction].p] = s.scrollPosition[map[direction].p];\r\n                data.tooltipSize = {};\r\n                data.tooltipSize[map[direction].s] = s.windowSize[map[direction].s];\r\n            }\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Normalize horizontal or vertical position.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @param {Object} config - tooltip config\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _normalize: function (s, data, config, delegate, map, direction) {\r\n            var startPosition = !config.center ? s.eventPosition : {\r\n                    left: s.elementPosition.left + s.elementSize.w / 2,\r\n                    top: s.elementPosition.top + s.elementSize.h / 2\r\n                },\r\n                depResult;\r\n\r\n            if (startPosition[map[direction].p] - s.tooltipSize[map[direction].s] / 2 >\r\n                s.scrollPosition[map[direction].p] && startPosition[map[direction].p] +\r\n                s.tooltipSize[map[direction].s] / 2 <\r\n                s.scrollPosition[map[direction].p] + s.windowSize[map[direction].s]\r\n            ) {\r\n                data.position[map[direction].p] = startPosition[map[direction].p] - s.tooltipSize[map[direction].s] / 2;\r\n            } else {\r\n\r\n                /*eslint-disable no-lonely-if*/\r\n                if (!checkedPositions[delegate]) {\r\n                    depResult = positions[delegate].apply(null, arguments);\r\n\r\n                    if (depResult.hasOwnProperty('className')) {\r\n                        data = depResult;\r\n                    } else {\r\n                        data = positions._normalizeTail(s, data, config, delegate, map, direction, startPosition);\r\n                    }\r\n                } else {\r\n                    data = positions._normalizeTail(s, data, config, delegate, map, direction, startPosition);\r\n                }\r\n            }\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Calc tail position.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @param {Object} config - tooltip config\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {Object} startPosition - start position\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _normalizeTail: function (s, data, config, delegate, map, direction, startPosition) {\r\n            data.tail = {};\r\n\r\n            if (s.tooltipSize[map[direction].s] < s.windowSize[map[direction].s]) {\r\n\r\n                if (\r\n                    startPosition[map[direction].p] >\r\n                    s.windowSize[map[direction].s] / 2 + s.scrollPosition[map[direction].p]\r\n                ) {\r\n                    data.position[map[direction].p] = s.windowSize[map[direction].s] +\r\n                        s.scrollPosition[map[direction].p] - s.tooltipSize[map[direction].s];\r\n                    data.tail[map[direction].p] = startPosition[map[direction].p] -\r\n                        s.tooltipSize[map[direction].s] / 2 - data.position[map[direction].p];\r\n                } else {\r\n                    data.position[map[direction].p] = s.scrollPosition[map[direction].p];\r\n                    data.tail[map[direction].p] = startPosition[map[direction].p] -\r\n                        s.tooltipSize[map[direction].s] / 2 - data.position[map[direction].p];\r\n                }\r\n            } else {\r\n                data.position[map[direction].p] = s.scrollPosition[map[direction].p];\r\n                data.tail[map[direction].p] = s.eventPosition[map[direction].p] - s.windowSize[map[direction].s] / 2;\r\n                data.tooltipSize = {};\r\n                data.tooltipSize[map[direction].s] = s.windowSize[map[direction].s];\r\n            }\r\n\r\n            return data;\r\n        }\r\n    };\r\n\r\n    tooltip = {\r\n\r\n        /**\r\n         * Set new tooltip to tooltipCollection, save config, and add unic id\r\n         *\r\n         * @param {Object} config - tooltip config\r\n         * @returns {String} tooltip id\r\n         */\r\n        setTooltip: function (config) {\r\n            var property = 'id-' + iterator;\r\n\r\n            tooltipsCollection[property] = config;\r\n            iterator++;\r\n\r\n            return property;\r\n        },\r\n\r\n        /**\r\n         * Get tooltip config by id\r\n         *\r\n         * @param {String} id - tooltip id\r\n         * @returns {Object} tooltip config\r\n         */\r\n        getTooltip: function (id) {\r\n            return tooltipsCollection[id];\r\n        },\r\n\r\n        /**\r\n         * Set content to current tooltip\r\n         *\r\n         * @param {Object} tooltipElement - tooltip element\r\n         * @param {Object} viewModel - tooltip view model\r\n         * @param {String} id - tooltip id\r\n         * @param {Object} bindingCtx - tooltip context\r\n         * @param {Object} event - action event\r\n         */\r\n        setContent: function (tooltipElement, viewModel, id, bindingCtx, event) {\r\n            var html = $(tooltipElement).html(),\r\n                config = tooltip.getTooltip(id),\r\n                body = $('body');\r\n\r\n            tooltipData.currentID = id;\r\n            tooltipData.trigger = $(event.currentTarget);\r\n            tooltip.setTargetData(event);\r\n            body.on('mousemove.setTargetData', tooltip.setTargetData);\r\n            tooltip.clearTimeout(id);\r\n\r\n            tooltipData.timeout = _.delay(function () {\r\n                body.off('mousemove.setTargetData', tooltip.setTargetData);\r\n\r\n                if (tooltipData.trigger[0] === tooltipData.targetElement) {\r\n                    tooltip.destroy(id);\r\n                    event.stopPropagation();\r\n                    tooltipElement = tooltip.createTooltip(id);\r\n                    tooltipElement.find('.' + defaults.tooltipContentBlock).append(html);\r\n                    tooltipElement.applyBindings(bindingCtx);\r\n                    tooltip.setHandlers(id);\r\n                    tooltip.setPosition(tooltipElement, id);\r\n                    previousTooltip = id;\r\n                }\r\n\r\n            }, config.delay);\r\n        },\r\n\r\n        /**\r\n         * Set position to current tooltip\r\n         *\r\n         * @param {Object} tooltipElement - tooltip element\r\n         * @param {String} id - tooltip id\r\n         */\r\n        setPosition: function (tooltipElement, id) {\r\n            var config = tooltip.getTooltip(id);\r\n\r\n            tooltip.sizeData = {\r\n                windowSize: {\r\n                    h: $(window).outerHeight(),\r\n                    w: $(window).outerWidth()\r\n                },\r\n                scrollPosition: {\r\n                    top: $(window).scrollTop(),\r\n                    left: $(window).scrollLeft()\r\n                },\r\n                tooltipSize: {\r\n                    h: tooltipElement.outerHeight(),\r\n                    w: tooltipElement.outerWidth()\r\n                },\r\n                elementSize: {\r\n                    h: tooltipData.trigger.outerHeight(),\r\n                    w: tooltipData.trigger.outerWidth()\r\n                },\r\n                elementPosition: tooltipData.trigger.offset(),\r\n                eventPosition: this.getEventPosition(tooltipData.event)\r\n            };\r\n\r\n            _.extend(positionData, positions[config.position](tooltip.sizeData));\r\n            tooltipElement.css(positionData.position);\r\n            tooltipElement.addClass(positionData.className);\r\n            tooltip._setTooltipSize(positionData, tooltipElement);\r\n            tooltip._setTailPosition(positionData, tooltipElement);\r\n            checkedPositions = {};\r\n        },\r\n\r\n        /**\r\n         * Check position data and change tooltip size if needs\r\n         *\r\n         * @param {Object} data - position data\r\n         * @param {Object} tooltipElement - tooltip element\r\n         */\r\n        _setTooltipSize: function (data, tooltipElement) {\r\n            if (data.tooltipSize) {\r\n                data.tooltipSize.w ?\r\n                    tooltipElement.css('width', data.tooltipSize.w) :\r\n                    tooltipElement.css('height', data.tooltipSize.h);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check position data and set position to tail\r\n         *\r\n         * @param {Object} data - position data\r\n         * @param {Object} tooltipElement - tooltip element\r\n         */\r\n        _setTailPosition: function (data, tooltipElement) {\r\n            var tail,\r\n                tailMargin;\r\n\r\n            if (data.tail) {\r\n                tail = tooltipElement.find('.' + defaults.tailClass);\r\n\r\n                if (data.tail.left) {\r\n                    tailMargin = parseInt(tail.css('margin-left'), 10);\r\n                    tail.css('margin-left', tailMargin + data.tail.left);\r\n                } else {\r\n                    tailMargin = parseInt(tail.css('margin-top'), 10);\r\n                    tail.css('margin-top', tailMargin + data.tail.top);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Resolves position for tooltip\r\n         *\r\n         * @param {Object} event\r\n         * @returns {Object}\r\n         */\r\n        getEventPosition: function (event) {\r\n            var position = {\r\n                left: event.originalEvent && event.originalEvent.pageX || 0,\r\n                top: event.originalEvent && event.originalEvent.pageY || 0\r\n            };\r\n\r\n            if (position.left === 0 && position.top === 0) {\r\n                _.extend(position, event.target.getBoundingClientRect());\r\n            }\r\n\r\n            return position;\r\n        },\r\n\r\n        /**\r\n         * Close tooltip if action happened outside handler and tooltip element\r\n         *\r\n         * @param {String} id - tooltip id\r\n         * @param {Object} event - action event\r\n         */\r\n        outerClick: function (id, event) {\r\n            var tooltipElement = $(event.target).parents(defaults.tooltipWrapper)[0],\r\n                isTrigger = event.target === tooltipData.trigger[0] || $.contains(tooltipData.trigger[0], event.target);\r\n\r\n            if (tooltipData.showed && tooltipElement !== tooltipData.element[0] && !isTrigger) {\r\n                tooltip.destroy(id);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Parse keydown event and if event trigger is escape key - close tooltip\r\n         *\r\n         * @param {Object} event - action event\r\n         */\r\n        keydownHandler: function (event) {\r\n            if (tooltipData.showed && event.keyCode === 27) {\r\n                tooltip.destroy(tooltipData.currentID);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Change tooltip position when track is enabled\r\n         *\r\n         * @param {Object} event - current event\r\n         */\r\n        track: function (event) {\r\n            var inequality = {},\r\n                map = positions.map,\r\n                translate = {\r\n                    left: 'translateX',\r\n                    top: 'translateY'\r\n                },\r\n                eventPosition = {\r\n                    left: event.pageX,\r\n                    top: event.pageY\r\n                },\r\n                tooltipSize = {\r\n                    w: tooltipData.element.outerWidth(),\r\n                    h: tooltipData.element.outerHeight()\r\n                },\r\n                direction = positionData.side === 'bottom' || positionData.side === 'top' ? 'horizontal' : 'vertical';\r\n\r\n            inequality[map[direction].p] = eventPosition[map[direction].p] - (positionData.position[map[direction].p] +\r\n                tooltipSize[map[direction].s] / 2);\r\n\r\n            if (positionData.position[map[direction].p] + inequality[map[direction].p] +\r\n                tooltip.sizeData.tooltipSize[map[direction].s] >\r\n                tooltip.sizeData.windowSize[map[direction].s] + tooltip.sizeData.scrollPosition[map[direction].p] ||\r\n                inequality[map[direction].p] + positionData.position[map[direction].p] <\r\n                tooltip.sizeData.scrollPosition[map[direction].p]) {\r\n\r\n                return false;\r\n            }\r\n\r\n            tooltipData.element[0].style[transformProp] = translate[map[direction].p] +\r\n                '(' + inequality[map[direction].p] + 'px)';\r\n        },\r\n\r\n        /**\r\n         * Set handlers to tooltip\r\n         *\r\n         * @param {String} id - tooltip id\r\n         */\r\n        setHandlers: function (id) {\r\n            var config = tooltip.getTooltip(id);\r\n\r\n            if (config.track) {\r\n                tooltipData.trigger.on('mousemove.track', tooltip.track);\r\n            }\r\n\r\n            if (config.action === 'click') {\r\n                $(window).on(CLICK_EVENT + '.outerClick', tooltip.outerClick.bind(null, id));\r\n            }\r\n\r\n            if (config.closeButton) {\r\n                $('.' + config.closeButtonClass).on('click.closeButton', tooltip.destroy.bind(null, id));\r\n            }\r\n\r\n            if (config.closeOnScroll) {\r\n                document.addEventListener('scroll', tooltip.destroy, true);\r\n                $(window).on('scroll.tooltip', tooltip.outerClick.bind(null, id));\r\n            }\r\n\r\n            $(window).on('keydown.tooltip', tooltip.keydownHandler);\r\n            $(window).on('resize.outerClick', tooltip.outerClick.bind(null, id));\r\n        },\r\n\r\n        /**\r\n         * Toggle tooltip\r\n         *\r\n         * @param {Object} tooltipElement - tooltip element\r\n         * @param {Object} viewModel - tooltip view model\r\n         * @param {String} id - tooltip id\r\n         */\r\n        toggleTooltip: function (tooltipElement, viewModel, id) {\r\n            if (previousTooltip === id && tooltipData.showed) {\r\n                tooltip.destroy(id);\r\n\r\n                return false;\r\n            }\r\n\r\n            tooltip.setContent.apply(null, arguments);\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Create tooltip and append to DOM\r\n         *\r\n         * @param {String} id - tooltip id\r\n         * @returns {Object} tooltip element\r\n         */\r\n        createTooltip: function (id) {\r\n            var body = $('body'),\r\n                config = tooltip.getTooltip(id);\r\n\r\n            $(template(tooltipTmpl, {\r\n                data: config\r\n            })).appendTo(body);\r\n\r\n            tooltipData.showed = true;\r\n            tooltipData.element = $(config.tooltipWrapper);\r\n\r\n            return tooltipData.element;\r\n        },\r\n\r\n        /**\r\n         * Check action and clean timeout\r\n         *\r\n         * @param {String} id - tooltip id\r\n         */\r\n        clearTimeout: function (id) {\r\n            var config = tooltip.getTooltip(id);\r\n\r\n            if (config.action === 'hover') {\r\n                clearTimeout(tooltipData.timeout);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check previous tooltip\r\n         */\r\n        checkPreviousTooltip: function () {\r\n            if (!tooltipData.timeout) {\r\n                tooltip.destroy();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Destroy tooltip instance\r\n         */\r\n        destroy: function () {\r\n            if (tooltipData.element) {\r\n                tooltipData.element.remove();\r\n                tooltipData.showed = false;\r\n            }\r\n\r\n            positionData = {};\r\n            tooltipData.timeout = false;\r\n            tooltip.removeHandlers();\r\n        },\r\n\r\n        /**\r\n         * Remove tooltip handlers\r\n         */\r\n        removeHandlers: function () {\r\n            $('.' + defaults.closeButtonClass).off('click.closeButton');\r\n            tooltipData.trigger.off('mousemove.track');\r\n            document.removeEventListener('scroll', tooltip.destroy, true);\r\n            $(window).off('scroll.tooltip');\r\n            $(window).off(CLICK_EVENT + '.outerClick');\r\n            $(window).off('keydown.tooltip');\r\n            $(window).off('resize.outerClick');\r\n        },\r\n\r\n        /**\r\n         * Set target element\r\n         *\r\n         * @param {Object} event - current event\r\n         */\r\n        setTargetData: function (event) {\r\n            tooltipData.event = event;\r\n\r\n            //TODO: bug chrome v.49; Link to issue https://bugs.chromium.org/p/chromium/issues/detail?id=161464\r\n            if (event.timeStamp - (tooltipData.timestamp || 0) < 1) {\r\n                return;\r\n            }\r\n\r\n            if (event.type === 'mousemove') {\r\n                tooltipData.targetElement = event.target;\r\n            } else {\r\n                tooltipData.targetElement = event.currentTarget;\r\n                tooltipData.timestamp = event.timeStamp;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Merged user config with defaults configuration\r\n         *\r\n         * @param {Object} config - user config\r\n         * @returns {Object} merged config\r\n         */\r\n        processingConfig: function (config) {\r\n            return _.extend({}, defaults, config);\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.tooltip = {\r\n\r\n        /**\r\n         * Initialize tooltip\r\n         *\r\n         * @param {Object} elem - tooltip DOM element\r\n         * @param {Function} valueAccessor - ko observable property, tooltip data\r\n         * @param {Object} allBindings - all bindings on current element\r\n         * @param {Object} viewModel - current element viewModel\r\n         * @param {Object} bindingCtx - current element binding context\r\n         */\r\n        init: function (elem, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var config = tooltip.processingConfig(valueAccessor()),\r\n                $parentScope = config.parentScope ? $(config.parentScope) : $(elem).parent(),\r\n                tooltipId;\r\n\r\n            $(elem).addClass('hidden');\r\n\r\n            if (isTouchDevice) {\r\n                config.action = 'click';\r\n            }\r\n            tooltipId = tooltip.setTooltip(config);\r\n\r\n            if (config.action === 'hover') {\r\n                $parentScope.on(\r\n                    'mouseenter',\r\n                    config.trigger,\r\n                    tooltip.setContent.bind(null, elem, viewModel, tooltipId, bindingCtx)\r\n                );\r\n                $parentScope.on(\r\n                    'mouseleave',\r\n                    config.trigger,\r\n                    tooltip.checkPreviousTooltip.bind(null, tooltipId)\r\n                );\r\n            } else if (config.action === 'click') {\r\n                $parentScope.on(\r\n                    'click',\r\n                    config.trigger,\r\n                    tooltip.toggleTooltip.bind(null, elem, viewModel, tooltipId, bindingCtx)\r\n                );\r\n            }\r\n\r\n            return {\r\n                controlsDescendantBindings: true\r\n            };\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('tooltip');\r\n});\r\n","Magento_Ui/js/lib/knockout/extender/bound-nodes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global WeakMap */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mage/utils/wrapper',\r\n    'uiEvents'\r\n], function (ko, _, wrapper, Events) {\r\n    'use strict';\r\n\r\n    var nodesMap = new WeakMap();\r\n\r\n    /**\r\n     * Returns a array of nodes associated with a specified model.\r\n     *\r\n     * @param {Object} model\r\n     * @returns {Undefined|Array}\r\n     */\r\n    function getBounded(model) {\r\n        return nodesMap.get(model);\r\n    }\r\n\r\n    /**\r\n     * Removes specified node to models' associations list, if it's\r\n     * a root node (node is not a descendant of any previously added nodes).\r\n     * Triggers 'addNode' event.\r\n     *\r\n     * @param {Object} model\r\n     * @param {HTMLElement} node\r\n     */\r\n    function addBounded(model, node) {\r\n        var nodes = getBounded(model),\r\n            isRoot;\r\n\r\n        if (!nodes) {\r\n            nodesMap.set(model, [node]);\r\n\r\n            Events.trigger.call(model, 'addNode', node);\r\n\r\n            return;\r\n        }\r\n\r\n        isRoot = nodes.every(function (bounded) {\r\n            return !bounded.contains(node);\r\n        });\r\n\r\n        if (isRoot) {\r\n            nodes.push(node);\r\n\r\n            Events.trigger.call(model, 'addNode', node);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes specified node from models' associations list.\r\n     * Triggers 'removeNode' event.\r\n     *\r\n     * @param {Object} model\r\n     * @param {HTMLElement} node\r\n     */\r\n    function removeBounded(model, node) {\r\n        var nodes = getBounded(model),\r\n            index;\r\n\r\n        if (!nodes) {\r\n            return;\r\n        }\r\n\r\n        index = nodes.indexOf(node);\r\n\r\n        if (~index) {\r\n            nodes.splice(index, 0);\r\n\r\n            Events.trigger.call(model, 'removeNode', node);\r\n        }\r\n\r\n        if (!nodes.length) {\r\n            nodesMap.delete(model);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns node's first sibling of 'element' type within the common component scope\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @param {*} data\r\n     * @returns {HTMLElement}\r\n     */\r\n    function getElement(node, data) {\r\n        var elem;\r\n\r\n        while (node.nextElementSibling) {\r\n            node = node.nextElementSibling;\r\n\r\n            if (node.nodeType === 1 && ko.dataFor(node) === data) {\r\n                elem = node;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return elem;\r\n    }\r\n\r\n    wrapper.extend(ko, {\r\n\r\n        /**\r\n         * Extends knockouts' 'applyBindings'\r\n         * to track nodes associated with model.\r\n         *\r\n         * @param {Function} orig - Original 'applyBindings' method.\r\n         * @param {Object} ctx\r\n         * @param {HTMLElement} node - Original 'applyBindings' method.\r\n         */\r\n        applyBindings: function (orig, ctx, node) {\r\n            var result = orig(),\r\n                data = ctx && (ctx.$data || ctx);\r\n\r\n            if (node && node.nodeType === 8) {\r\n                node = getElement(node, data);\r\n            }\r\n\r\n            if (!node || node.nodeType !== 1) {\r\n                return result;\r\n            }\r\n\r\n            if (data && data.registerNodes) {\r\n                addBounded(data, node);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Extends knockouts' cleanNode\r\n         * to track nodes associated with model.\r\n         *\r\n         * @param {Function} orig - Original 'cleanNode' method.\r\n         * @param {HTMLElement} node - Original 'cleanNode' method.\r\n         */\r\n        cleanNode: function (orig, node) {\r\n            var result = orig(),\r\n                data;\r\n\r\n            if (node.nodeType !== 1) {\r\n                return result;\r\n            }\r\n\r\n            data = ko.dataFor(node);\r\n\r\n            if (data && data.registerNodes) {\r\n                removeBounded(data, node);\r\n            }\r\n\r\n            return result;\r\n        }\r\n    });\r\n\r\n    return {\r\n\r\n        /**\r\n         * Returns root nodes associated with a model. If callback is provided,\r\n         * will iterate through all of the present nodes triggering callback\r\n         * for each of it. Also it will subscribe to the 'addNode' event.\r\n         *\r\n         * @param {Object} model\r\n         * @param {Function} [callback]\r\n         * @returns {Array|Undefined}\r\n         */\r\n        get: function (model, callback) {\r\n            var nodes = getBounded(model) || [];\r\n\r\n            if (!_.isFunction(callback)) {\r\n                return nodes;\r\n            }\r\n\r\n            nodes.forEach(function (node) {\r\n                callback(node);\r\n            });\r\n\r\n            this.add.apply(this, arguments);\r\n        },\r\n\r\n        /**\r\n         * Subscribes to adding of nodes associated with a model.\r\n         *\r\n         * @param {Object} model\r\n         */\r\n        add: function (model) {\r\n            var args = _.toArray(arguments).slice(1);\r\n\r\n            args.unshift('addNode');\r\n\r\n            Events.on.apply(model, args);\r\n        },\r\n\r\n        /**\r\n         * Subscribes to removal of nodes associated with a model.\r\n         *\r\n         * @param {Object} model\r\n         */\r\n        remove: function (model) {\r\n            var args = _.toArray(arguments).slice(1);\r\n\r\n            args.unshift('removeNode');\r\n\r\n            Events.on.apply(model, args);\r\n        },\r\n\r\n        /**\r\n         * Removes subscriptions from the model.\r\n         *\r\n         * @param {Object} model\r\n         */\r\n        off: function (model) {\r\n            var args = _.toArray(arguments).slice(1);\r\n\r\n            Events.off.apply(model, args);\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/extender/observable_array.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore'\r\n], function (ko, _) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Iterator function.\r\n     *\r\n     * @param {String} callback\r\n     * @param {Array} args\r\n     * @param {Object} elem\r\n     * @returns {*}\r\n     */\r\n    function iterator(callback, args, elem) {\r\n        callback = elem[callback];\r\n\r\n        if (_.isFunction(callback)) {\r\n            return callback.apply(elem, args);\r\n        }\r\n\r\n        return callback;\r\n    }\r\n\r\n    /**\r\n     * Wrapper function.\r\n     *\r\n     * @param {String} method\r\n     * @returns {Function}\r\n     */\r\n    function wrapper(method) {\r\n        return function (iteratee) {\r\n            var callback = iteratee,\r\n                elems = this(),\r\n                args = _.toArray(arguments);\r\n\r\n            if (_.isString(iteratee)) {\r\n                callback = iterator.bind(null, iteratee, args.slice(1));\r\n\r\n                args.unshift(callback);\r\n            }\r\n\r\n            args.unshift(elems);\r\n\r\n            return _[method].apply(_, args);\r\n        };\r\n    }\r\n\r\n    _.extend(ko.observableArray.fn, {\r\n        each: wrapper('each'),\r\n\r\n        map: wrapper('map'),\r\n\r\n        filter: wrapper('filter'),\r\n\r\n        some: wrapper('some'),\r\n\r\n        every: wrapper('every'),\r\n\r\n        groupBy: wrapper('groupBy'),\r\n\r\n        sortBy: wrapper('sortBy'),\r\n\r\n        /**\r\n         * Wrapper for underscore findWhere function.\r\n         *\r\n         * @param {Object} properties\r\n         * @return {Object}\r\n         */\r\n        findWhere: function (properties) {\r\n            return _.findWhere(this(), properties);\r\n        },\r\n\r\n        /**\r\n         * Wrapper for underscore contains function.\r\n         *\r\n         * @param {*} value\r\n         * @return {Boolean}\r\n         */\r\n        contains: function (value) {\r\n            return _.contains(this(), value);\r\n        },\r\n\r\n        /**\r\n         * Inverse contains call.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        hasNo: function () {\r\n            return !this.contains.apply(this, arguments);\r\n        },\r\n\r\n        /**\r\n         * Getter for length property.\r\n         *\r\n         * @return {Number}\r\n         */\r\n        getLength: function () {\r\n            return this().length;\r\n        },\r\n\r\n        /**\r\n         * Create object with keys that gets from each object property.\r\n         *\r\n         * @return {Object}\r\n         */\r\n        indexBy: function (key) {\r\n            return _.indexBy(this(), key);\r\n        },\r\n\r\n        /**\r\n         * Returns a copy of the array with all instances of the values removed.\r\n         *\r\n         * @return {Array}\r\n         */\r\n        without: function () {\r\n            var args = Array.prototype.slice.call(arguments);\r\n\r\n            args.unshift(this());\r\n\r\n            return _.without.apply(_, args);\r\n        },\r\n\r\n        /**\r\n         * Returns the first element of an array.\r\n         *\r\n         * @return {*}\r\n         */\r\n        first: function () {\r\n            return _.first(this());\r\n        },\r\n\r\n        /**\r\n         * Returns the last element of an array\r\n         *\r\n         * @return {*}\r\n         */\r\n        last: function () {\r\n            return _.last(this());\r\n        },\r\n\r\n        /**\r\n         * Iterate and pick provided properties.\r\n         *\r\n         * @return {Array}\r\n         */\r\n        pluck: function () {\r\n            var args = Array.prototype.slice.call(arguments);\r\n\r\n            args.unshift(this());\r\n\r\n            return _.pluck.apply(_, args);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/knockout/template/engine.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'ko',\r\n    'underscore',\r\n    './observable_source',\r\n    './renderer',\r\n    '../../logger/console-logger'\r\n], function ($, ko, _, Source, renderer, consoleLogger) {\r\n    'use strict';\r\n\r\n    var RemoteTemplateEngine,\r\n        NativeTemplateEngine = ko.nativeTemplateEngine,\r\n        sources = {};\r\n\r\n    /**\r\n     * Remote template engine class. Is used to be able to load remote templates via knockout template binding.\r\n     */\r\n    RemoteTemplateEngine = function () {\r\n        // Instance reference for closure.\r\n        var engine = this,\r\n        // Decorate the builtin Knockout \"template\" binding to track synchronous template renders.\r\n        origUpdate = ko.bindingHandlers.template.update;\r\n\r\n        /**\r\n         * Counter to track the number of currently running render tasks (both synchronous and asynchronous).\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        this._rendersOutstanding = 0;\r\n\r\n        /**\r\n         * Use a jQuery object as an event bus (but any event emitter with on/off/emit methods could work)\r\n         * @type {jQuery}\r\n         * @private\r\n         */\r\n        this._events = $(this);\r\n\r\n        /**\r\n         * Rendered templates\r\n         * @type {Object}\r\n         * @private\r\n         */\r\n        this._templatesRendered = {};\r\n\r\n        /*eslint-disable no-unused-vars*/\r\n        /**\r\n         * Decorate update method\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         * @param {Object} allBindings\r\n         * @param {Object} viewModel\r\n         * @param {ko.bindingContext} bindingContext\r\n         * @returns {*}\r\n         */\r\n        ko.bindingHandlers.template.update = function (element, valueAccessor, allBindings, viewModel, bindingContext) {\r\n            /*eslint-enable no-unused-vars*/\r\n            var options = ko.utils.peekObservable(valueAccessor()),\r\n                templateName,\r\n                isSync,\r\n                updated;\r\n\r\n            if (typeof options === 'object') {\r\n                if (options.templateEngine && options.templateEngine !== engine) {\r\n                    return origUpdate.apply(this, arguments);\r\n                }\r\n\r\n                if (!options.name) {\r\n                    consoleLogger.error('Could not find template name', options);\r\n                }\r\n                templateName = options.name;\r\n            } else if (typeof options === 'string') {\r\n                templateName = options;\r\n            } else {\r\n                consoleLogger.error('Could not build a template binding', options);\r\n            }\r\n            engine._trackRender(templateName);\r\n            isSync = engine._hasTemplateLoaded(templateName);\r\n            updated = origUpdate.apply(this, arguments);\r\n\r\n            if (isSync) {\r\n                engine._releaseRender(templateName, 'sync');\r\n            }\r\n\r\n            return updated;\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Creates unique template identifier based on template name and it's extenders (optional)\r\n     * @param  {String} templateName\r\n     * @return {String} - unique template identifier\r\n     */\r\n    function createTemplateIdentifier(templateName) {\r\n        return templateName;\r\n    }\r\n\r\n    RemoteTemplateEngine.prototype = new NativeTemplateEngine;\r\n    RemoteTemplateEngine.prototype.constructor = RemoteTemplateEngine;\r\n\r\n    /**\r\n     * When an asynchronous render task begins, increment the internal counter for tracking when renders are complete.\r\n     * @private\r\n     */\r\n    RemoteTemplateEngine.prototype._trackRender = function (templateName) {\r\n        var rendersForTemplate = this._templatesRendered[templateName] !== undefined ?\r\n            this._templatesRendered[templateName] : 0;\r\n\r\n        this._rendersOutstanding++;\r\n        this._templatesRendered[templateName] = rendersForTemplate + 1;\r\n        this._resolveRenderWaits();\r\n    };\r\n\r\n    /**\r\n     * When an asynchronous render task ends, decrement the internal counter for tracking when renders are complete.\r\n     * @private\r\n     */\r\n    RemoteTemplateEngine.prototype._releaseRender = function (templateName) {\r\n        var rendersForTemplate = this._templatesRendered[templateName];\r\n\r\n        this._rendersOutstanding--;\r\n        this._templatesRendered[templateName] = rendersForTemplate - 1;\r\n        this._resolveRenderWaits();\r\n    };\r\n\r\n    /**\r\n     * Check to see if renders are complete and trigger events for listeners.\r\n     * @private\r\n     */\r\n    RemoteTemplateEngine.prototype._resolveRenderWaits = function () {\r\n        if (this._rendersOutstanding === 0) {\r\n            this._events.triggerHandler('finishrender');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Get a promise for the end of the current run of renders, both sync and async.\r\n     * @return {jQueryPromise} - promise that resolves when render completes\r\n     */\r\n    RemoteTemplateEngine.prototype.waitForFinishRender = function () {\r\n        var defer = $.Deferred();\r\n\r\n        this._events.one('finishrender', defer.resolve);\r\n\r\n        return defer.promise();\r\n    };\r\n\r\n    /**\r\n     * Returns true if this template has already been asynchronously loaded and will be synchronously rendered.\r\n     * @param {String} templateName\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    RemoteTemplateEngine.prototype._hasTemplateLoaded = function (templateName) {\r\n        // Sources object will have cached template once makeTemplateSource has run\r\n        return sources.hasOwnProperty(templateName);\r\n    };\r\n\r\n    /**\r\n     * Overrided method of native knockout template engine.\r\n     * Caches template after it's unique name and renders in once.\r\n     * If template name is not typeof string, delegates work to knockout.templateSources.anonymousTemplate.\r\n     * @param  {*} template\r\n     * @param  {HTMLElement} templateDocument - document\r\n     * @param  {Object} options - options, passed to template binding\r\n     * @param  {ko.bindingContext} bindingContext\r\n     * @returns {TemplateSource} Object with methods 'nodes' and 'data'.\r\n     */\r\n    RemoteTemplateEngine.prototype.makeTemplateSource = function (template, templateDocument, options, bindingContext) {\r\n        var engine = this,\r\n            source,\r\n            templateId;\r\n\r\n        if (typeof template === 'string') {\r\n            templateId = createTemplateIdentifier(template);\r\n            source = sources[templateId];\r\n\r\n            if (!source) {\r\n                source = new Source(template);\r\n                source.requestedBy = bindingContext.$data.name;\r\n                sources[templateId] = source;\r\n\r\n                consoleLogger.info('templateStartLoading', {\r\n                    template: templateId,\r\n                    component: bindingContext.$data.name\r\n                });\r\n\r\n                renderer.render(template).then(function (rendered) {\r\n                    consoleLogger.info('templateLoadedFromServer', {\r\n                        template: templateId,\r\n                        component: bindingContext.$data.name\r\n                    });\r\n                    source.nodes(rendered);\r\n                    engine._releaseRender(templateId, 'async');\r\n                }).fail(function () {\r\n                    consoleLogger.error('templateLoadingFail', {\r\n                        template: templateId,\r\n                        component: bindingContext.$data.name\r\n                    });\r\n                });\r\n            }\r\n\r\n            if (source.requestedBy !== bindingContext.$data.name) {\r\n                consoleLogger.info('templateLoadedFromCache', {\r\n                    template: templateId,\r\n                    component: bindingContext.$data.name\r\n                });\r\n            }\r\n\r\n            return source;\r\n        } else if (template.nodeType === 1 || template.nodeType === 8) {\r\n            source = new ko.templateSources.anonymousTemplate(template);\r\n\r\n            return source;\r\n        }\r\n\r\n        throw new Error('Unknown template type: ' + template);\r\n    };\r\n\r\n    /**\r\n     * Overrided method of native knockout template engine.\r\n     * Should return array of html elements.\r\n     * @param  {TemplateSource} templateSource - object with methods 'nodes' and 'data'.\r\n     * @return {Array} - array of html elements\r\n     */\r\n    RemoteTemplateEngine.prototype.renderTemplateSource = function (templateSource) {\r\n        var nodes = templateSource.nodes();\r\n\r\n        return ko.utils.cloneNodes(nodes);\r\n    };\r\n\r\n    /**\r\n     * Overrided method of native knockout template engine.\r\n     * Created in order to invoke makeTemplateSource method with custom set of params.\r\n     * @param  {*} template - template identifier\r\n     * @param  {ko.bindingContext} bindingContext\r\n     * @param  {Object} options - options, passed to template binding\r\n     * @param  {HTMLElement} templateDocument - document\r\n     * @return {Array} - array of html elements\r\n     */\r\n    RemoteTemplateEngine.prototype.renderTemplate = function (template, bindingContext, options, templateDocument) {\r\n        var templateSource = this.makeTemplateSource(template, templateDocument, options, bindingContext);\r\n\r\n        return this.renderTemplateSource(templateSource);\r\n    };\r\n\r\n    return new RemoteTemplateEngine;\r\n});\r\n","Magento_Ui/js/lib/knockout/template/loader.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    var licenseRegExp   = /<!--[\\s\\S]*?-->/,\r\n        defaultPlugin   = 'text',\r\n        defaultExt      = 'html';\r\n\r\n    /**\r\n     * Checks of provided string contains a file extension.\r\n     *\r\n     * @param {String} str - String to be checked.\r\n     * @returns {Boolean}\r\n     */\r\n    function hasFileExtension(str) {\r\n        return !!~str.indexOf('.') && !!str.split('.').pop();\r\n    }\r\n\r\n    /**\r\n     * Checks if provided string contains a requirejs's plugin reference.\r\n     *\r\n     * @param {String} str - String to be checked.\r\n     * @returns {Boolean}\r\n     */\r\n    function hasPlugin(str) {\r\n        return !!~str.indexOf('!');\r\n    }\r\n\r\n    /**\r\n     * Checks if provided string is a full path to the file.\r\n     *\r\n     * @param {String} str - String to be checked.\r\n     * @returns {Boolean}\r\n     */\r\n    function isFullPath(str) {\r\n        return !!~str.indexOf('://');\r\n    }\r\n\r\n    /**\r\n     * Removes license comment from the provided string.\r\n     *\r\n     * @param {String} content - String to be processed.\r\n     * @returns {String}\r\n     */\r\n    function removeLicense(content) {\r\n        return content.replace(licenseRegExp, function (match) {\r\n            return ~match.indexOf('/**') ? '' : match;\r\n        });\r\n    }\r\n\r\n    return {\r\n\r\n        /**\r\n         * Attempts to extract template by provided path from\r\n         * a DOM element and falls back to a file loading if\r\n         * none of the DOM nodes was found.\r\n         *\r\n         * @param {String} path - Path to the template or a DOM selector.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        loadTemplate: function (path) {\r\n            var content = this.loadFromNode(path),\r\n                defer;\r\n\r\n            if (content) {\r\n                defer = $.Deferred();\r\n\r\n                defer.resolve(content);\r\n\r\n                return defer.promise();\r\n            }\r\n\r\n            return this.loadFromFile(path);\r\n        },\r\n\r\n        /**\r\n         * Loads template from external file by provided\r\n         * path, which will be preliminary formatted.\r\n         *\r\n         * @param {String} path - Path to the template.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        loadFromFile: function (path) {\r\n            var loading = $.Deferred();\r\n\r\n            path = this.formatPath(path);\r\n\r\n            require([path], function (template) {\r\n                template = removeLicense(template);\r\n                loading.resolve(template);\r\n            }, function (err) {\r\n                loading.reject(err);\r\n            });\r\n\r\n            return loading.promise();\r\n        },\r\n\r\n        /**\r\n         * Attempts to extract content of a node found by provided selector.\r\n         *\r\n         * @param {String} selector - Node's selector (not necessary valid).\r\n         * @returns {String|Boolean} If specified node doesn't exists\r\n         *      'false' will be returned, otherwise returns node's content.\r\n         */\r\n        loadFromNode: function (selector) {\r\n            var node;\r\n\r\n            try {\r\n                node =\r\n                    document.getElementById(selector) ||\r\n                    document.querySelector(selector);\r\n\r\n                return node ? node.innerHTML : false;\r\n            } catch (e) {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Adds requirejs's plugin and file extension to\r\n         * to the provided string if it's necessary.\r\n         *\r\n         * @param {String} path - Path to be processed.\r\n         * @returns {String} Formatted path.\r\n         */\r\n        formatPath: function (path) {\r\n            var result = path;\r\n\r\n            if (!hasPlugin(path)) {\r\n                result = defaultPlugin + '!' + result;\r\n            }\r\n\r\n            if (isFullPath(path)) {\r\n                return result;\r\n            }\r\n\r\n            if (!hasFileExtension(path)) {\r\n                result += '.' + defaultExt;\r\n            }\r\n\r\n            return result.replace(/^([^\\/]+)/g, '$1/template');\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/template/observable_source.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/**\r\n * Is being used by knockout template engine to store template to.\r\n */\r\ndefine([\r\n    'ko',\r\n    'uiClass'\r\n], function (ko, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n\r\n        /**\r\n         * Initializes templateName, _data, nodes properties.\r\n         *\r\n         * @param  {template} template - identifier of template\r\n         */\r\n        initialize: function (template) {\r\n            this.templateName = template;\r\n            this._data = {};\r\n            this.nodes = ko.observable([]);\r\n        },\r\n\r\n        /**\r\n         * Data setter. If only one arguments passed, returns corresponding value.\r\n         * Else, writes into it.\r\n         * @param  {String} key - key to write to or to read from\r\n         * @param  {*} value\r\n         * @return {*} - if 1 arg provided, Returns _data[key] property\r\n         */\r\n        data: function (key, value) {\r\n            if (arguments.length === 1) {\r\n                return this._data[key];\r\n            }\r\n\r\n            this._data[key] = value;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/knockout/template/renderer.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    './loader'\r\n], function ($, _, loader) {\r\n    'use strict';\r\n\r\n    var colonReg       = /\\\\:/g,\r\n        renderedTemplatePromises = {},\r\n        attributes     = {},\r\n        elements       = {},\r\n        globals        = [],\r\n        renderer,\r\n        preset;\r\n\r\n    renderer = {\r\n\r\n        /**\r\n         * Loads template by provided path and\r\n         * than converts it's content to html.\r\n         *\r\n         * @param {String} tmplPath - Path to the template.\r\n         * @returns {jQueryPromise}\r\n         * @alias getRendered\r\n         */\r\n        render: function (tmplPath) {\r\n            var cachedPromise = renderedTemplatePromises[tmplPath];\r\n\r\n            if (!cachedPromise) {\r\n                cachedPromise = renderedTemplatePromises[tmplPath] = loader\r\n                    .loadTemplate(tmplPath)\r\n                    .then(renderer.parseTemplate);\r\n            }\r\n\r\n            return cachedPromise;\r\n        },\r\n\r\n        /**\r\n         * @ignore\r\n         */\r\n        getRendered: function (tmplPath) {\r\n            return renderer.render(tmplPath);\r\n        },\r\n\r\n        /**\r\n         * Parses provided string as html content\r\n         * and returns an array of DOM elements.\r\n         *\r\n         * @param {String} html - String to be processed.\r\n         * @returns {Array}\r\n         */\r\n        parseTemplate: function (html) {\r\n            var fragment = document.createDocumentFragment();\r\n\r\n            $(fragment).append(html);\r\n\r\n            return renderer.normalize(fragment);\r\n        },\r\n\r\n        /**\r\n         * Processes custom attributes and nodes of provided DOM element.\r\n         *\r\n         * @param {HTMLElement} content - Element to be processed.\r\n         * @returns {Array} An array of content's child nodes.\r\n         */\r\n        normalize: function (content) {\r\n            globals.forEach(function (handler) {\r\n                handler(content);\r\n            });\r\n\r\n            return _.toArray(content.childNodes);\r\n        },\r\n\r\n        /**\r\n         * Adds new global content handler.\r\n         *\r\n         * @param {Function} handler - Function which will be invoked for\r\n         *      an every content passed to 'normalize' method.\r\n         * @returns {Renderer} Chainable.\r\n         */\r\n        addGlobal: function (handler) {\r\n            if (!_.contains(globals, handler)) {\r\n                globals.push(handler);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified global content handler.\r\n         *\r\n         * @param {Function} handler - Handler to be removed.\r\n         * @returns {Renderer} Chainable.\r\n         */\r\n        removeGlobal: function (handler) {\r\n            var index = globals.indexOf(handler);\r\n\r\n            if (~index) {\r\n                globals.splice(index, 1);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds new custom attribute handler.\r\n         *\r\n         * @param {String} id - Attribute identifier.\r\n         * @param {(Object|Function)} [config={}]\r\n         * @returns {Renderer} Chainable.\r\n         */\r\n        addAttribute: function (id, config) {\r\n            var data = {\r\n                name: id,\r\n                binding: id,\r\n                handler: renderer.handlers.attribute\r\n            };\r\n\r\n            if (_.isFunction(config)) {\r\n                data.handler = config;\r\n            } else if (_.isObject(config)) {\r\n                _.extend(data, config);\r\n            }\r\n\r\n            data.id = id;\r\n            attributes[id] = data;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified attribute handler.\r\n         *\r\n         * @param {String} id - Attribute identifier.\r\n         * @returns {Renderer} Chainable.\r\n         */\r\n        removeAttribute: function (id) {\r\n            delete attributes[id];\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds new custom node handler.\r\n         *\r\n         * @param {String} id - Node identifier.\r\n         * @param {(Object|Function)} [config={}]\r\n         * @returns {Renderer} Chainable.\r\n         */\r\n        addNode: function (id, config) {\r\n            var data = {\r\n                name: id,\r\n                binding: id,\r\n                handler: renderer.handlers.node\r\n            };\r\n\r\n            if (_.isFunction(config)) {\r\n                data.handler = config;\r\n            } else if (_.isObject(config)) {\r\n                _.extend(data, config);\r\n            }\r\n\r\n            data.id = id;\r\n            elements[id] = data;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified custom node handler.\r\n         *\r\n         * @param {String} id - Node identifier.\r\n         * @returns {Renderer} Chainable.\r\n         */\r\n        removeNode: function (id) {\r\n            delete elements[id];\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided DOM element is a custom node.\r\n         *\r\n         * @param {HTMLElement} node - Node to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isCustomNode: function (node) {\r\n            return _.some(elements, function (elem) {\r\n                return elem.name.toUpperCase() === node.tagName;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Processes custom attributes of a content's child nodes.\r\n         *\r\n         * @param {HTMLElement} content - DOM element to be processed.\r\n         */\r\n        processAttributes: function (content) {\r\n            var repeat;\r\n\r\n            repeat = _.some(attributes, function (attr) {\r\n                var attrName = attr.name,\r\n                    nodes    = content.querySelectorAll('[' + attrName + ']'),\r\n                    handler  = attr.handler;\r\n\r\n                return _.toArray(nodes).some(function (node) {\r\n                    var data = node.getAttribute(attrName);\r\n\r\n                    return handler(node, data, attr) === true;\r\n                });\r\n            });\r\n\r\n            if (repeat) {\r\n                renderer.processAttributes(content);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Processes custom nodes of a provided content.\r\n         *\r\n         * @param {HTMLElement} content - DOM element to be processed.\r\n         */\r\n        processNodes: function (content) {\r\n            var repeat;\r\n\r\n            repeat = _.some(elements, function (element) {\r\n                var nodes   = content.querySelectorAll(element.name),\r\n                    handler = element.handler;\r\n\r\n                return _.toArray(nodes).some(function (node) {\r\n                    var data = node.getAttribute('args');\r\n\r\n                    return handler(node, data, element) === true;\r\n                });\r\n            });\r\n\r\n            if (repeat) {\r\n                renderer.processNodes(content);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Wraps provided string in curly braces if it's necessary.\r\n         *\r\n         * @param {String} args - String to be wrapped.\r\n         * @returns {String} Wrapped string.\r\n         */\r\n        wrapArgs: function (args) {\r\n            if (~args.indexOf('\\\\:')) {\r\n                args = args.replace(colonReg, ':');\r\n            } else if (~args.indexOf(':') && !~args.indexOf('}')) {\r\n                args = '{' + args + '}';\r\n            }\r\n\r\n            return args;\r\n        },\r\n\r\n        /**\r\n         * Wraps child nodes of provided DOM element\r\n         * with knockout's comment tag.\r\n         *\r\n         * @param {HTMLElement} node - Node whose children should be wrapped.\r\n         * @param {String} binding - Name of the binding for the opener comment tag.\r\n         * @param {String} data - Data associated with a binding.\r\n         *\r\n         * @example\r\n         *      <div id=\"example\"><span/></div>\r\n         *      wrapChildren(document.getElementById('example'), 'foreach', 'data');\r\n         *      =>\r\n         *      <div id=\"example\">\r\n         *      <!-- ko foreach: data -->\r\n         *          <span></span>\r\n         *      <!-- /ko -->\r\n         *      </div>\r\n         */\r\n        wrapChildren: function (node, binding, data) {\r\n            var tag = this.createComment(binding, data),\r\n                $node = $(node);\r\n\r\n            $node.prepend(tag.open);\r\n            $node.append(tag.close);\r\n        },\r\n\r\n        /**\r\n         * Wraps specified node with knockout's comment tag.\r\n         *\r\n         * @param {HTMLElement} node - Node to be wrapped.\r\n         * @param {String} binding - Name of the binding for the opener comment tag.\r\n         * @param {String} data - Data associated with a binding.\r\n         *\r\n         * @example\r\n         *      <div id=\"example\"></div>\r\n         *      wrapNode(document.getElementById('example'), 'foreach', 'data');\r\n         *      =>\r\n         *      <!-- ko foreach: data -->\r\n         *          <div id=\"example\"></div>\r\n         *      <!-- /ko -->\r\n         */\r\n        wrapNode: function (node, binding, data) {\r\n            var tag = this.createComment(binding, data),\r\n                $node = $(node);\r\n\r\n            $node.before(tag.open);\r\n            $node.after(tag.close);\r\n        },\r\n\r\n        /**\r\n         * Creates knockouts' comment tag for the provided binding.\r\n         *\r\n         * @param {String} binding - Name of the binding.\r\n         * @param {String} data - Data associated with a binding.\r\n         * @returns {Object} Object with an open and close comment elements.\r\n         */\r\n        createComment: function (binding, data) {\r\n            return {\r\n                open: document.createComment(' ko ' + binding + ': ' + data + ' '),\r\n                close: document.createComment(' /ko ')\r\n            };\r\n        }\r\n    };\r\n\r\n    renderer.handlers = {\r\n\r\n        /**\r\n         * Basic node handler. Replaces custom nodes\r\n         * with a corresponding knockout's comment tag.\r\n         *\r\n         * @param {HTMLElement} node - Node to be processed.\r\n         * @param {String} data\r\n         * @param {Object} element\r\n         * @returns {Boolean} True\r\n         *\r\n         * @example Sample syntaxes conversions.\r\n         *      <with args=\"model\">\r\n         *          <span/>\r\n         *      </with>\r\n         *      =>\r\n         *      <!-- ko with: model-->\r\n         *          <span/>\r\n         *      <!-- /ko -->\r\n         */\r\n        node: function (node, data, element) {\r\n            data = renderer.wrapArgs(data);\r\n\r\n            renderer.wrapNode(node, element.binding, data);\r\n            $(node).replaceWith(node.childNodes);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Base attribute handler. Replaces custom attributes with\r\n         * a corresponding knockouts' data binding.\r\n         *\r\n         * @param {HTMLElement} node - Node to be processed.\r\n         * @param {String} data - Data associated with a binding.\r\n         * @param {Object} attr - Attribute definition.\r\n         *\r\n         * @example Sample syntaxes conversions.\r\n         *      <div text=\"label\"></div>\r\n         *      =>\r\n         *      <div data-bind=\"text: label\"></div>\r\n         */\r\n        attribute: function (node, data, attr) {\r\n            data = renderer.wrapArgs(data);\r\n\r\n            renderer.bindings.add(node, attr.binding, data);\r\n            node.removeAttribute(attr.name);\r\n        },\r\n\r\n        /**\r\n         * Wraps provided node with a knockouts' comment tag.\r\n         *\r\n         * @param {HTMLElement} node - Node that will be wrapped.\r\n         * @param {String} data - Data associated with a binding.\r\n         * @param {Object} attr - Attribute definition.\r\n         *\r\n         * @example\r\n         *      <div outereach=\"data\" class=\"test\"></div>\r\n         *      =>\r\n         *      <!-- ko foreach: data -->\r\n         *          <div class=\"test\"></div>\r\n         *      <!-- /ko -->\r\n         */\r\n        wrapAttribute: function (node, data, attr) {\r\n            data = renderer.wrapArgs(data);\r\n\r\n            renderer.wrapNode(node, attr.binding, data);\r\n            node.removeAttribute(attr.name);\r\n        }\r\n    };\r\n\r\n    renderer.bindings = {\r\n\r\n        /**\r\n         * Appends binding string to the current\r\n         * 'data-bind' attribute of provided node.\r\n         *\r\n         * @param {HTMLElement} node - DOM element whose 'data-bind' attribute will be extended.\r\n         * @param {String} name - Name of a binding.\r\n         * @param {String} data - Data associated with the binding.\r\n         */\r\n        add: function (node, name, data) {\r\n            var bindings = this.get(node);\r\n\r\n            if (bindings) {\r\n                bindings += ', ';\r\n            }\r\n\r\n            bindings += name;\r\n\r\n            if (data) {\r\n                bindings += ': ' + data;\r\n            }\r\n\r\n            this.set(node, bindings);\r\n        },\r\n\r\n        /**\r\n         * Extracts value of a 'data-bind' attribute from provided node.\r\n         *\r\n         * @param {HTMLElement} node - Node whose attribute to be extracted.\r\n         * @returns {String}\r\n         */\r\n        get: function (node) {\r\n            return node.getAttribute('data-bind') || '';\r\n        },\r\n\r\n        /**\r\n         * Sets 'data-bind' attribute of the specified node\r\n         * to the provided value.\r\n         *\r\n         * @param {HTMLElement} node - Node whose attribute will be altered.\r\n         * @param {String} bindings - New value of 'data-bind' attribute.\r\n         */\r\n        set: function (node, bindings) {\r\n            node.setAttribute('data-bind', bindings);\r\n        }\r\n    };\r\n\r\n    renderer\r\n        .addGlobal(renderer.processAttributes)\r\n        .addGlobal(renderer.processNodes);\r\n\r\n    /**\r\n     * Collection of default binding conversions.\r\n     */\r\n    preset = {\r\n        nodes: _.object([\r\n            'if',\r\n            'text',\r\n            'with',\r\n            'scope',\r\n            'ifnot',\r\n            'foreach',\r\n            'component'\r\n        ], Array.prototype),\r\n        attributes: _.object([\r\n            'css',\r\n            'attr',\r\n            'html',\r\n            'with',\r\n            'text',\r\n            'click',\r\n            'event',\r\n            'submit',\r\n            'enable',\r\n            'disable',\r\n            'options',\r\n            'visible',\r\n            'template',\r\n            'hasFocus',\r\n            'textInput',\r\n            'component',\r\n            'uniqueName',\r\n            'optionsText',\r\n            'optionsValue',\r\n            'checkedValue',\r\n            'selectedOptions'\r\n        ], Array.prototype)\r\n    };\r\n\r\n    _.extend(preset.attributes, {\r\n        if: renderer.handlers.wrapAttribute,\r\n        ifnot: renderer.handlers.wrapAttribute,\r\n        innerif: {\r\n            binding: 'if'\r\n        },\r\n        innerifnot: {\r\n            binding: 'ifnot'\r\n        },\r\n        outereach: {\r\n            binding: 'foreach',\r\n            handler: renderer.handlers.wrapAttribute\r\n        },\r\n        foreach: {\r\n            name: 'each'\r\n        },\r\n        value: {\r\n            name: 'ko-value'\r\n        },\r\n        style: {\r\n            name: 'ko-style'\r\n        },\r\n        checked: {\r\n            name: 'ko-checked'\r\n        },\r\n        disabled: {\r\n            name: 'ko-disabled',\r\n            binding: 'disable'\r\n        },\r\n        focused: {\r\n            name: 'ko-focused',\r\n            binding: 'hasFocus'\r\n        },\r\n\r\n        /**\r\n         * Custom 'render' attribute handler function. Wraps child elements\r\n         * of a node with knockout's 'ko template:' comment tag.\r\n         *\r\n         * @param {HTMLElement} node - Element to be processed.\r\n         * @param {String} data - Data specified in 'render' attribute of a node.\r\n         */\r\n        render: function (node, data) {\r\n            data = data || 'getTemplate()';\r\n            data = renderer.wrapArgs(data);\r\n\r\n            renderer.wrapChildren(node, 'template', data);\r\n            node.removeAttribute('render');\r\n        }\r\n    });\r\n\r\n    _.extend(preset.nodes, {\r\n        foreach: {\r\n            name: 'each'\r\n        },\r\n\r\n        /**\r\n         * Custom 'render' node handler function.\r\n         * Replaces node with knockout's 'ko template:' comment tag.\r\n         *\r\n         * @param {HTMLElement} node - Element to be processed.\r\n         * @param {String} data - Data specified in 'args' attribute of a node.\r\n         */\r\n        render: function (node, data) {\r\n            data = data || 'getTemplate()';\r\n            data = renderer.wrapArgs(data);\r\n\r\n            renderer.wrapNode(node, 'template', data);\r\n            $(node).replaceWith(node.childNodes);\r\n        }\r\n    });\r\n\r\n    _.each(preset.attributes, function (data, id) {\r\n        renderer.addAttribute(id, data);\r\n    });\r\n\r\n    _.each(preset.nodes, function (data, id) {\r\n        renderer.addNode(id, data);\r\n    });\r\n\r\n    return renderer;\r\n});\r\n","Magento_Ui/js/lib/logger/console-logger.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    './logger',\r\n    './entry-factory',\r\n    './console-output-handler',\r\n    './formatter',\r\n    './message-pool',\r\n    './levels-pool',\r\n    'Magento_Ui/js/lib/core/storage/local',\r\n    'underscore',\r\n    './logger-utils'\r\n], function (Logger, entryFactory, ConsoleHandler, Formatter, messagePoll, levelsPoll, storage, _, LoggerUtils) {\r\n    'use strict';\r\n\r\n    var STORAGE_NAMESPACE = 'CONSOLE_LOGGER';\r\n\r\n    /**\r\n     * Singleton Logger's sub-class instance of which is configured to display its\r\n     * messages to the console. It also provides the support of predefined messages\r\n     * and persists its display level.\r\n     */\r\n    function ConsoleLogger() {\r\n        var formatter = new Formatter(),\r\n            consoleHandler = new ConsoleHandler(formatter),\r\n            savedLevel = storage.get(STORAGE_NAMESPACE),\r\n            utils = new LoggerUtils(this);\r\n\r\n        Logger.call(this, consoleHandler, entryFactory);\r\n\r\n        if (savedLevel) {\r\n            this.displayLevel_ = savedLevel;\r\n        }\r\n\r\n        this.utils = utils;\r\n        this.messages = messagePoll;\r\n        this.levels = levelsPoll.getLevels();\r\n    }\r\n\r\n    _.extend(ConsoleLogger, Logger);\r\n\r\n    ConsoleLogger.prototype = Object.create(Logger.prototype);\r\n    ConsoleLogger.prototype.constructor = ConsoleLogger;\r\n\r\n    /**\r\n     * Overrides parent method to save the provided display level.\r\n     *\r\n     * @override\r\n     */\r\n    ConsoleLogger.prototype.setDisplayLevel = function (level) {\r\n        Logger.prototype.setDisplayLevel.call(this, level);\r\n\r\n        storage.set(STORAGE_NAMESPACE, level);\r\n    };\r\n\r\n    /**\r\n     * Adds the support of predefined messages.\r\n     *\r\n     * @protected\r\n     * @override\r\n     */\r\n    ConsoleLogger.prototype.createEntry_ = function (message, level, data) {\r\n        var code;\r\n\r\n        if (messagePoll.hasMessage(message)) {\r\n            data = data || {};\r\n            code = message;\r\n            message = messagePoll.getMessage(code);\r\n\r\n            data.messageCode = code;\r\n        }\r\n\r\n        return Logger.prototype.createEntry_.call(this, message, level, data);\r\n    };\r\n\r\n    return new ConsoleLogger();\r\n});\r\n","Magento_Ui/js/lib/logger/console-output-handler.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    './levels-pool'\r\n], function (logLevels) {\r\n    'use strict';\r\n\r\n    var levels = logLevels.getLevels();\r\n\r\n    /**\r\n     * @param {LogFormatter} formatter\r\n     */\r\n    function ConsoleOutputHandler(formatter) {\r\n        /**\r\n         * @protected\r\n         * @type {LogFormatter}\r\n         */\r\n        this.formatter_ = formatter;\r\n    }\r\n\r\n    /**\r\n     * Display data of the provided entry to the console.\r\n     *\r\n     * @param {LogEntry} entry - Entry to be displayed.\r\n     */\r\n    ConsoleOutputHandler.prototype.show = function (entry) {\r\n        var displayString = this.formatter_.process(entry);\r\n\r\n        switch (entry.level) {\r\n            case levels.ERROR:\r\n                console.error(displayString);\r\n                break;\r\n\r\n            case levels.WARN:\r\n                console.warn(displayString);\r\n                break;\r\n\r\n            case levels.INFO:\r\n                console.info(displayString);\r\n                break;\r\n\r\n            case levels.DEBUG:\r\n                console.log(displayString);\r\n                break;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Displays the array of entries.\r\n     *\r\n     * @param {Array<LogEntry>} entries\r\n     */\r\n    ConsoleOutputHandler.prototype.dump = function (entries) {\r\n        entries.forEach(this.show, this);\r\n    };\r\n\r\n    return ConsoleOutputHandler;\r\n});\r\n","Magento_Ui/js/lib/logger/entry-factory.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    './entry'\r\n], function (LogEntry) {\r\n    'use strict';\r\n\r\n    return {\r\n        /**\r\n         * @param {String} message\r\n         * @param {Number} level\r\n         * @param {Object} [messageData]\r\n         * @returns {LogEntry}\r\n         */\r\n        createEntry: function (message, level, messageData) {\r\n            return new LogEntry(message, level, messageData);\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/logger/entry.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    './levels-pool'\r\n], function (logLevels) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {String} message\r\n     * @param {Number} level\r\n     * @param {Object} [data]\r\n     */\r\n    function LogEntry(message, level, data) {\r\n        /**\r\n         * @readonly\r\n         * @type {Number}\r\n         */\r\n        this.timestamp = Date.now();\r\n\r\n        /**\r\n         * @readonly\r\n         * @type {Number}\r\n         */\r\n        this.level = level;\r\n\r\n        /**\r\n         * @readonly\r\n         * @type {String}\r\n         */\r\n        this.levelName = logLevels.getNameByCode(level);\r\n\r\n        /**\r\n         * @readonly\r\n         * @type {Object}\r\n         */\r\n        this.data = data;\r\n\r\n        /**\r\n         * @readonly\r\n         * @type {String}\r\n         */\r\n        this.message = message;\r\n    }\r\n\r\n    return LogEntry;\r\n});\r\n","Magento_Ui/js/lib/logger/formatter.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'moment',\r\n    'mage/utils/template'\r\n], function (moment, mageTemplate) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {String} dateFormat\r\n     * @param {String} template\r\n     */\r\n    function LogFormatter(dateFormat, template) {\r\n        /**\r\n         * @protected\r\n         * @type {String}\r\n         */\r\n        this.dateFormat_ = 'YYYY-MM-DD hh:mm:ss';\r\n\r\n        /**\r\n         * @protected\r\n         * @type {String}\r\n         */\r\n        this.template_ = '[${ $.date }] [${ $.entry.levelName }] ${ $.message }';\r\n\r\n        if (dateFormat) {\r\n            this.dateFormat_ = dateFormat;\r\n        }\r\n\r\n        if (template) {\r\n            this.template_ = template;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {LogEntry} entry\r\n     * @returns {String}\r\n     */\r\n    LogFormatter.prototype.process = function (entry) {\r\n        var message = mageTemplate.template(entry.message, entry.data),\r\n            date = moment(entry.timestamp).format(this.dateFormat_);\r\n\r\n        return mageTemplate.template(this.template_, {\r\n            date: date,\r\n            entry: entry,\r\n            message: message\r\n        });\r\n    };\r\n\r\n    return LogFormatter;\r\n});\r\n","Magento_Ui/js/lib/logger/levels-pool.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'underscore'\r\n], function (_) {\r\n    'use strict';\r\n\r\n    var LEVELS,\r\n        CODE_MAP;\r\n\r\n    LEVELS = {\r\n        NONE: 0,\r\n        ERROR: 1,\r\n        WARN: 2,\r\n        INFO: 3,\r\n        DEBUG: 4,\r\n        ALL: 5\r\n    };\r\n\r\n    CODE_MAP = _.invert(LEVELS);\r\n\r\n    return {\r\n        /**\r\n         * Returns the list of available log levels.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getLevels: function () {\r\n            return LEVELS;\r\n        },\r\n\r\n        /**\r\n         * Returns name of the log level that matches to the provided code.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getNameByCode: function (code) {\r\n            return CODE_MAP[code];\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/logger/logger-utils.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * Utils methods for logger\r\n     * @param {Logger} logger\r\n     */\r\n    function LogUtils(logger) {\r\n        this.logger = logger;\r\n\r\n    }\r\n\r\n    /**\r\n     * Method for logging asynchronous operations\r\n     * @param {Promise} promise\r\n     * @param {Object} config\r\n     */\r\n    LogUtils.prototype.asyncLog = function (promise, config) {\r\n        var levels,\r\n            messages,\r\n            wait;\r\n\r\n        config = config || {};\r\n        levels = config.levels || this.createLevels();\r\n        messages = config.messages || this.createMessages();\r\n        wait = config.wait || 5000;\r\n\r\n        this.logger[levels.requested](messages.requested, config.data);\r\n        setTimeout(function () {\r\n            promise.state() === 'pending' ?\r\n                this.logger[levels.failed](messages.failed, config.data) :\r\n                this.logger[levels.loaded](messages.loaded, config.data);\r\n        }.bind(this), wait);\r\n    };\r\n\r\n    /**\r\n     * Method that creates object of messages\r\n     * @param {String} requested - log message that showing that request for class is started\r\n     * @param {String} loaded - log message that show when requested class is loaded\r\n     * @param {String} failed - log message that show when requested class is failed\r\n     * @returns {Object}\r\n     */\r\n    LogUtils.prototype.createMessages = function (requested, loaded, failed) {\r\n        return {\r\n            requested: requested || '',\r\n            loaded: loaded || '',\r\n            failed: failed || ''\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Method that creates object of log levels\r\n     * @param {String} requested - log message that showing that request for class is started\r\n     * @param {String} loaded - log message that show when requested class is loaded\r\n     * @param {String} failed - log message that show when requested class is failed\r\n     * @returns {Object}\r\n     */\r\n    LogUtils.prototype.createLevels = function (requested, loaded, failed) {\r\n        return {\r\n            requested: requested || 'info',\r\n            loaded: loaded || 'info',\r\n            failed: failed || 'warn'\r\n        };\r\n    };\r\n\r\n    return LogUtils;\r\n});\r\n","Magento_Ui/js/lib/logger/logger.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    './levels-pool'\r\n], function (logLevels) {\r\n    'use strict';\r\n\r\n    var levels = logLevels.getLevels();\r\n\r\n    /**\r\n     * @param {LogOutputHandler} outputHandler\r\n     * @param {LogEntryFactory} entryFactory\r\n     */\r\n    function Logger(outputHandler, entryFactory) {\r\n        /**\r\n         * An array of log entries.\r\n         *\r\n         * @protected\r\n         * @type {Array<LogEntry>}\r\n         */\r\n        this.entries_ = [];\r\n\r\n        /**\r\n         * Current display level.\r\n         *\r\n         * @protected\r\n         * @type {Number}\r\n         */\r\n        this.displayLevel_ = levels.ERROR;\r\n\r\n        /**\r\n         * An array of display criteria.\r\n         *\r\n         * @protected\r\n         * @type {Array<LogCriteria>}\r\n         */\r\n        this.displayCriteria_ = [];\r\n\r\n        /**\r\n         * @protected\r\n         * @type {LogEntryFactory}\r\n         */\r\n        this.entryFactory_ = entryFactory;\r\n\r\n        /**\r\n         * @protected\r\n         * @type {Array<LogOutputHandler>}\r\n         */\r\n        this.outputHandlers_ = [outputHandler];\r\n\r\n        this.addDisplayCriteria(this.matchesLevel_);\r\n    }\r\n\r\n    /**\r\n     * Swaps current display level with the provided one.\r\n     *\r\n     * @param {Number} level - Level's code.\r\n     */\r\n    Logger.prototype.setDisplayLevel = function (level) {\r\n        var levelName = logLevels.getNameByCode(level);\r\n\r\n        if (!levelName) {\r\n            throw new TypeError('The provided level is not defined in the levels list.');\r\n        }\r\n\r\n        this.displayLevel_ = level;\r\n    };\r\n\r\n    /**\r\n     * Sets up the criteria by which log entries will be filtered out from the output.\r\n     *\r\n     * @param {LogCriteria} criteria\r\n     */\r\n    Logger.prototype.addDisplayCriteria = function (criteria) {\r\n        this.displayCriteria_.push(criteria);\r\n    };\r\n\r\n    /**\r\n     * Removes previously defined criteria.\r\n     *\r\n     * @param {LogCriteria} criteria\r\n     */\r\n    Logger.prototype.removeDisplayCriteria = function (criteria) {\r\n        var index = this.displayCriteria_.indexOf(criteria);\r\n\r\n        if (~index) {\r\n            this.displayCriteria_.splice(index, 1);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {String} message\r\n     * @param {Object} [messageData]\r\n     * @returns {LogEntry}\r\n     */\r\n    Logger.prototype.error = function (message, messageData) {\r\n        return this.log_(message, levels.ERROR, messageData);\r\n    };\r\n\r\n    /**\r\n     * @param {String} message\r\n     * @param {Object} [messageData]\r\n     * @returns {LogEntry}\r\n     */\r\n    Logger.prototype.warn = function (message, messageData) {\r\n        return this.log_(message, levels.WARN, messageData);\r\n    };\r\n\r\n    /**\r\n     * @param {String} message\r\n     * @param {Object} [messageData]\r\n     * @returns {LogEntry}\r\n     */\r\n    Logger.prototype.info = function (message, messageData) {\r\n        return this.log_(message, levels.INFO, messageData);\r\n    };\r\n\r\n    /**\r\n     * @param {String} message\r\n     * @param {Object} [messageData]\r\n     * @returns {LogEntry}\r\n     */\r\n    Logger.prototype.debug = function (message, messageData) {\r\n        return this.log_(message, levels.DEBUG, messageData);\r\n    };\r\n\r\n    /**\r\n     * @protected\r\n     * @param {String} message\r\n     * @param {Number} level\r\n     * @param {Object} [messageData]\r\n     * @returns {LogEntry}\r\n     */\r\n    Logger.prototype.log_ = function (message, level, messageData) {\r\n        var entry = this.createEntry_(message, level, messageData);\r\n\r\n        this.entries_.push(entry);\r\n\r\n        if (this.matchesCriteria_(entry)) {\r\n            this.processOutput_(entry);\r\n        }\r\n\r\n        return entry;\r\n    };\r\n\r\n    /**\r\n     * @protected\r\n     * @param {String} message\r\n     * @param {Number} level\r\n     * @param {Object} [messageData]\r\n     * @returns {LogEntry}\r\n     */\r\n    Logger.prototype.createEntry_ = function (message, level, messageData) {\r\n        return this.entryFactory_.createEntry(message, level, messageData);\r\n    };\r\n\r\n    /**\r\n     * Returns an array of log entries that have been added to the logger.\r\n     *\r\n     * @param {LogCriteria} [criteria] - Optional filter criteria.\r\n     * @returns {Array<LogEntry>}\r\n     */\r\n    Logger.prototype.getEntries = function (criteria) {\r\n        if (criteria) {\r\n            return this.entries_.filter(criteria);\r\n        }\r\n\r\n        return this.entries_;\r\n    };\r\n\r\n    /**\r\n     * @param {LogCriteria} [criteria]\r\n     */\r\n    Logger.prototype.dump = function (criteria) {\r\n        var entries;\r\n\r\n        if (!criteria) {\r\n            criteria = this.matchesCriteria_;\r\n        }\r\n\r\n        entries = this.entries_.filter(criteria, this);\r\n\r\n        this.outputHandlers_.forEach(function (handler) {\r\n            handler.dump(entries);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @protected\r\n     * @param {LogEntry} entry\r\n     */\r\n    Logger.prototype.processOutput_ = function (entry) {\r\n        this.outputHandlers_.forEach(function (handler) {\r\n            handler.show(entry);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @protected\r\n     * @param {LogEntry} entry\r\n     * @returns {Boolean}\r\n     */\r\n    Logger.prototype.matchesCriteria_ = function (entry) {\r\n        return this.displayCriteria_.every(function (criteria) {\r\n            return criteria.call(this, entry);\r\n        }, this);\r\n    };\r\n\r\n    /**\r\n     * Checks that the level of provided entry passes the \"displayLevel_\" threshold.\r\n     *\r\n     * @protected\r\n     * @param {LogEntry} entry - Entry to be checked.\r\n     * @returns {Boolean}\r\n     */\r\n    Logger.prototype.matchesLevel_ = function (entry) {\r\n        return entry.level <= this.displayLevel_;\r\n    };\r\n\r\n    return Logger;\r\n});\r\n","Magento_Ui/js/lib/logger/message-pool.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine(function () {\r\n    'use strict';\r\n\r\n    var MESSAGES = {\r\n        templateStartLoading:\r\n            'The \"${ $.template }\" template requested by  the \"${$.component}\" component started loading.',\r\n        templateLoadedFromServer:\r\n            'The \"${ $.template }\" template requested by the \"${$.component}\" component  was loaded from server.\"',\r\n        templateLoadedFromCache:\r\n            'The \"${ $.template }\" template  requested by the \"${$.component}\" component was loaded from cache.\"',\r\n        templateLoadingFail: 'Failed to load the \"${ $.template }\" template requested by \"${$.component}\".',\r\n        componentStartInitialization:\r\n            'Component \"${$.component}\" start initialization with instance name \"${$.componentName}\".',\r\n        componentStartLoading: ' Started loading the \"${$.component}\" component.',\r\n        componentFinishLoading: 'The \"${$.component}\" component was loaded.',\r\n        componentLoadingFail: 'Failed to load the \"${$.component}\" component.',\r\n        depsLoadingFail: 'Could not get the declared \"${$.deps}\" dependency for the \"${$.component}\" instance.',\r\n        depsStartRequesting: 'Requesting the \"${$.deps}\" dependency for the \"${$.component}\" instance.',\r\n        depsFinishRequesting: 'The \"${$.deps}\" dependency for the \"${$.component}\" instance was received.',\r\n        requestingComponent: 'Requesting the \"${$.component}\" component.',\r\n        requestingComponentIsLoaded: 'The requested \"${$.component}\" component was received.',\r\n        requestingComponentIsFailed: 'Could not get the requested \"${$.component}\" component.'\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * Returns message that matches the provided code.\r\n         *\r\n         * @param {String} code - Message's identifier\r\n         * @returns {String}\r\n         */\r\n        getMessage: function (code) {\r\n            return MESSAGES[code];\r\n        },\r\n\r\n        /**\r\n         * Adds a new message to the poll.\r\n         *\r\n         * @param {String} code - Message's identifier.\r\n         * @param {String} message - Text of the message\r\n         */\r\n        addMessage: function (code, message) {\r\n            MESSAGES[code] = message;\r\n        },\r\n\r\n        /**\r\n         * Tells whether message with provide code exists in the poll.\r\n         *\r\n         * @param {String} code - Message's identifier.\r\n         * @returns {Boolean}\r\n         */\r\n        hasMessage: function (code) {\r\n            return MESSAGES.hasOwnProperty(code);\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/registry/registry.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n/* global WeakMap */\r\ndefine([\r\n    'jquery',\r\n    'underscore'\r\n], function ($, _) {\r\n    'use strict';\r\n\r\n    var privateData = new WeakMap();\r\n\r\n    /**\r\n     * Extracts private item storage associated\r\n     * with a provided registry instance.\r\n     *\r\n     * @param {Object} container\r\n     * @returns {Object}\r\n     */\r\n    function getItems(container) {\r\n        return privateData.get(container).items;\r\n    }\r\n\r\n    /**\r\n     * Extracts private requests array associated\r\n     * with a provided registry instance.\r\n     *\r\n     * @param {Object} container\r\n     * @returns {Array}\r\n     */\r\n    function getRequests(container) {\r\n        return privateData.get(container).requests;\r\n    }\r\n\r\n    /**\r\n     * Wrapper function used for convenient access to the elements.\r\n     * See 'async' method for examples of usage and comparison\r\n     * with a regular 'get' method.\r\n     *\r\n     * @param {(String|Object|Function)} name - Key of the requested element.\r\n     * @param {Registry} registry - Instance of a registry\r\n     *      where to search for the element.\r\n     * @param {(Function|String)} [method] - Optional callback function\r\n     *      or a name of the elements' method which\r\n     *      will be invoked when element is available in registry.\r\n     * @returns {*}\r\n     */\r\n    function async(name, registry, method) {\r\n        var args = _.toArray(arguments).slice(3);\r\n\r\n        if (_.isString(method)) {\r\n            registry.get(name, function (component) {\r\n                component[method].apply(component, args);\r\n            });\r\n        } else if (_.isFunction(method)) {\r\n            registry.get(name, method);\r\n        } else if (!args.length) {\r\n            return registry.get(name);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks that every property of the query object\r\n     * is present and equal to the corresponding\r\n     * property in target object.\r\n     * Note that non-strict comparison is used.\r\n     *\r\n     * @param {Object} query - Query object.\r\n     * @param {Object} target - Target object.\r\n     * @returns {Boolean}\r\n     */\r\n    function compare(query, target) {\r\n        var matches = true,\r\n            index,\r\n            keys,\r\n            key;\r\n\r\n        if (!_.isObject(query) || !_.isObject(target)) {\r\n            return false;\r\n        }\r\n\r\n        keys = Object.getOwnPropertyNames(query);\r\n        index = keys.length;\r\n\r\n        while (matches && index--) {\r\n            key = keys[index];\r\n\r\n            /* eslint-disable eqeqeq */\r\n            if (target[key] != query[key]) {\r\n                matches = false;\r\n            }\r\n\r\n            /* eslint-enable eqeqeq */\r\n        }\r\n\r\n        return matches;\r\n    }\r\n\r\n    /**\r\n     * Explodes incoming string into object if\r\n     * string is defined as a set of key = value pairs.\r\n     *\r\n     * @param {(String|*)} query - String to be processed.\r\n     * @returns {Object|*} Either created object or an unmodified incoming\r\n     *      value if conversion was not possible.\r\n     * @example Sample conversions.\r\n     *      'key = value, key2 = value2'\r\n     *      => {key: 'value', key2: 'value2'}\r\n     */\r\n    function explode(query) {\r\n        var result = {},\r\n            index,\r\n            data;\r\n\r\n        if (typeof query !== 'string' || !~query.indexOf('=')) {\r\n            return query;\r\n        }\r\n\r\n        query = query.split(',');\r\n        index = query.length;\r\n\r\n        while (index--) {\r\n            data = query[index].split('=');\r\n\r\n            result[data[0].trim()] = data[1].trim();\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Extracts items from the provided data object\r\n     * which matches specified search criteria.\r\n     *\r\n     * @param {Object} data - Data object where to perform a lookup.\r\n     * @param {(String|Object|Function)} query - Search criteria.\r\n     * @param {Boolean} findAll - Flag that defines whether to\r\n     *      search for all applicable items or to stop on a first found entry.\r\n     * @returns {Array|Object|*}\r\n     */\r\n    function find(data, query, findAll) {\r\n        var iterator,\r\n            item;\r\n\r\n        query = explode(query);\r\n\r\n        if (typeof query === 'string') {\r\n            item = data[query];\r\n\r\n            if (findAll) {\r\n                return item ? [item] : [];\r\n            }\r\n\r\n            return item;\r\n        }\r\n\r\n        iterator = !_.isFunction(query) ?\r\n            compare.bind(null, query) :\r\n            query;\r\n\r\n        return findAll ?\r\n            _.filter(data, iterator) :\r\n            _.find(data, iterator);\r\n    }\r\n\r\n    /**\r\n     * @constructor\r\n     */\r\n    function Registry() {\r\n        var data = {\r\n            items: {},\r\n            requests: []\r\n        };\r\n\r\n        this._updateRequests = _.debounce(this._updateRequests.bind(this), 10);\r\n        privateData.set(this, data);\r\n    }\r\n\r\n    Registry.prototype = {\r\n        constructor: Registry,\r\n\r\n        /**\r\n         * Retrieves item from registry which matches specified search criteria.\r\n         *\r\n         * @param {(Object|String|Function|Array)} query - Search condition (see examples).\r\n         * @param {Function} [callback] - Callback that will be invoked when\r\n         *      all of the requested items are available.\r\n         * @returns {*}\r\n         *\r\n         * @example Requesting item by it's name.\r\n         *      var obj = {index: 'test', sample: true};\r\n         *\r\n         *      registry.set('first', obj);\r\n         *      registry.get('first') === obj;\r\n         *      => true\r\n         *\r\n         * @example Requesting item with a specific properties.\r\n         *      registry.get('sample = 1, index = test') === obj;\r\n         *      => true\r\n         *      registry.get('sample = 0, index = foo') === obj;\r\n         *      => false\r\n         *\r\n         * @example Declaring search criteria as an object.\r\n         *      registry.get({sample: true}) === obj;\r\n         *      => true;\r\n         *\r\n         * @example Providing custom search handler.\r\n         *      registry.get(function (item) { return item.sample === true; }) === obj;\r\n         *      => true\r\n         *\r\n         * @example Sample asynchronous request declaration.\r\n         *      registry.get('index = test', function (item) {});\r\n         *\r\n         * @example Requesting multiple elements.\r\n         *      registry.set('second', {index: 'test2'});\r\n         *      registry.get(['first', 'second'], function (first, second) {});\r\n         */\r\n        get: function (query, callback) {\r\n            if (typeof callback !== 'function') {\r\n                return find(getItems(this), query);\r\n            }\r\n\r\n            this._addRequest(query, callback);\r\n        },\r\n\r\n        /**\r\n         * Sets provided item to the registry.\r\n         *\r\n         * @param {String} id - Item's identifier.\r\n         * @param {*} item - Item's data.\r\n         * returns {Registry} Chainable.\r\n         */\r\n        set: function (id, item) {\r\n            getItems(this)[id] = item;\r\n\r\n            this._updateRequests();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified item from registry.\r\n         * Note that search query is not applicable.\r\n         *\r\n         * @param {String} id - Item's identifier.\r\n         * @returns {Registry} Chainable.\r\n         */\r\n        remove: function (id) {\r\n            delete getItems(this)[id];\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieves a collection of elements that match\r\n         * provided search criteria.\r\n         *\r\n         * @param {(Object|String|Function)} query - Search query.\r\n         *      See 'get' method for the syntax examples.\r\n         * @returns {Array} Found elements.\r\n         */\r\n        filter: function (query) {\r\n            return find(getItems(this), query, true);\r\n        },\r\n\r\n        /**\r\n         * Checks that at least one element in collection\r\n         * matches provided search criteria.\r\n         *\r\n         * @param {(Object|String|Function)} query - Search query.\r\n         *      See 'get' method for the syntax examples.\r\n         * @returns {Boolean}\r\n         */\r\n        has: function (query) {\r\n            return !!this.get(query);\r\n        },\r\n\r\n        /**\r\n         * Checks that registry contains a provided item.\r\n         *\r\n         * @param {*} item - Item to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        contains: function (item) {\r\n            return _.contains(getItems(this), item);\r\n        },\r\n\r\n        /**\r\n         * Extracts identifier of an item if it's present in registry.\r\n         *\r\n         * @param {*} item - Item whose identifier will be extracted.\r\n         * @returns {String|Undefined}\r\n         */\r\n        indexOf: function (item) {\r\n            return _.findKey(getItems(this), function (elem) {\r\n                return item === elem;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Same as a 'get' method except that it returns\r\n         * a promise object instead of invoking provided callback.\r\n         *\r\n         * @param {(String|Function|Object|Array)} query - Search query.\r\n         *      See 'get' method for the syntax examples.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        promise: function (query) {\r\n            var defer    = $.Deferred(),\r\n                callback = defer.resolve.bind(defer);\r\n\r\n            this.get(query, callback);\r\n\r\n            return defer.promise();\r\n        },\r\n\r\n        /**\r\n         * Creates a wrapper function over the provided search query\r\n         * in order to provide somehow more convenient access to the\r\n         * registry's items.\r\n         *\r\n         * @param {(String|Object|Function)} query - Search criteria.\r\n         *      See 'get' method for the syntax examples.\r\n         * @returns {Function}\r\n         *\r\n         * @example Comparison with a 'get' method on retrieving items.\r\n         *      var module = registry.async('name');\r\n         *\r\n         *      module();\r\n         *      => registry.get('name');\r\n         *\r\n         * @example Asynchronous request.\r\n         *      module(function (component) {});\r\n         *      => registry.get('name', function (component) {});\r\n         *\r\n         * @example Requesting item and invoking it's method with specified parameters.\r\n         *      module('trigger', true);\r\n         *      => registry.get('name', function (component) {\r\n         *          component.trigger(true);\r\n         *      });\r\n         */\r\n        async: function (query) {\r\n            return async.bind(null, query, this);\r\n        },\r\n\r\n        /**\r\n         * Creates new instance of a Registry.\r\n         *\r\n         * @returns {Registry} New instance.\r\n         */\r\n        create: function () {\r\n            return new Registry;\r\n        },\r\n\r\n        /**\r\n         * Adds new request to the queue or resolves it immediately\r\n         * if all of the required items are available.\r\n         *\r\n         * @private\r\n         * @param {(Object|String|Function|Array)} queries - Search criteria.\r\n         *      See 'get' method for the syntax examples.\r\n         * @param {Function} callback - Callback that will be invoked when\r\n         *      all of the requested items are available.\r\n         * @returns {Registry}\r\n         */\r\n        _addRequest: function (queries, callback) {\r\n            var request;\r\n\r\n            if (!Array.isArray(queries)) {\r\n                queries = queries ? [queries] : [];\r\n            }\r\n\r\n            request = {\r\n                queries: queries.map(explode),\r\n                callback: callback\r\n            };\r\n\r\n            this._canResolve(request) ?\r\n                this._resolveRequest(request) :\r\n                getRequests(this).push(request);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates requests list resolving applicable items.\r\n         *\r\n         * @private\r\n         * @returns {Registry} Chainable.\r\n         */\r\n        _updateRequests: function () {\r\n            getRequests(this)\r\n                .filter(this._canResolve, this)\r\n                .forEach(this._resolveRequest, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resolves provided request invoking it's callback\r\n         * with items specified in query parameters.\r\n         *\r\n         * @private\r\n         * @param {Object} request - Request object.\r\n         * @returns {Registry} Chainable.\r\n         */\r\n        _resolveRequest: function (request) {\r\n            var requests = getRequests(this),\r\n                items    = request.queries.map(this.get, this),\r\n                index    = requests.indexOf(request);\r\n\r\n            request.callback.apply(null, items);\r\n\r\n            if (~index) {\r\n                requests.splice(index, 1);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided request can be resolved.\r\n         *\r\n         * @private\r\n         * @param {Object} request - Request object.\r\n         * @returns {Boolean}\r\n         */\r\n        _canResolve: function (request) {\r\n            var queries = request.queries;\r\n\r\n            return queries.every(this.has, this);\r\n        }\r\n    };\r\n\r\n    return new Registry;\r\n});\r\n","Magento_Ui/js/lib/validation/rules.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    './utils',\r\n    'moment',\r\n    'tinycolor',\r\n    'jquery/validate',\r\n    'mage/translate'\r\n], function ($, _, utils, moment, tinycolor) {\r\n    'use strict';\r\n\r\n    /**\r\n     * validate credit card number using mod10\r\n     * @param {String} s\r\n     * @return {Boolean}\r\n     */\r\n    function validateCreditCard(s) {\r\n        // remove non-numerics\r\n        var v = '0123456789',\r\n            w = '',\r\n            i, j, k, m, c, a, x;\r\n\r\n        for (i = 0; i < s.length; i++) {\r\n            x = s.charAt(i);\r\n\r\n            if (v.indexOf(x, 0) !== -1) {\r\n                w += x;\r\n            }\r\n        }\r\n        // validate number\r\n        j = w.length / 2;\r\n        k = Math.floor(j);\r\n        m = Math.ceil(j) - k;\r\n        c = 0;\r\n\r\n        for (i = 0; i < k; i++) {\r\n            a = w.charAt(i * 2 + m) * 2;\r\n            c += a > 9 ? Math.floor(a / 10 + a % 10) : a;\r\n        }\r\n\r\n        for (i = 0; i < k + m; i++) {\r\n            c += w.charAt(i * 2 + 1 - m) * 1;\r\n        }\r\n\r\n        return c % 10 === 0;\r\n    }\r\n\r\n    /**\r\n     * Collection of validation rules including rules from additional-methods.js\r\n     * @type {Object}\r\n     */\r\n    return _.mapObject({\r\n        'min_text_length': [\r\n            function (value, params) {\r\n                return _.isUndefined(value) || value.length === 0 || value.length >= +params;\r\n            },\r\n            $.mage.__('Please enter more or equal than {0} symbols.')\r\n        ],\r\n        'max_text_length': [\r\n            function (value, params) {\r\n                return !_.isUndefined(value) && value.length <= +params;\r\n            },\r\n            $.mage.__('Please enter less or equal than {0} symbols.')\r\n        ],\r\n        'max-words': [\r\n            function (value, params) {\r\n                return utils.isEmpty(value) || utils.stripHtml(value).match(/\\b\\w+\\b/g).length < params;\r\n            },\r\n            $.mage.__('Please enter {0} words or less.')\r\n        ],\r\n        'min-words': [\r\n            function (value, params) {\r\n                return utils.isEmpty(value) || utils.stripHtml(value).match(/\\b\\w+\\b/g).length >= params;\r\n            },\r\n            $.mage.__('Please enter at least {0} words.')\r\n        ],\r\n        'range-words': [\r\n            function (value, params) {\r\n                var match = utils.stripHtml(value).match(/\\b\\w+\\b/g) || [];\r\n\r\n                return utils.isEmpty(value) || match.length >= params[0] &&\r\n                    match.length <= params[1];\r\n            },\r\n            $.mage.__('Please enter between {0} and {1} words.')\r\n        ],\r\n        'letters-with-basic-punc': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^[a-z\\-.,()\\u0027\\u0022\\s]+$/i.test(value);\r\n            },\r\n            $.mage.__('Letters or punctuation only please')\r\n        ],\r\n        'alphanumeric': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^\\w+$/i.test(value);\r\n            },\r\n            $.mage.__('Letters, numbers, spaces or underscores only please')\r\n        ],\r\n        'letters-only': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^[a-z]+$/i.test(value);\r\n            },\r\n            $.mage.__('Letters only please')\r\n        ],\r\n        'no-whitespace': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^\\S+$/i.test(value);\r\n            },\r\n            $.mage.__('No white space please')\r\n        ],\r\n        'no-marginal-whitespace': [\r\n            function (value) {\r\n                return !/^\\s+|\\s+$/i.test(value);\r\n            },\r\n            $.mage.__('No marginal white space please')\r\n        ],\r\n        'zip-range': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^90[2-5]-\\d{2}-\\d{4}$/.test(value);\r\n            },\r\n            $.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')\r\n        ],\r\n        'integer': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^-?\\d+$/.test(value);\r\n            },\r\n            $.mage.__('A positive or negative non-decimal number please')\r\n        ],\r\n        'vinUS': [\r\n            function (value) {\r\n                if (utils.isEmpty(value)) {\r\n                    return true;\r\n                }\r\n\r\n                if (value.length !== 17) {\r\n                    return false;\r\n                }\r\n                var i, n, d, f, cd, cdv,//eslint-disable-line vars-on-top\r\n                    LL = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'J', 'K', 'L', 'M', 'N', 'P', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],//eslint-disable-line max-len\r\n                    VL = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9],\r\n                    FL = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2],\r\n                    rs = 0;\r\n\r\n                for (i = 0; i < 17; i++) {\r\n                    f = FL[i];\r\n                    d = value.slice(i, i + 1);\r\n\r\n                    if (i === 8) {\r\n                        cdv = d;\r\n                    }\r\n\r\n                    if (!isNaN(d)) {\r\n                        d *= f;\r\n                    } else {\r\n                        for (n = 0; n < LL.length; n++) {//eslint-disable-line max-depth\r\n                            if (d.toUpperCase() === LL[n]) {//eslint-disable-line max-depth\r\n                                d = VL[n];\r\n                                d *= f;\r\n\r\n                                if (isNaN(cdv) && n === 8) {//eslint-disable-line max-depth\r\n                                    cdv = LL[n];\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    rs += d;\r\n                }\r\n                cd = rs % 11;\r\n\r\n                if (cd === 10) {\r\n                    cd = 'X';\r\n                }\r\n\r\n                if (cd === cdv) {\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            },\r\n            $.mage.__('The specified vehicle identification number (VIN) is invalid.')\r\n        ],\r\n        'dateITA': [\r\n            function (value) {\r\n                var check = false,\r\n                    re = /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,\r\n                    adata, gg, mm, aaaa, xdata;\r\n\r\n                if (re.test(value)) {\r\n                    adata = value.split('/');\r\n                    gg = parseInt(adata[0], 10);\r\n                    mm = parseInt(adata[1], 10);\r\n                    aaaa = parseInt(adata[2], 10);\r\n                    xdata = new Date(aaaa, mm - 1, gg);\r\n\r\n                    if (xdata.getFullYear() === aaaa &&\r\n                        xdata.getMonth() === mm - 1 &&\r\n                        xdata.getDate() === gg\r\n                    ) {\r\n                        check = true;\r\n                    } else {\r\n                        check = false;\r\n                    }\r\n                } else {\r\n                    check = false;\r\n                }\r\n\r\n                return check;\r\n            },\r\n            $.mage.__('Please enter a correct date')\r\n        ],\r\n        'dateNL': [\r\n            function (value) {\r\n                return /^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(value);\r\n            },\r\n            $.mage.__('Vul hier een geldige datum in.')\r\n        ],\r\n        'time': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^([01]\\d|2[0-3])(:[0-5]\\d){0,2}$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid time, between 00:00 and 23:59')\r\n        ],\r\n        'time12h': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\s[AP]M))$/i.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')\r\n        ],\r\n        'phoneUS': [\r\n            function (value) {\r\n                value = value.replace(/\\s+/g, '');\r\n\r\n                return utils.isEmpty(value) || value.length > 9 &&\r\n                    value.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/);\r\n            },\r\n            $.mage.__('Please specify a valid phone number')\r\n        ],\r\n        'phoneUK': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || value.length > 9 &&\r\n                    value.match(/^(\\(?(0|\\+44)[1-9]{1}\\d{1,4}?\\)?\\s?\\d{3,4}\\s?\\d{3,4})$/);\r\n            },\r\n            $.mage.__('Please specify a valid phone number')\r\n        ],\r\n        'mobileUK': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || value.length > 9 && value.match(/^((0|\\+44)7\\d{3}\\s?\\d{6})$/);\r\n            },\r\n            $.mage.__('Please specify a valid mobile number')\r\n        ],\r\n        'stripped-min-length': [\r\n            function (value, param) {\r\n                return _.isUndefined(value) || value.length === 0 || utils.stripHtml(value).length >= param;\r\n            },\r\n            $.mage.__('Please enter at least {0} characters')\r\n        ],\r\n        'email2': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^((([a-z]|\\d|[!#\\$%&\\u0027\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&\\u0027\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\u0022)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\u0022)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(value);//eslint-disable-line max-len\r\n            },\r\n            $.validator.messages.email\r\n        ],\r\n        'url2': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&\\u0027\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);//eslint-disable-line max-len\r\n            },\r\n            $.validator.messages.url\r\n        ],\r\n        'credit-card-types': [\r\n            function (value, param) {\r\n                var validTypes;\r\n\r\n                if (utils.isEmpty(value)) {\r\n                    return true;\r\n                }\r\n\r\n                if (/[^0-9-]+/.test(value)) {\r\n                    return false;\r\n                }\r\n                value = value.replace(/\\D/g, '');\r\n                validTypes = 0x0000;\r\n\r\n                if (param.mastercard) {\r\n                    validTypes |= 0x0001;\r\n                }\r\n\r\n                if (param.visa) {\r\n                    validTypes |= 0x0002;\r\n                }\r\n\r\n                if (param.amex) {\r\n                    validTypes |= 0x0004;\r\n                }\r\n\r\n                if (param.dinersclub) {\r\n                    validTypes |= 0x0008;\r\n                }\r\n\r\n                if (param.enroute) {\r\n                    validTypes |= 0x0010;\r\n                }\r\n\r\n                if (param.discover) {\r\n                    validTypes |= 0x0020;\r\n                }\r\n\r\n                if (param.jcb) {\r\n                    validTypes |= 0x0040;\r\n                }\r\n\r\n                if (param.unknown) {\r\n                    validTypes |= 0x0080;\r\n                }\r\n\r\n                if (param.all) {\r\n                    validTypes = 0x0001 | 0x0002 | 0x0004 | 0x0008 | 0x0010 | 0x0020 | 0x0040 | 0x0080;\r\n                }\r\n\r\n                if (validTypes & 0x0001 && /^(51|52|53|54|55)/.test(value)) { //mastercard\r\n                    return value.length === 16;\r\n                }\r\n\r\n                if (validTypes & 0x0002 && /^(4)/.test(value)) { //visa\r\n                    return value.length === 16;\r\n                }\r\n\r\n                if (validTypes & 0x0004 && /^(34|37)/.test(value)) { //amex\r\n                    return value.length === 15;\r\n                }\r\n\r\n                if (validTypes & 0x0008 && /^(300|301|302|303|304|305|36|38)/.test(value)) { //dinersclub\r\n                    return value.length === 14;\r\n                }\r\n\r\n                if (validTypes & 0x0010 && /^(2014|2149)/.test(value)) { //enroute\r\n                    return value.length === 15;\r\n                }\r\n\r\n                if (validTypes & 0x0020 && /^(6011)/.test(value)) { //discover\r\n                    return value.length === 16;\r\n                }\r\n\r\n                if (validTypes & 0x0040 && /^(3)/.test(value)) { //jcb\r\n                    return value.length === 16;\r\n                }\r\n\r\n                if (validTypes & 0x0040 && /^(2131|1800)/.test(value)) { //jcb\r\n                    return value.length === 15;\r\n                }\r\n\r\n                if (validTypes & 0x0080) { //unknown\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            },\r\n            $.mage.__('Please enter a valid credit card number.')\r\n        ],\r\n        'ipv4': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);//eslint-disable-line max-len\r\n            },\r\n            $.mage.__('Please enter a valid IP v4 address.')\r\n        ],\r\n        'ipv6': [\r\n            function (value) {\r\n                return utils.isEmpty(value) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);//eslint-disable-line max-len\r\n            },\r\n            $.mage.__('Please enter a valid IP v6 address.')\r\n        ],\r\n        'pattern': [\r\n            function (value, param) {\r\n                return utils.isEmpty(value) || new RegExp(param).test(value);\r\n            },\r\n            $.mage.__('Invalid format.')\r\n        ],\r\n        'validate-no-html-tags': [\r\n            function (value) {\r\n                return !/<(\\/)?\\w+/.test(value);\r\n            },\r\n            $.mage.__('HTML tags are not allowed.')\r\n        ],\r\n        'validate-select': [\r\n            function (value) {\r\n                return value !== 'none' && value != null && value.length !== 0;\r\n            },\r\n            $.mage.__('Please select an option.')\r\n        ],\r\n        'validate-no-empty': [\r\n            function (value) {\r\n                return !utils.isEmpty(value);\r\n            },\r\n            $.mage.__('Empty Value.')\r\n        ],\r\n        'validate-alphanum-with-spaces': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[a-zA-Z0-9 ]+$/.test(value);\r\n            },\r\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')\r\n        ],\r\n        'validate-data': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[A-Za-z]+[A-Za-z0-9_]+$/.test(value);\r\n            },\r\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')//eslint-disable-line max-len\r\n        ],\r\n        'validate-street': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) ||\r\n                    /^[ \\w]{3,}([A-Za-z]\\.)?([ \\w]*\\#\\d+)?(\\r\\n| )[ \\w]{3,}/.test(value);\r\n            },\r\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and \"#\" in this field.')\r\n        ],\r\n        'validate-phoneStrict': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\r\n        ],\r\n        'validate-phoneLax': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) ||\r\n                    /^((\\d[\\-. ]?)?((\\(\\d{3}\\))|\\d{3}))?[\\-. ]?\\d{3}[\\-. ]?\\d{4}$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\r\n        ],\r\n        'validate-fax': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')\r\n        ],\r\n        'validate-email': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i.test(value);//eslint-disable-line max-len\r\n            },\r\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\r\n        ],\r\n        'validate-emailSender': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[\\S ]+$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\r\n        ],\r\n        'validate-password': [\r\n            function (value) {\r\n                var pass;\r\n\r\n                if (value == null) {\r\n                    return false;\r\n                }\r\n\r\n                pass = value.trim();\r\n\r\n                if (!pass.length) {\r\n                    return true;\r\n                }\r\n\r\n                return !(pass.length > 0 && pass.length < 6);\r\n            },\r\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\r\n        ],\r\n        'validate-admin-password': [\r\n            function (value) {\r\n                var pass;\r\n\r\n                if (value == null) {\r\n                    return false;\r\n                }\r\n\r\n                pass = value.trim();\r\n\r\n                if (pass.length === 0) {\r\n                    return true;\r\n                }\r\n\r\n                if (!/[a-z]/i.test(value) || !/[0-9]/.test(value)) {\r\n                    return false;\r\n                }\r\n\r\n                if (pass.length < 7) {\r\n                    return false;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            $.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')\r\n        ],\r\n        'validate-customer-password': [\r\n            function (v, elm) {\r\n                var validator = this,\r\n                    counter = 0,\r\n                    passwordMinLength = $(elm).data('password-min-length'),\r\n                    passwordMinCharacterSets = $(elm).data('password-min-character-sets'),\r\n                    pass = v.trim(),\r\n                    result = pass.length >= passwordMinLength;\r\n\r\n                if (result === false) {\r\n                    validator.passwordErrorMessage = $.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1', passwordMinLength);//eslint-disable-line max-len\r\n\r\n                    return result;\r\n                }\r\n\r\n                if (pass.match(/\\d+/)) {\r\n                    counter++;\r\n                }\r\n\r\n                if (pass.match(/[a-z]+/)) {\r\n                    counter++;\r\n                }\r\n\r\n                if (pass.match(/[A-Z]+/)) {\r\n                    counter++;\r\n                }\r\n\r\n                if (pass.match(/[^a-zA-Z0-9]+/)) {\r\n                    counter++;\r\n                }\r\n\r\n                if (counter < passwordMinCharacterSets) {\r\n                    result = false;\r\n                    validator.passwordErrorMessage = $.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1', passwordMinCharacterSets);//eslint-disable-line max-len\r\n                }\r\n\r\n                return result;\r\n            }, function () {\r\n                return this.passwordErrorMessage;\r\n            }\r\n        ],\r\n        'validate-url': [\r\n            function (value) {\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n                value = (value || '').replace(/^\\s+/, '').replace(/\\s+$/, '');\r\n\r\n                return (/^(http|https|ftp):\\/\\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\\d+))?(\\/[A-Z0-9~](([A-Z0-9_~-]|\\.)*[A-Z0-9~]|))*\\/?(.*)?$/i).test(value);//eslint-disable-line max-len\r\n\r\n            },\r\n            $.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')\r\n        ],\r\n        'validate-clean-url': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^(http|https|ftp):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(value) || /^(www)((\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(value);//eslint-disable-line max-len\r\n\r\n            },\r\n            $.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')\r\n        ],\r\n        'validate-xml-identifier': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[A-Z][A-Z0-9_\\/-]*$/i.test(value);\r\n\r\n            },\r\n            $.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')\r\n        ],\r\n        'validate-ssn': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^\\d{3}-?\\d{2}-?\\d{4}$/.test(value);\r\n\r\n            },\r\n            $.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')\r\n        ],\r\n        'validate-zip-us': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(value);\r\n\r\n            },\r\n            $.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')\r\n        ],\r\n        'validate-date-au': [\r\n            function (value) {\r\n                var regex = /^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/,\r\n                    d;\r\n\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n\r\n                if (utils.isEmpty(value) || !regex.test(value)) {\r\n                    return false;\r\n                }\r\n                d = new Date(value.replace(regex, '$2/$1/$3'));\r\n\r\n                return parseInt(RegExp.$2, 10) === 1 + d.getMonth() &&\r\n                    parseInt(RegExp.$1, 10) === d.getDate() &&\r\n                    parseInt(RegExp.$3, 10) === d.getFullYear();\r\n\r\n            },\r\n            $.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')\r\n        ],\r\n        'validate-currency-dollar': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^\\$?\\-?([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}\\d*(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$/.test(value);//eslint-disable-line max-len\r\n\r\n            },\r\n            $.mage.__('Please enter a valid $ amount. For example $100.00.')\r\n        ],\r\n        'validate-not-negative-number': [\r\n            function (value) {\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n                value = utils.parseNumber(value);\r\n\r\n                return !isNaN(value) && value >= 0;\r\n\r\n            },\r\n            $.mage.__('Please enter a number 0 or greater in this field.')\r\n        ],\r\n        // validate-not-negative-number should be replaced in all places with this one and then removed\r\n        'validate-zero-or-greater': [\r\n            function (value) {\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n                value = utils.parseNumber(value);\r\n\r\n                return !isNaN(value) && value >= 0;\r\n            },\r\n            $.mage.__('Please enter a number 0 or greater in this field.')\r\n        ],\r\n        'validate-greater-than-zero': [\r\n            function (value) {\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n                value = utils.parseNumber(value);\r\n\r\n                return !isNaN(value) && value > 0;\r\n            },\r\n            $.mage.__('Please enter a number greater than 0 in this field.')\r\n        ],\r\n        'validate-css-length': [\r\n            function (value) {\r\n                if (value !== '') {\r\n                    return (/^[0-9]*\\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(value);\r\n                }\r\n\r\n                return true;\r\n            },\r\n            $.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')\r\n        ],\r\n        'validate-number': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) ||\r\n                    !isNaN(utils.parseNumber(value)) &&\r\n                    /^\\s*-?\\d*(?:[.,|'|\\s]\\d+)*(?:[.,|'|\\s]\\d{2})?-?\\s*$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid number in this field.')\r\n        ],\r\n        'validate-integer': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || !isNaN(utils.parseNumber(value)) && /^\\s*-?\\d*\\s*$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid integer in this field.')\r\n        ],\r\n        'validate-number-range': [\r\n            function (value, param) {\r\n                var numValue, dataAttrRange, result, range, m;\r\n\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n\r\n                numValue = utils.parseNumber(value);\r\n\r\n                if (isNaN(numValue)) {\r\n                    return false;\r\n                }\r\n\r\n                dataAttrRange = /^(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;\r\n                result = true;\r\n                range = param;\r\n\r\n                if (range) {\r\n                    m = dataAttrRange.exec(range);\r\n\r\n                    if (m) {\r\n                        result = result && utils.isBetween(numValue, m[1], m[2]);\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            },\r\n            $.mage.__('The value is not within the specified range.')\r\n        ],\r\n        'validate-positive-percent-decimal': [\r\n            function (value) {\r\n                var numValue;\r\n\r\n                if (utils.isEmptyNoTrim(value) || !/^\\s*-?\\d*(\\.\\d*)?\\s*$/.test(value)) {\r\n                    return false;\r\n                }\r\n\r\n                numValue = utils.parseNumber(value);\r\n\r\n                if (isNaN(numValue)) {\r\n                    return false;\r\n                }\r\n\r\n                return utils.isBetween(numValue, 0.01, 100);\r\n            },\r\n            $.mage.__('Please enter a valid percentage discount value greater than 0.')\r\n        ],\r\n        'validate-digits': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || !/[^\\d]/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid number in this field.')\r\n        ],\r\n        'validate-digits-range': [\r\n            function (value, param) {\r\n                var numValue, dataAttrRange, result, range, m;\r\n\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n\r\n                numValue = utils.parseNumber(value);\r\n\r\n                if (isNaN(numValue)) {\r\n                    return false;\r\n                }\r\n\r\n                dataAttrRange = /^(-?\\d+)?-(-?\\d+)?$/;\r\n                result = true;\r\n                range = param;\r\n\r\n                if (range) {\r\n                    m = dataAttrRange.exec(range);\r\n\r\n                    if (m) {\r\n                        result = result && utils.isBetween(numValue, m[1], m[2]);\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            },\r\n            $.mage.__('The value is not within the specified range.')\r\n        ],\r\n        'validate-range': [\r\n            function (value) {\r\n                var minValue, maxValue, ranges;\r\n\r\n                if (utils.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                } else if ($.validator.methods['validate-digits'] && $.validator.methods['validate-digits'](value)) {\r\n                    minValue = maxValue = utils.parseNumber(value);\r\n                } else {\r\n                    ranges = /^(-?\\d+)?-(-?\\d+)?$/.exec(value);\r\n\r\n                    if (ranges) {\r\n                        minValue = utils.parseNumber(ranges[1]);\r\n                        maxValue = utils.parseNumber(ranges[2]);\r\n\r\n                        if (minValue > maxValue) {//eslint-disable-line max-depth\r\n                            return false;\r\n                        }\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n            },\r\n            $.mage.__('The value is not within the specified range.')\r\n        ],\r\n        'validate-alpha': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[a-zA-Z]+$/.test(value);\r\n            },\r\n            $.mage.__('Please use letters only (a-z or A-Z) in this field.')\r\n        ],\r\n        'validate-code': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[a-z]+[a-z0-9_]+$/.test(value);\r\n            },\r\n            $.mage.__('Please use only lowercase letters (a-z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')//eslint-disable-line max-len\r\n        ],\r\n        'validate-alphanum': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[a-zA-Z0-9]+$/.test(value);\r\n            },\r\n            $.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.')//eslint-disable-line max-len\r\n        ],\r\n        'validate-not-number-first': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[^0-9-\\.].*$/.test(value.trim());\r\n            },\r\n            $.mage.__('First character must be letter.')\r\n        ],\r\n        'validate-date': [\r\n            function (value, params, additionalParams) {\r\n                var test = moment(value, additionalParams.dateFormat);\r\n\r\n                return utils.isEmptyNoTrim(value) || test.isValid();\r\n            },\r\n            $.mage.__('Please enter a valid date.')\r\n        ],\r\n        'validate-date-range': [\r\n            function (value, params) {\r\n                var fromDate = $('input[name*=\"' + params + '\"]').val();\r\n\r\n                return moment.utc(value).unix() >= moment.utc(fromDate).unix() || isNaN(moment.utc(value).unix());\r\n            },\r\n            $.mage.__('Make sure the To Date is later than or the same as the From Date.')\r\n        ],\r\n        'validate-identifier': [\r\n            function (value) {\r\n                return utils.isEmptyNoTrim(value) || /^[a-z0-9][a-z0-9_\\/-]+(\\.[a-z0-9_-]+)?$/.test(value);\r\n            },\r\n            $.mage.__('Please enter a valid URL Key (Ex: \"example-page\", \"example-page.html\" or \"anotherlevel/example-page\").')//eslint-disable-line max-len\r\n        ],\r\n        'validate-zip-international': [\r\n\r\n            /*function(v) {\r\n            // @TODO: Cleanup\r\n            return Validation.get('IsEmpty').test(v) || /(^[A-z0-9]{2,10}([\\s]{0,1}|[\\-]{0,1})[A-z0-9]{2,10}$)/.test(v);\r\n            }*/\r\n            function () {\r\n                return true;\r\n            },\r\n            $.mage.__('Please enter a valid zip code.')\r\n        ],\r\n        'validate-state': [\r\n            function (value) {\r\n                return value !== 0;\r\n            },\r\n            $.mage.__('Please select State/Province.')\r\n        ],\r\n        'less-than-equals-to': [\r\n            function (value, params) {\r\n                value = utils.parseNumber(value);\r\n\r\n                if (isNaN(parseFloat(params))) {\r\n                    params = $(params).val();\r\n                }\r\n\r\n                params = utils.parseNumber(params);\r\n\r\n                if (!isNaN(params) && !isNaN(value)) {\r\n                    this.lteToVal = params;\r\n\r\n                    return value <= params;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            function () {\r\n                return $.mage.__('Please enter a value less than or equal to %s.').replace('%s', this.lteToVal);\r\n            }\r\n        ],\r\n        'greater-than-equals-to': [\r\n            function (value, params) {\r\n                value = utils.parseNumber(value);\r\n\r\n                if (isNaN(parseFloat(params))) {\r\n                    params = $(params).val();\r\n                }\r\n\r\n                params = utils.parseNumber(params);\r\n\r\n                if (!isNaN(params) && !isNaN(value)) {\r\n                    this.gteToVal = params;\r\n\r\n                    return value >= params;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            function () {\r\n                return $.mage.__('Please enter a value greater than or equal to %s.').replace('%s', this.gteToVal);\r\n            }\r\n        ],\r\n        'validate-emails': [\r\n            function (value) {\r\n                var validRegexp, emails, i;\r\n\r\n                if (utils.isEmpty(value)) {\r\n                    return true;\r\n                }\r\n                validRegexp = /^[a-z0-9\\._-]{1,30}@([a-z0-9_-]{1,30}\\.){1,5}[a-z]{2,4}$/i;\r\n                emails = value.split(/[\\s\\n\\,]+/g);\r\n\r\n                for (i = 0; i < emails.length; i++) {\r\n                    if (!validRegexp.test(emails[i].strip())) {\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                return true;\r\n            },\r\n            $.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.')//eslint-disable-line max-len\r\n        ],\r\n        'validate-cc-number': [\r\n\r\n            /**\r\n             * Validate credit card number based on mod 10.\r\n             *\r\n             * @param {String} value - credit card number\r\n             * @return {Boolean}\r\n             */\r\n            function (value) {\r\n                if (value) {\r\n                    return validateCreditCard(value);\r\n                }\r\n\r\n                return true;\r\n            },\r\n            $.mage.__('Please enter a valid credit card number.')\r\n        ],\r\n        'validate-cc-ukss': [\r\n\r\n            /**\r\n             * Validate Switch/Solo/Maestro issue number and start date is filled.\r\n             *\r\n             * @param {String} value - input field value\r\n             * @return {*}\r\n             */\r\n            function (value) {\r\n                return value;\r\n            },\r\n            $.mage.__('Please enter issue number or start date for switch/solo card type.')\r\n        ],\r\n        'required-entry': [\r\n            function (value) {\r\n                return !utils.isEmpty(value);\r\n            },\r\n            $.mage.__('This is a required field.')\r\n        ],\r\n        'checked': [\r\n            function (value) {\r\n                return value;\r\n            },\r\n            $.mage.__('This is a required field.')\r\n        ],\r\n        'not-negative-amount': [\r\n            function (value) {\r\n                if (value.length) {\r\n                    return (/^\\s*\\d+([,.]\\d+)*\\s*%?\\s*$/).test(value);\r\n                }\r\n\r\n                return true;\r\n            },\r\n            $.mage.__('Please enter positive number in this field.')\r\n        ],\r\n        'validate-per-page-value-list': [\r\n            function (value) {\r\n                var isValid = true,\r\n                    values = value.split(','),\r\n                    i;\r\n\r\n                if (utils.isEmpty(value)) {\r\n                    return isValid;\r\n                }\r\n\r\n                for (i = 0; i < values.length; i++) {\r\n                    if (!/^[0-9]+$/.test(values[i])) {\r\n                        isValid = false;\r\n                    }\r\n                }\r\n\r\n                return isValid;\r\n            },\r\n            $.mage.__('Please enter a valid value, ex: 10,20,30')\r\n        ],\r\n        'validate-new-password': [\r\n            function (value) {\r\n                if ($.validator.methods['validate-password'] && !$.validator.methods['validate-password'](value)) {\r\n                    return false;\r\n                }\r\n\r\n                if (utils.isEmpty(value) && value !== '') {\r\n                    return false;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\r\n        ],\r\n        'validate-item-quantity': [\r\n            function (value, params) {\r\n                var validator = this,\r\n                    result = false,\r\n                    // obtain values for validation\r\n                    qty = utils.parseNumber(value),\r\n                    isMinAllowedValid = typeof params.minAllowed === 'undefined' ||\r\n                        qty >= utils.parseNumber(params.minAllowed),\r\n                    isMaxAllowedValid = typeof params.maxAllowed === 'undefined' ||\r\n                        qty <= utils.parseNumber(params.maxAllowed),\r\n                    isQtyIncrementsValid = typeof params.qtyIncrements === 'undefined' ||\r\n                        qty % utils.parseNumber(params.qtyIncrements) === 0;\r\n\r\n                result = qty > 0;\r\n\r\n                if (result === false) {\r\n                    validator.itemQtyErrorMessage = $.mage.__('Please enter a quantity greater than 0.');//eslint-disable-line max-len\r\n\r\n                    return result;\r\n                }\r\n\r\n                result = isMinAllowedValid;\r\n\r\n                if (result === false) {\r\n                    validator.itemQtyErrorMessage = $.mage.__('The fewest you may purchase is %1.').replace('%1', params.minAllowed);//eslint-disable-line max-len\r\n\r\n                    return result;\r\n                }\r\n\r\n                result = isMaxAllowedValid;\r\n\r\n                if (result === false) {\r\n                    validator.itemQtyErrorMessage = $.mage.__('The maximum you may purchase is %1.').replace('%1', params.maxAllowed);//eslint-disable-line max-len\r\n\r\n                    return result;\r\n                }\r\n\r\n                result = isQtyIncrementsValid;\r\n\r\n                if (result === false) {\r\n                    validator.itemQtyErrorMessage = $.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1', params.qtyIncrements);//eslint-disable-line max-len\r\n\r\n                    return result;\r\n                }\r\n\r\n                return result;\r\n            }, function () {\r\n                return this.itemQtyErrorMessage;\r\n            }\r\n        ],\r\n        'equalTo': [\r\n            function (value, param) {\r\n                return value === $(param).val();\r\n            },\r\n            $.validator.messages.equalTo\r\n        ],\r\n        'validate-file-type': [\r\n            function (name, types) {\r\n                var extension = name.split('.').pop().toLowerCase();\r\n\r\n                if (types && typeof types === 'string') {\r\n                    types = types.split(' ');\r\n                }\r\n\r\n                return !types || !types.length || ~types.indexOf(extension);\r\n            },\r\n            $.mage.__('We don\\'t recognize or support this file extension type.')\r\n        ],\r\n        'validate-max-size': [\r\n            function (size, maxSize) {\r\n                return maxSize === false || size < maxSize;\r\n            },\r\n            $.mage.__('File you are trying to upload exceeds maximum file size limit.')\r\n        ],\r\n        'validate-if-tag-script-exist': [\r\n            function (value) {\r\n                return !value || (/<script\\b[^>]*>([\\s\\S]*?)<\\/script>$/ig).test(value);\r\n            },\r\n            $.mage.__('Please use tag SCRIPT with SRC attribute or with proper content to include JavaScript to the document.')//eslint-disable-line max-len\r\n        ],\r\n        'date_range_min': [\r\n            function (value, minValue, params) {\r\n                return moment.utc(value, params.dateFormat).unix() >= minValue;\r\n            },\r\n            $.mage.__('The date is not within the specified range.')\r\n        ],\r\n        'date_range_max': [\r\n            function (value, maxValue, params) {\r\n                return moment.utc(value, params.dateFormat).unix() <= maxValue;\r\n            },\r\n            $.mage.__('The date is not within the specified range.')\r\n        ],\r\n        'validate-color': [\r\n            function (value) {\r\n                if (value === '') {\r\n                    return true;\r\n                }\r\n\r\n                return tinycolor(value).isValid();\r\n            },\r\n            $.mage.__('Wrong color format. Please specify color in HEX, RGBa, HSVa, HSLa or use color name.')\r\n        ],\r\n        'blacklist-url': [\r\n            function (value, param) {\r\n                return new RegExp(param).test(value);\r\n            },\r\n            $.mage.__('This link is not allowed.')\r\n        ],\r\n        'validate-dob': [\r\n            function (value, param, params) {\r\n                if (value === '') {\r\n                    return true;\r\n                }\r\n\r\n                return moment.utc(value, params.dateFormat).isSameOrBefore(moment.utc());\r\n            },\r\n            $.mage.__('The Date of Birth should not be greater than today.')\r\n        ]\r\n    }, function (data) {\r\n        return {\r\n            handler: data[0],\r\n            message: data[1]\r\n        };\r\n    });\r\n});\r\n","Magento_Ui/js/lib/validation/utils.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine(function () {\r\n    'use strict';\r\n\r\n    var utils = {\r\n        /**\r\n         * Check if string is empty with trim.\r\n         *\r\n         * @param {String} value\r\n         * @return {Boolean}\r\n         */\r\n        isEmpty: function (value) {\r\n            return value === '' || value == null || value.length === 0 || /^\\s+$/.test(value);\r\n        },\r\n\r\n        /**\r\n         * Check if string is empty no trim.\r\n         *\r\n         * @param {String} value\r\n         * @return {Boolean}\r\n         */\r\n        isEmptyNoTrim: function (value) {\r\n            return value === '' || value == null || value.length === 0;\r\n        },\r\n\r\n        /**\r\n         * Checks if {value} is between numbers {from} and {to}.\r\n         *\r\n         * @param {String} value\r\n         * @param {String} from\r\n         * @param {String} to\r\n         * @return {Boolean}\r\n         */\r\n        isBetween: function (value, from, to) {\r\n            return (from === null || from === '' || value >= utils.parseNumber(from)) &&\r\n                   (to === null || to === '' || value <= utils.parseNumber(to));\r\n        },\r\n\r\n        /**\r\n         * Parse price string.\r\n         *\r\n         * @param {String} value\r\n         * @return {Number}\r\n         */\r\n        parseNumber: function (value) {\r\n            var isDot, isComa;\r\n\r\n            if (typeof value !== 'string') {\r\n                return parseFloat(value);\r\n            }\r\n            isDot = value.indexOf('.');\r\n            isComa = value.indexOf(',');\r\n\r\n            if (isDot !== -1 && isComa !== -1) {\r\n                if (isComa > isDot) {\r\n                    value = value.replace('.', '').replace(',', '.');\r\n                } else {\r\n                    value = value.replace(',', '');\r\n                }\r\n            } else if (isComa !== -1) {\r\n                value = value.replace(',', '.');\r\n            }\r\n\r\n            return parseFloat(value);\r\n        },\r\n\r\n        /**\r\n         * Removes HTML tags and space characters, numbers and punctuation.\r\n         *\r\n         * @param {String} value -  Value being stripped.\r\n         * @return {String}\r\n         */\r\n        stripHtml: function (value) {\r\n            return value.replace(/<.[^<>]*?>/g, ' ').replace(/&nbsp;|&#160;/gi, ' ')\r\n                .replace(/[0-9.(),;:!?%#$'\"_+=\\/-]*/g, '');\r\n        }\r\n    };\r\n\r\n    return utils;\r\n});\r\n","Magento_Ui/js/lib/validation/validator.js":"/*\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './rules'\r\n], function (_, rulesList) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Validates provided value be the specified rule.\r\n     *\r\n     * @param {String} id - Rule identifier.\r\n     * @param {*} value - Value to be checked.\r\n     * @param {*} [params]\r\n     * @param {*} additionalParams - additional validation params set by method caller\r\n     * @returns {Object}\r\n     */\r\n    function validate(id, value, params, additionalParams) {\r\n        var rule,\r\n            message,\r\n            valid,\r\n            result = {\r\n                rule: id,\r\n                passed: true,\r\n                message: ''\r\n            };\r\n\r\n        if (_.isObject(params)) {\r\n            message = params.message || '';\r\n        }\r\n\r\n        if (!rulesList[id]) {\r\n            return result;\r\n        }\r\n\r\n        rule    = rulesList[id];\r\n        message = message || rule.message;\r\n        valid   = rule.handler(value, params, additionalParams);\r\n\r\n        if (!valid) {\r\n            params = Array.isArray(params) ?\r\n                params :\r\n                [params];\r\n\r\n            if (typeof message === 'function') {\r\n                message = message.call(rule);\r\n            }\r\n\r\n            message = params.reduce(function (msg, param, idx) {\r\n                return msg.replace(new RegExp('\\\\{' + idx + '\\\\}', 'g'), param);\r\n            }, message);\r\n\r\n            result.passed = false;\r\n            result.message = message;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Validates provided value by a specified set of rules.\r\n     *\r\n     * @param {(String|Object)} rules - One or many validation rules.\r\n     * @param {*} value - Value to be checked.\r\n     * @param {*} additionalParams - additional validation params set by method caller\r\n     * @returns {Object}\r\n     */\r\n    function validator(rules, value, additionalParams) {\r\n        var result;\r\n\r\n        if (typeof rules === 'object') {\r\n            result = {\r\n                passed: true\r\n            };\r\n\r\n            _.every(rules, function (ruleParams, id) {\r\n                if (ruleParams.validate || ruleParams !== false || additionalParams) {\r\n                    result = validate(id, value, ruleParams, additionalParams);\r\n\r\n                    return result.passed;\r\n                }\r\n\r\n                return true;\r\n            });\r\n\r\n            return result;\r\n        }\r\n\r\n        return validate.apply(null, arguments);\r\n    }\r\n\r\n    /**\r\n     * Adds new validation rule.\r\n     *\r\n     * @param {String} id - Rule identifier.\r\n     * @param {Function} handler - Validation function.\r\n     * @param {String} message - Error message.\r\n     */\r\n    validator.addRule = function (id, handler, message) {\r\n        rulesList[id] = {\r\n            handler: handler,\r\n            message: message\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Returns rule object found by provided identifier.\r\n     *\r\n     * @param {String} id - Rule identifier.\r\n     * @returns {Object}\r\n     */\r\n    validator.getRule = function (id) {\r\n        return rulesList[id];\r\n    };\r\n\r\n    return validator;\r\n});\r\n","Magento_Ui/js/lib/view/utils/async.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    'uiRegistry',\r\n    './dom-observer',\r\n    'Magento_Ui/js/lib/knockout/extender/bound-nodes',\r\n    './bindings'\r\n], function (ko, $, _, registry, domObserver, boundedNodes) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Checks if provided value is a dom element.\r\n     *\r\n     * @param {*} node - Value to be checked.\r\n     * @returns {Boolean}\r\n     */\r\n    function isDomElement(node) {\r\n        return typeof node === 'object' && node.tagName && node.nodeType;\r\n    }\r\n\r\n    /**\r\n     * Parses provided string and extracts\r\n     * component, context and selector data from it.\r\n     *\r\n     * @param {String} str - String to be processed.\r\n     * @returns {Object} Data retrieved from string.\r\n     *\r\n     * @example Sample format.\r\n     *      '{{component}}:{{ctx}} -> {{selector}}'\r\n     *\r\n     *      component - Name of component.\r\n     *      ctx - Selector of the root node upon which component is binded.\r\n     *      selector - Selector of DOM elements located\r\n     *          inside of a previously specified context.\r\n     */\r\n    function parseSelector(str) {\r\n        var data    = str.trim().split('->'),\r\n            result  = {},\r\n            componentData;\r\n\r\n        if (data.length === 1) {\r\n            if (!~data[0].indexOf(':')) {\r\n                result.selector = data[0];\r\n            } else {\r\n                componentData = data[0];\r\n            }\r\n        } else {\r\n            componentData   = data[0];\r\n            result.selector = data[1];\r\n        }\r\n\r\n        if (componentData) {\r\n            componentData = componentData.split(':');\r\n\r\n            result.component = componentData[0];\r\n            result.ctx = componentData[1];\r\n        }\r\n\r\n        _.each(result, function (value, key) {\r\n            result[key] = value.trim();\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Internal method used to normalize argumnets passed\r\n     * to 'async' module methods.\r\n     *\r\n     * @param {(String|Object)} selector\r\n     * @param {(HTMLElement|Object|String)} [ctx]\r\n     * @returns {Object}\r\n     */\r\n    function parseData(selector, ctx) {\r\n        var data = {};\r\n\r\n        if (arguments.length === 2) {\r\n            data.selector = selector;\r\n\r\n            if (isDomElement(ctx)) {\r\n                data.ctx = ctx;\r\n            } else {\r\n                data.component = ctx;\r\n                data.ctx = '*';\r\n            }\r\n        } else {\r\n            data = _.isString(selector) ?\r\n                parseSelector(selector) :\r\n                selector;\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Creates promise that will be resolved\r\n     * when requested component is registred.\r\n     *\r\n     * @param {String} name - Name of component.\r\n     * @returns {jQueryPromise}\r\n     */\r\n    function waitComponent(name) {\r\n        var deffer = $.Deferred();\r\n\r\n        if (_.isString(name)) {\r\n            registry.get(name, function (component) {\r\n                deffer.resolve(component);\r\n            });\r\n        } else {\r\n            deffer.resolve(name);\r\n        }\r\n\r\n        return deffer.promise();\r\n    }\r\n\r\n    /**\r\n     * Creates listener for the nodes binded to provided component.\r\n     *\r\n     * @param {Object} data - Listener data.\r\n     * @param {Object} component - Associated with nodes component.\r\n     */\r\n    function setRootListener(data, component) {\r\n        boundedNodes.get(component, function (root) {\r\n            if (!$(root).is(data.ctx || '*')) {\r\n                return;\r\n            }\r\n\r\n            data.selector ?\r\n                domObserver.get(data.selector, data.fn, root) :\r\n                data.fn(root);\r\n        });\r\n    }\r\n\r\n    /*eslint-disable no-unused-vars*/\r\n    /**\r\n     * Sets listener for the appearance of elements which\r\n     * matches specified selector data.\r\n     *\r\n     * @param {(String|Object)} selector - Valid css selector or a string\r\n     *      in format acceptable by 'parseSelector' method or an object with\r\n     *      'component', 'selector' and 'ctx' properties.\r\n     * @param {(HTMLElement|Object|String)} [ctx] - Optional context parameter\r\n     *      which might be a DOM element, component instance or components' name.\r\n     * @param {Function} fn - Callback that will be invoked\r\n     *      when required DOM element appears.\r\n     *\r\n     * @example\r\n     *      Creating listener of the 'span' nodes appearance,\r\n     *      located inside of 'div' nodes, which are binded to 'cms_page_listing' component:\r\n     *\r\n     *      $.async('cms_page_listing:div -> span', function (node) {});\r\n     *\r\n     * @example Another syntaxes of the previous example.\r\n     *      $.async({\r\n     *          component: 'cms_page_listing',\r\n     *          ctx: 'div',\r\n     *          selector: 'span'\r\n     *       }, function (node) {});\r\n     *\r\n     * @example Listens for appearance of any child node inside of specified component.\r\n     *      $.async('> *', 'cms_page_lsiting', function (node) {});\r\n     *\r\n     * @example Listens for appearance of 'span' nodes inside of specific context.\r\n     *      $.async('span', document.getElementById('test'), function (node) {});\r\n     */\r\n    $.async = function (selector, ctx, fn) {\r\n        var args = _.toArray(arguments),\r\n            data = parseData.apply(null, _.initial(args));\r\n\r\n        data.fn = _.last(args);\r\n\r\n        if (data.component) {\r\n            waitComponent(data.component)\r\n                .then(setRootListener.bind(null, data));\r\n        } else {\r\n            domObserver.get(data.selector, data.fn, data.ctx);\r\n        }\r\n    };\r\n\r\n    /*eslint-enable no-unused-vars*/\r\n\r\n    _.extend($.async, {\r\n\r\n        /*eslint-disable no-unused-vars*/\r\n        /**\r\n         * Returns collection of elements found by provided selector data.\r\n         *\r\n         * @param {(String|Object)} selector - See 'async' definition.\r\n         * @param {(HTMLElement|Object|String)} [ctx] - See 'async' definition.\r\n         * @returns {Array} An array of DOM elements.\r\n         */\r\n        get: function (selector, ctx) {\r\n            var data        = parseData.apply(null, arguments),\r\n                component   = data.component,\r\n                nodes;\r\n\r\n            if (!component) {\r\n                return $(data.selector, data.ctx).toArray();\r\n            } else if (_.isString(component)) {\r\n                component = registry.get(component);\r\n            }\r\n\r\n            if (!component) {\r\n                return [];\r\n            }\r\n\r\n            nodes = boundedNodes.get(component);\r\n            nodes = $(nodes).filter(data.ctx).toArray();\r\n\r\n            return data.selector ?\r\n                $(data.selector, nodes).toArray() :\r\n                nodes;\r\n        },\r\n\r\n        /*eslint-enable no-unused-vars*/\r\n\r\n        /**\r\n         * Sets removal listener of the specified nodes.\r\n         *\r\n         * @param {(HTMLElement|Array|ArrayLike)} nodes - Nodes whose removal to track.\r\n         * @param {Function} fn - Callback that will be invoked when node is removed.\r\n         */\r\n        remove: function (nodes, fn) {\r\n            domObserver.remove(nodes, fn);\r\n        },\r\n\r\n        parseSelector: parseSelector\r\n    });\r\n\r\n    return $;\r\n});\r\n","Magento_Ui/js/lib/view/utils/bindings.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore'\r\n], function (ko, $, _) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Checks if provided  value is a dom element.\r\n     *\r\n     * @param {*} node - Value to be checked.\r\n     * @returns {Boolean}\r\n     */\r\n    function isDomElement(node) {\r\n        return typeof node === 'object' && node.tagName && node.nodeType;\r\n    }\r\n\r\n    /**\r\n     * Removes from the provided array all non-root nodes located inside\r\n     * of the comment element as long as the closing comment tags.\r\n     *\r\n     * @param {(Array|ArrayLike)} nodes - An array of nodes to be processed.\r\n     * @returns {Array}\r\n     */\r\n    function normalize(nodes) {\r\n        var result;\r\n\r\n        nodes   = _.toArray(nodes);\r\n        result  = nodes.slice();\r\n\r\n        nodes.forEach(function (node) {\r\n            if (node.nodeType === 8) {\r\n                result = !ko.virtualElements.hasBindingValue(node) ?\r\n                    _.without(result, node) :\r\n                    _.difference(result, ko.virtualElements.childNodes(node));\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Extends binding context of each item in the collection.\r\n     *\r\n     * @param {...Object} extenders - Multiple extender objects to be applied to the context.\r\n     * @returns {jQueryCollection} Chainable.\r\n     */\r\n    $.fn.extendCtx = function () {\r\n        var nodes       = normalize(this),\r\n            extenders   = _.toArray(arguments);\r\n\r\n        nodes.forEach(function (node) {\r\n            var ctx  = ko.contextFor(node),\r\n                data = [ctx].concat(extenders);\r\n\r\n            _.extend.apply(_, data);\r\n        });\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Evaluates bindings specified in each DOM element of collection.\r\n     *\r\n     * @param {(HTMLElement|Object)} [ctx] - Context to use for bindings evaluation.\r\n     *      If not specified then current context of a collections' item will be used.\r\n     * @returns {jQueryCollection} Chainable.\r\n     */\r\n    $.fn.applyBindings = function (ctx) {\r\n        var nodes = normalize(this),\r\n            nodeCtx;\r\n\r\n        if (isDomElement(ctx)) {\r\n            ctx = ko.contextFor(ctx);\r\n        }\r\n\r\n        nodes.forEach(function (node) {\r\n            nodeCtx = ctx || ko.contextFor(node);\r\n\r\n            ko.applyBindings(nodeCtx, node);\r\n        });\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds specified bindings to each DOM element in\r\n     * collection and evaluates them with provided context.\r\n     *\r\n     * @param {(Object|Function)} data - Either bindings object or a function\r\n     *      which returns bindings data for each element in collection.\r\n     * @param {(HTMLElement|Object)} [ctx] - Context to use for bindings evaluation.\r\n     *      If not specified then current context of a collections' item will be used.\r\n     * @returns {jQueryCollection} Chainable.\r\n     */\r\n    $.fn.bindings = function (data, ctx) {\r\n        var nodes    = normalize(this),\r\n            bindings = data,\r\n            nodeCtx;\r\n\r\n        if (isDomElement(ctx)) {\r\n            ctx = ko.contextFor(ctx);\r\n        }\r\n\r\n        nodes.forEach(function (node) {\r\n            nodeCtx = ctx || ko.contextFor(node);\r\n\r\n            if (_.isFunction(data)) {\r\n                bindings = data(nodeCtx, node);\r\n            }\r\n\r\n            ko.applyBindingsToNode(node, bindings, nodeCtx);\r\n        });\r\n\r\n        return this;\r\n    };\r\n});\r\n","Magento_Ui/js/lib/view/utils/dom-observer.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'domReady!'\r\n], function ($, _) {\r\n    'use strict';\r\n\r\n    var counter = 1,\r\n        watchers,\r\n        globalObserver,\r\n        disabledNodes = [];\r\n\r\n    watchers = {\r\n        selectors: {},\r\n        nodes: {}\r\n    };\r\n\r\n    /**\r\n     * Checks if node represents an element node (nodeType === 1).\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @returns {Boolean}\r\n     */\r\n    function isElementNode(node) {\r\n        return node.nodeType === 1;\r\n    }\r\n\r\n    /**\r\n     * Extracts all child descendant\r\n     * elements of a specified node.\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @returns {Array}\r\n     */\r\n    function extractChildren(node) {\r\n        var children = node.querySelectorAll('*');\r\n\r\n        return _.toArray(children);\r\n    }\r\n\r\n    /**\r\n     * Extracts node identifier. If ID is not specified,\r\n     * then it will be created for the provided node.\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @returns {Number}\r\n     */\r\n    function getNodeId(node) {\r\n        var id = node._observeId;\r\n\r\n        if (!id) {\r\n            id = node._observeId = counter++;\r\n        }\r\n\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * Invokes callback passing node to it.\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @param {Object} data\r\n     */\r\n    function trigger(node, data) {\r\n        var id = getNodeId(node),\r\n            ids = data.invoked;\r\n\r\n        if (_.contains(ids, id)) {\r\n            return;\r\n        }\r\n\r\n        data.callback(node);\r\n        data.invoked.push(id);\r\n    }\r\n\r\n    /**\r\n     * Adds node to the observer list.\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @returns {Object}\r\n     */\r\n    function createNodeData(node) {\r\n        var nodes   = watchers.nodes,\r\n            id      = getNodeId(node);\r\n\r\n        nodes[id] = nodes[id] || {};\r\n\r\n        return nodes[id];\r\n    }\r\n\r\n    /**\r\n     * Returns data associated with a specified node.\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @returns {Object|Undefined}\r\n     */\r\n    function getNodeData(node) {\r\n        var nodeId = node._observeId;\r\n\r\n        return watchers.nodes[nodeId];\r\n    }\r\n\r\n    /**\r\n     * Removes data associated with a specified node.\r\n     *\r\n     * @param {HTMLElement} node\r\n     */\r\n    function removeNodeData(node) {\r\n        var nodeId = node._observeId;\r\n\r\n        delete watchers.nodes[nodeId];\r\n    }\r\n\r\n    /**\r\n     * Adds removal listener for a specified node.\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @param {Object} data\r\n     */\r\n    function addRemovalListener(node, data) {\r\n        var nodeData = createNodeData(node);\r\n\r\n        (nodeData.remove = nodeData.remove || []).push(data);\r\n    }\r\n\r\n    /**\r\n     * Adds listener for the nodes which matches specified selector.\r\n     *\r\n     * @param {String} selector - CSS selector.\r\n     * @param {Object} data\r\n     */\r\n    function addSelectorListener(selector, data) {\r\n        var storage = watchers.selectors;\r\n\r\n        (storage[selector] = storage[selector] || []).push(data);\r\n    }\r\n\r\n    /**\r\n     * Calls handlers associated with an added node.\r\n     * Adds listeners for the node removal.\r\n     *\r\n     * @param {HTMLElement} node - Added node.\r\n     */\r\n    function processAdded(node) {\r\n        _.each(watchers.selectors, function (listeners, selector) {\r\n            listeners.forEach(function (data) {\r\n                if (!data.ctx.contains(node) || !$(node, data.ctx).is(selector)) {\r\n                    return;\r\n                }\r\n\r\n                if (data.type === 'add') {\r\n                    trigger(node, data);\r\n                } else if (data.type === 'remove') {\r\n                    addRemovalListener(node, data);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Calls handlers associated with a removed node.\r\n     *\r\n     * @param {HTMLElement} node - Removed node.\r\n     */\r\n    function processRemoved(node) {\r\n        var nodeData    = getNodeData(node),\r\n            listeners   = nodeData && nodeData.remove;\r\n\r\n        if (!listeners) {\r\n            return;\r\n        }\r\n\r\n        listeners.forEach(function (data) {\r\n            trigger(node, data);\r\n        });\r\n\r\n        removeNodeData(node);\r\n    }\r\n\r\n    /**\r\n     * Removes all non-element nodes from provided array\r\n     * and appends to it descendant elements.\r\n     *\r\n     * @param {Array} nodes\r\n     * @returns {Array}\r\n     */\r\n    function formNodesList(nodes) {\r\n        var result = [],\r\n            children;\r\n\r\n        nodes = _.toArray(nodes).filter(isElementNode);\r\n\r\n        nodes.forEach(function (node) {\r\n            result.push(node);\r\n\r\n            children = extractChildren(node);\r\n            result   = result.concat(children);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Collects all removed and added nodes from\r\n     * mutation records into separate arrays\r\n     * while removing duplicates between both types of changes.\r\n     *\r\n     * @param {Array} mutations - An array of mutation records.\r\n     * @returns {Object} Object with 'removed' and 'added' nodes arrays.\r\n     */\r\n    function formChangesLists(mutations) {\r\n        var removed = [],\r\n            added = [];\r\n\r\n        mutations.forEach(function (record) {\r\n            removed = removed.concat(_.toArray(record.removedNodes));\r\n            added   = added.concat(_.toArray(record.addedNodes));\r\n        });\r\n\r\n        removed = removed.filter(function (node) {\r\n            var addIndex = added.indexOf(node),\r\n                wasAdded = !!~addIndex;\r\n\r\n            if (wasAdded) {\r\n                added.splice(addIndex, 1);\r\n            }\r\n\r\n            return !wasAdded;\r\n        });\r\n\r\n        return {\r\n            removed: formNodesList(removed),\r\n            added: formNodesList(added)\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Verify if the DOM node is a child of a defined disabled node, if so we shouldn't observe provided mutation.\r\n     *\r\n     * @param {Object} mutation - a single mutation\r\n     * @returns {Boolean}\r\n     */\r\n    function shouldObserveMutation(mutation) {\r\n        var isDisabled;\r\n\r\n        if (disabledNodes.length > 0) {\r\n            // Iterate through the disabled nodes and determine if this mutation is occurring inside one of them\r\n            isDisabled = _.find(disabledNodes, function (node) {\r\n                return node === mutation.target || $.contains(node, mutation.target);\r\n            });\r\n\r\n            // If we find a matching node we should not observe the mutation\r\n            return !isDisabled;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Should we observe these mutations? Check the first and last mutation to determine if this is a disabled mutation,\r\n     * we check both the first and last in case one has been removed from the DOM during the process of the mutation.\r\n     *\r\n     * @param {Array} mutations - An array of mutation records.\r\n     * @returns {Boolean}\r\n     */\r\n    function shouldObserveMutations(mutations) {\r\n        var firstMutation,\r\n            lastMutation;\r\n\r\n        if (mutations.length > 0) {\r\n            firstMutation = mutations[0];\r\n            lastMutation = mutations[mutations.length - 1];\r\n\r\n            return shouldObserveMutation(firstMutation) && shouldObserveMutation(lastMutation);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    globalObserver = new MutationObserver(function (mutations) {\r\n        var changes;\r\n\r\n        if (shouldObserveMutations(mutations)) {\r\n            changes = formChangesLists(mutations);\r\n\r\n            changes.removed.forEach(processRemoved);\r\n            changes.added.forEach(processAdded);\r\n        }\r\n    });\r\n\r\n    globalObserver.observe(document.body, {\r\n        subtree: true,\r\n        childList: true\r\n    });\r\n\r\n    return {\r\n        /**\r\n         * Disable a node from being observed by the mutations, you may want to disable specific aspects of the\r\n         * application which are heavy on DOM changes. The observer running on some actions could cause significant\r\n         * delays and degrade the performance of that specific part of the application exponentially.\r\n         *\r\n         * @param {HTMLElement} node - a HTML node within the document\r\n         */\r\n        disableNode: function (node) {\r\n            disabledNodes.push(node);\r\n        },\r\n\r\n        /**\r\n         * Adds listener for the appearance of nodes that matches provided\r\n         * selector and which are inside of the provided context. Callback will be\r\n         * also invoked on elements which a currently present.\r\n         *\r\n         * @param {String} selector - CSS selector.\r\n         * @param {Function} callback - Function that will invoked when node appears.\r\n         * @param {HTMLElement} [ctx=document.body] - Context inside of which to search for the node.\r\n         */\r\n        get: function (selector, callback, ctx) {\r\n            var data,\r\n                nodes;\r\n\r\n            data = {\r\n                ctx: ctx || document.body,\r\n                type: 'add',\r\n                callback: callback,\r\n                invoked: []\r\n            };\r\n\r\n            nodes = $(selector, data.ctx).toArray();\r\n\r\n            nodes.forEach(function (node) {\r\n                trigger(node, data);\r\n            });\r\n\r\n            addSelectorListener(selector, data);\r\n        },\r\n\r\n        /**\r\n         * Adds listener for the nodes removal.\r\n         *\r\n         * @param {(jQueryObject|HTMLElement|Array|String)} selector\r\n         * @param {Function} callback - Function that will invoked when node is removed.\r\n         * @param {HTMLElement} [ctx=document.body] - Context inside of which to search for the node.\r\n         */\r\n        remove: function (selector, callback, ctx) {\r\n            var nodes = [],\r\n                data;\r\n\r\n            data = {\r\n                ctx: ctx || document.body,\r\n                type: 'remove',\r\n                callback: callback,\r\n                invoked: []\r\n            };\r\n\r\n            if (typeof selector === 'object') {\r\n                nodes = !_.isUndefined(selector.length) ?\r\n                    _.toArray(selector) :\r\n                    [selector];\r\n            } else if (_.isString(selector)) {\r\n                nodes = $(selector, ctx).toArray();\r\n\r\n                addSelectorListener(selector, data);\r\n            }\r\n\r\n            nodes.forEach(function (node) {\r\n                addRemovalListener(node, data);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Removes listeners.\r\n         *\r\n         * @param {String} selector\r\n         * @param {Function} [fn]\r\n         */\r\n        off: function (selector, fn) {\r\n            var selectors = watchers.selectors,\r\n                listeners = selectors[selector];\r\n\r\n            if (selector && !fn) {\r\n                delete selectors[selector];\r\n            } else if (listeners && fn) {\r\n                selectors[selector] = listeners.filter(function (data) {\r\n                    return data.callback !== fn;\r\n                });\r\n            }\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/view/utils/raf.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global WeakMap */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    var processMap = new WeakMap(),\r\n        origRaf,\r\n        raf;\r\n\r\n    origRaf = window.requestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame ||\r\n        window.mozRequestAnimationFrame ||\r\n        window.onRequestAnimationFrame ||\r\n        window.msRequestAnimationFrame ||\r\n        function (callback) {\r\n            if (typeof callback != 'function') {\r\n                throw new Error('raf argument \"callback\" must be of type function');\r\n            }\r\n            window.setTimeout(callback, 1000 / 60);\r\n        };\r\n\r\n    /**\r\n     * Creates new process object or extracts the\r\n     * the existing one.\r\n     *\r\n     * @param {*} id - Process identifier.\r\n     * @param {Number} fps - Required FPS count.\r\n     * @returns {Object}\r\n     */\r\n    function getProcess(id, fps) {\r\n        var process = processMap.get(id);\r\n\r\n        if (!process) {\r\n            process = {};\r\n            processMap.set(id, process);\r\n        }\r\n\r\n        if (process.fps !== fps) {\r\n            process.fps        = fps;\r\n            process.interval   = 1000 / fps;\r\n            process.update     = Date.now();\r\n        }\r\n\r\n        return process;\r\n    }\r\n\r\n    /**\r\n     * Proxy method which delegates call to the 'requestAnimationFrame'\r\n     * function and optionally can keep track of the FPS with which\r\n     * provided function is called.\r\n     *\r\n     * @param {Function} callback - Callback function to be passed to 'requestAnimationFrame'.\r\n     * @param {Number} [fps] - If specified, will update FPS counter for the provided function.\r\n     * @returns {Number|Boolean} ID of request or a flag which indicates\r\n     *      whether callback fits specified FPS.\r\n     */\r\n    raf = function (callback, fps) {\r\n        var rafId = origRaf(callback);\r\n\r\n        return fps ? raf.tick(callback, fps) : rafId;\r\n    };\r\n\r\n    /**\r\n     * Updates FPS counter for the specified process\r\n     * and returns a flag which indicates whether\r\n     * counter value is equal or greater than the required FPS.\r\n     *\r\n     * @param {*} id - Process identifier.\r\n     * @param {Number} fps - Required FPS count.\r\n     * @returns {Boolean}\r\n     */\r\n    raf.tick = function (id, fps) {\r\n        var process  = getProcess(id, fps),\r\n            now      = Date.now(),\r\n            delta    = now - process.update,\r\n            interval = process.interval;\r\n\r\n        if (fps >= 60 || delta >= interval) {\r\n            process.update = now - delta % interval;\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    return raf;\r\n});\r\n","Magento_Ui/js/modal/alert.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'jquery-ui-modules/widget',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'mage/translate'\r\n], function ($, _) {\r\n    'use strict';\r\n\r\n    $.widget('mage.alert', $.mage.confirm, {\r\n        options: {\r\n            modalClass: 'confirm',\r\n            title: $.mage.__('Attention'),\r\n            actions: {\r\n\r\n                /**\r\n                 * Callback always - called on all actions.\r\n                 */\r\n                always: function () {}\r\n            },\r\n            buttons: [{\r\n                text: $.mage.__('OK'),\r\n                class: 'action-primary action-accept',\r\n\r\n                /**\r\n                 * Click handler.\r\n                 */\r\n                click: function () {\r\n                    this.closeModal(true);\r\n                }\r\n            }]\r\n        },\r\n\r\n        /**\r\n         * Close modal window.\r\n         */\r\n        closeModal: function () {\r\n            this.options.actions.always();\r\n            this.element.on('alertclosed', _.bind(this._remove, this));\r\n\r\n            return this._super();\r\n        }\r\n    });\r\n\r\n    return function (config) {\r\n        return $('<div></div>').html(config.content).alert(config);\r\n    };\r\n});\r\n","Magento_Ui/js/modal/confirm.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mage/translate',\r\n    'jquery-ui-modules/widget',\r\n    'Magento_Ui/js/modal/modal'\r\n], function ($, _, $t) {\r\n    'use strict';\r\n\r\n    $.widget('mage.confirm', $.mage.modal, {\r\n        options: {\r\n            modalClass: 'confirm',\r\n            title: '',\r\n            focus: '.action-accept',\r\n            actions: {\r\n\r\n                /**\r\n                 * Callback always - called on all actions.\r\n                 */\r\n                always: function () {},\r\n\r\n                /**\r\n                 * Callback confirm.\r\n                 */\r\n                confirm: function () {},\r\n\r\n                /**\r\n                 * Callback cancel.\r\n                 */\r\n                cancel: function () {}\r\n            },\r\n            buttons: [{\r\n                text: $t('Cancel'),\r\n                class: 'action-secondary action-dismiss',\r\n\r\n                /**\r\n                 * Click handler.\r\n                 */\r\n                click: function (event) {\r\n                    this.closeModal(event);\r\n                }\r\n            }, {\r\n                text: $t('OK'),\r\n                class: 'action-primary action-accept',\r\n\r\n                /**\r\n                 * Click handler.\r\n                 */\r\n                click: function (event) {\r\n                    this.closeModal(event, true);\r\n                }\r\n            }]\r\n        },\r\n\r\n        /**\r\n         * Create widget.\r\n         */\r\n        _create: function () {\r\n            this._super();\r\n            this.modal.find(this.options.modalCloseBtn).off().on('click', _.bind(this.closeModal, this));\r\n            this.openModal();\r\n        },\r\n\r\n        /**\r\n         * Remove modal window.\r\n         */\r\n        _remove: function () {\r\n            this.modal.remove();\r\n        },\r\n\r\n        /**\r\n         * Open modal window.\r\n         */\r\n        openModal: function () {\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Close modal window.\r\n         */\r\n        closeModal: function (event, result) {\r\n            result = result || false;\r\n\r\n            if (result) {\r\n                this.options.actions.confirm(event);\r\n            } else {\r\n                this.options.actions.cancel(event);\r\n            }\r\n            this.options.actions.always(event);\r\n            this.element.on('confirmclosed', _.bind(this._remove, this));\r\n\r\n            return this._super();\r\n        }\r\n    });\r\n\r\n    return function (config) {\r\n        return $('<div></div>').html(config.content).confirm(config);\r\n    };\r\n});\r\n","Magento_Ui/js/modal/modal-component.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'uiCollection',\r\n    'uiRegistry',\r\n    'underscore',\r\n    './modal'\r\n], function ($, Collection, registry, _) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/modal/modal-component',\r\n            title: '',\r\n            subTitle: '',\r\n            options: {\r\n                modalClass: '',\r\n                title: '',\r\n                subTitle: '',\r\n                buttons: [],\r\n                keyEventHandlers: {}\r\n            },\r\n            valid: true,\r\n            links: {\r\n                title: 'options.title',\r\n                subTitle: 'options.subTitle'\r\n            },\r\n            listens: {\r\n                state: 'onState',\r\n                title: 'setTitle',\r\n                'options.subTitle': 'setSubTitle'\r\n            },\r\n            modalClass: 'modal-component',\r\n            onCancel: 'closeModal'\r\n        },\r\n\r\n        /**\r\n         * Initializes component.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n            _.bindAll(this,\r\n                'initModal',\r\n                'openModal',\r\n                'closeModal',\r\n                'toggleModal',\r\n                'setPrevValues',\r\n                'validate');\r\n            this.initializeContent();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes modal configuration\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            return this._super()\r\n                .initSelector()\r\n                .initModalEvents();\r\n        },\r\n\r\n        /**\r\n         * Configure modal selector\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initSelector: function () {\r\n            var modalClass = this.name.replace(/\\./g, '_');\r\n\r\n            this.contentSelector = '.' + this.modalClass;\r\n            this.options.modalClass = this.options.modalClass + ' ' + modalClass;\r\n            this.rootSelector = '.' + modalClass;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Configure modal keyboard handlers\r\n         * and outer click\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initModalEvents: function () {\r\n            this.options.keyEventHandlers.escapeKey = this.options.outerClickHandler = this[this.onCancel].bind(this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initialize modal's content components\r\n         */\r\n        initializeContent: function () {\r\n            $.async({\r\n                component: this.name\r\n            }, this.initModal);\r\n        },\r\n\r\n        /**\r\n         * Init toolbar section so other components will be able to place something in it\r\n         */\r\n        initToolbarSection: function () {\r\n            this.set('toolbarSection', this.modal.data('mage-modal').modal.find('header').get(0));\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super();\r\n            this.observe(['state', 'focused']);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Wrap content in a modal of certain type\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initModal: function (element) {\r\n            if (!this.modal) {\r\n                this.overrideModalButtonCallback();\r\n                this.options.modalCloseBtnHandler = this[this.onCancel].bind(this);\r\n                this.modal = $(element).modal(this.options);\r\n                this.initToolbarSection();\r\n\r\n                if (this.waitCbk) {\r\n                    this.waitCbk();\r\n                    this.waitCbk = null;\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Open modal\r\n         */\r\n        openModal: function () {\r\n            if (this.modal) {\r\n                this.state(true);\r\n            } else {\r\n                this.waitCbk = this.openModal;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Close modal\r\n         */\r\n        closeModal: function () {\r\n            if (this.modal) {\r\n                this.state(false);\r\n            } else {\r\n                this.waitCbk = this.closeModal;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Toggle modal\r\n         */\r\n        toggleModal: function () {\r\n            if (this.modal) {\r\n                this.state(!this.state());\r\n            } else {\r\n                this.waitCbk = this.toggleModal;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets title for modal\r\n         *\r\n         * @param {String} title\r\n         */\r\n        setTitle: function (title) {\r\n            if (this.title !== title) {\r\n                this.title = title;\r\n            }\r\n\r\n            if (this.modal) {\r\n                this.modal.modal('setTitle', title);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets subTitle for modal\r\n         *\r\n         * @param {String} subTitle\r\n         */\r\n        setSubTitle: function (subTitle) {\r\n            if (this.subTitle !== subTitle) {\r\n                this.subTitle = subTitle;\r\n            }\r\n\r\n            if (this.modal) {\r\n                this.modal.modal('setSubTitle', subTitle);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Wrap content in a modal of certain type\r\n         *\r\n         * @param {Boolean} state\r\n         */\r\n        onState: function (state) {\r\n            if (state) {\r\n                this.modal.modal('openModal');\r\n                this.applyData();\r\n            } else {\r\n                this.modal.modal('closeModal');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Validate everything validatable in modal\r\n         */\r\n        validate: function (elem) {\r\n            if (typeof elem === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            if (typeof elem.validate === 'function') {\r\n                this.valid = this.valid & elem.validate().valid;\r\n            } else if (elem.elems) {\r\n                elem.elems().forEach(this.validate, this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset data from provider\r\n         */\r\n        resetData: function () {\r\n            this.elems().forEach(this.resetValue, this);\r\n        },\r\n\r\n        /**\r\n         * Update 'applied' property with data from modal content\r\n         */\r\n        applyData: function () {\r\n            var applied = {};\r\n\r\n            this.elems().forEach(this.gatherValues.bind(this, applied), this);\r\n            this.applied = applied;\r\n        },\r\n\r\n        /**\r\n         * Gather values from modal content\r\n         *\r\n         * @param {Array} applied\r\n         * @param {HTMLElement} elem\r\n         */\r\n        gatherValues: function (applied, elem) {\r\n            if (typeof elem.value === 'function') {\r\n                applied[elem.name] = elem.value();\r\n            } else if (elem.elems) {\r\n                elem.elems().forEach(this.gatherValues.bind(this, applied), this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set to previous values from modal content\r\n         *\r\n         * @param {HTMLElement} elem\r\n         */\r\n        setPrevValues: function (elem) {\r\n            if (typeof elem.value === 'function') {\r\n                this.modal.focus();\r\n                elem.value(this.applied[elem.name]);\r\n            } else if (elem.elems) {\r\n                elem.elems().forEach(this.setPrevValues, this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Triggers some method in every modal child elem, if this method is defined\r\n         *\r\n         * @param {Object} action - action configuration,\r\n         * must contain actionName and targetName and\r\n         * can contain params\r\n         */\r\n        triggerAction: function (action) {\r\n            var targetName = action.targetName,\r\n                params = action.params || [],\r\n                actionName = action.actionName,\r\n                target;\r\n\r\n            target = registry.async(targetName);\r\n\r\n            if (target && typeof target === 'function' && actionName) {\r\n                params.unshift(actionName);\r\n                target.apply(target, params);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Override modal buttons callback placeholders with real callbacks\r\n         */\r\n        overrideModalButtonCallback: function () {\r\n            var buttons = this.options.buttons;\r\n\r\n            if (buttons && buttons.length) {\r\n                buttons.forEach(function (button) {\r\n                    button.click = this.getButtonClickHandler(button.actions);\r\n                }, this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Generate button click handler based on button's 'actions' configuration\r\n         */\r\n        getButtonClickHandler: function (actionsConfig) {\r\n            var actions = actionsConfig.map(\r\n                function (actionConfig) {\r\n                    if (_.isObject(actionConfig)) {\r\n                        return this.triggerAction.bind(this, actionConfig);\r\n                    }\r\n\r\n                    return this[actionConfig] ? this[actionConfig].bind(this) : function () {};\r\n                }, this);\r\n\r\n            return function () {\r\n                actions.forEach(\r\n                    function (action) {\r\n                        action();\r\n                    }\r\n                );\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Cancels changes in modal:\r\n         * returning elems values to the previous state,\r\n         * and close modal\r\n         */\r\n        actionCancel: function () {\r\n            this.elems().forEach(this.setPrevValues, this);\r\n            this.closeModal();\r\n        },\r\n\r\n        /**\r\n         * Accept changes in modal by not preventing them.\r\n         * Can be extended by exporting 'gatherValues' result somewhere\r\n         */\r\n        actionDone: function () {\r\n            this.valid = true;\r\n            this.elems().forEach(this.validate, this);\r\n\r\n            if (this.valid) {\r\n                this.closeModal();\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/modal/modal.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mage/template',\r\n    'text!ui/template/modal/modal-popup.html',\r\n    'text!ui/template/modal/modal-slide.html',\r\n    'text!ui/template/modal/modal-custom.html',\r\n    'Magento_Ui/js/lib/key-codes',\r\n    'jquery-ui-modules/widget',\r\n    'jquery-ui-modules/core',\r\n    'mage/translate',\r\n    'jquery/z-index'\r\n], function ($, _, template, popupTpl, slideTpl, customTpl, keyCodes) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Detect browser transition end event.\r\n     * @return {String|undefined} - transition event.\r\n     */\r\n    var transitionEvent = (function () {\r\n        var transition,\r\n            elementStyle = document.createElement('div').style,\r\n            transitions = {\r\n                'transition': 'transitionend',\r\n                'OTransition': 'oTransitionEnd',\r\n                'MozTransition': 'transitionend',\r\n                'WebkitTransition': 'webkitTransitionEnd'\r\n            };\r\n\r\n        for (transition in transitions) {\r\n            if (elementStyle[transition] !== undefined && transitions.hasOwnProperty(transition)) {\r\n                return transitions[transition];\r\n            }\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * Modal Window Widget\r\n     */\r\n    $.widget('mage.modal', {\r\n        options: {\r\n            id: null,\r\n            type: 'popup',\r\n            title: '',\r\n            subTitle: '',\r\n            modalClass: '',\r\n            focus: '[data-role=\"closeBtn\"]',\r\n            autoOpen: false,\r\n            clickableOverlay: true,\r\n            popupTpl: popupTpl,\r\n            slideTpl: slideTpl,\r\n            customTpl: customTpl,\r\n            modalVisibleClass: '_show',\r\n            parentModalClass: '_has-modal',\r\n            innerScrollClass: '_inner-scroll',\r\n            responsive: false,\r\n            innerScroll: false,\r\n            modalTitle: '[data-role=\"title\"]',\r\n            modalSubTitle: '[data-role=\"subTitle\"]',\r\n            modalBlock: '[data-role=\"modal\"]',\r\n            modalCloseBtn: '[data-role=\"closeBtn\"]',\r\n            modalContent: '[data-role=\"content\"]',\r\n            modalAction: '[data-role=\"action\"]',\r\n            focusableScope: '[data-role=\"focusable-scope\"]',\r\n            focusableStart: '[data-role=\"focusable-start\"]',\r\n            focusableEnd: '[data-role=\"focusable-end\"]',\r\n            appendTo: 'body',\r\n            wrapperClass: 'modals-wrapper',\r\n            overlayClass: 'modals-overlay',\r\n            responsiveClass: 'modal-slide',\r\n            trigger: '',\r\n            modalLeftMargin: 45,\r\n            closeText: $.mage.__('Close'),\r\n            buttons: [{\r\n                text: $.mage.__('Ok'),\r\n                class: '',\r\n                attr: {},\r\n\r\n                /**\r\n                 * Default action on button click\r\n                 */\r\n                click: function (event) {\r\n                    this.closeModal(event);\r\n                }\r\n            }],\r\n            keyEventHandlers: {\r\n\r\n                /**\r\n                 * Tab key press handler,\r\n                 * set focus to elements\r\n                 */\r\n                tabKey: function () {\r\n                    if (document.activeElement === this.modal[0]) {\r\n                        this._setFocus('start');\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Escape key press handler,\r\n                 * close modal window\r\n                 * @param {Object} event - event\r\n                 */\r\n                escapeKey: function (event) {\r\n                    if (this.options.isOpen && this.modal.find(document.activeElement).length ||\r\n                        this.options.isOpen && this.modal[0] === document.activeElement) {\r\n                        this.closeModal(event);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates modal widget.\r\n         */\r\n        _create: function () {\r\n            _.bindAll(\r\n                this,\r\n                'keyEventSwitcher',\r\n                '_tabSwitcher',\r\n                'closeModal'\r\n            );\r\n\r\n            this.options.id = this.uuid;\r\n            this.options.transitionEvent = transitionEvent;\r\n            this._createWrapper();\r\n            this._renderModal();\r\n            this._createButtons();\r\n\r\n            if (this.options.trigger) {\r\n                $(document).on('click', this.options.trigger, _.bind(this.toggleModal, this));\r\n            }\r\n            this._on(this.modal.find(this.options.modalCloseBtn), {\r\n                'click': this.options.modalCloseBtnHandler ? this.options.modalCloseBtnHandler : this.closeModal\r\n            });\r\n            this._on(this.element, {\r\n                'openModal': this.openModal,\r\n                'closeModal': this.closeModal\r\n            });\r\n            this.options.autoOpen ? this.openModal() : false;\r\n        },\r\n\r\n        /**\r\n         * Returns element from modal node.\r\n         * @return {Object} - element.\r\n         */\r\n        _getElem: function (elem) {\r\n            return this.modal.find(elem);\r\n        },\r\n\r\n        /**\r\n         * Gets visible modal count.\r\n         * * @return {Number} - visible modal count.\r\n         */\r\n        _getVisibleCount: function () {\r\n            var modals = this.modalWrapper.find(this.options.modalBlock);\r\n\r\n            return modals.filter('.' + this.options.modalVisibleClass).length;\r\n        },\r\n\r\n        /**\r\n         * Gets count of visible modal by slide type.\r\n         * * @return {Number} - visible modal count.\r\n         */\r\n        _getVisibleSlideCount: function () {\r\n            var elems = this.modalWrapper.find('[data-type=\"slide\"]');\r\n\r\n            return elems.filter('.' + this.options.modalVisibleClass).length;\r\n        },\r\n\r\n        /**\r\n         * Listener key events.\r\n         * Call handler function if it exists\r\n         */\r\n        keyEventSwitcher: function (event) {\r\n            var key = keyCodes[event.keyCode];\r\n\r\n            if (this.options.keyEventHandlers.hasOwnProperty(key)) {\r\n                this.options.keyEventHandlers[key].apply(this, arguments);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set title for modal.\r\n         *\r\n         * @param {String} title\r\n         */\r\n        setTitle: function (title) {\r\n            var $title = this.modal.find(this.options.modalTitle),\r\n                $subTitle = this.modal.find(this.options.modalSubTitle);\r\n\r\n            $title.text(title);\r\n            $title.append($subTitle);\r\n        },\r\n\r\n        /**\r\n         * Set sub title for modal.\r\n         *\r\n         * @param {String} subTitle\r\n         */\r\n        setSubTitle: function (subTitle) {\r\n            this.options.subTitle = subTitle;\r\n            this.modal.find(this.options.modalSubTitle).html(subTitle);\r\n        },\r\n\r\n        /**\r\n         * Toggle modal.\r\n         * * @return {Element} - current element.\r\n         */\r\n        toggleModal: function () {\r\n            if (this.options.isOpen === true) {\r\n                this.closeModal();\r\n            } else {\r\n                this.openModal();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Open modal.\r\n         * * @return {Element} - current element.\r\n         */\r\n        openModal: function () {\r\n            this.options.isOpen = true;\r\n            this.focussedElement = document.activeElement;\r\n            this._createOverlay();\r\n            this._setActive();\r\n            this._setKeyListener();\r\n            this.modal.one(this.options.transitionEvent, _.bind(this._setFocus, this, 'end', 'opened'));\r\n            this.modal.one(this.options.transitionEvent, _.bind(this._trigger, this, 'opened'));\r\n            this.modal.addClass(this.options.modalVisibleClass);\r\n\r\n            if (!this.options.transitionEvent) {\r\n                this._trigger('opened');\r\n            }\r\n\r\n            return this.element;\r\n        },\r\n\r\n        /**\r\n         * Set focus to element.\r\n         * @param {String} position - can be \"start\" and \"end\"\r\n         *      positions.\r\n         *      If position is \"end\" - sets focus to first\r\n         *      focusable element in modal window scope.\r\n         *      If position is \"start\" - sets focus to last\r\n         *      focusable element in modal window scope\r\n         *\r\n         *  @param {String} type - can be \"opened\" or false\r\n         *      If type is \"opened\" - looks to \"this.options.focus\"\r\n         *      property and sets focus\r\n         */\r\n        _setFocus: function (position, type) {\r\n            var focusableElements,\r\n                infelicity;\r\n\r\n            if (type === 'opened' && this.options.focus) {\r\n                this.modal.find($(this.options.focus)).trigger('focus');\r\n            } else if (type === 'opened' && !this.options.focus) {\r\n                this.modal.find(this.options.focusableScope).trigger('focus');\r\n            } else if (position === 'end') {\r\n                this.modal.find(this.options.modalCloseBtn).trigger('focus');\r\n            } else if (position === 'start') {\r\n                infelicity = 2; //Constant for find last focusable element\r\n                focusableElements = this.modal.find(':focusable');\r\n                focusableElements.eq(focusableElements.length - infelicity).trigger('focus');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set events listener when modal is opened.\r\n         */\r\n        _setKeyListener: function () {\r\n            this.modal.find(this.options.focusableStart).on('focusin', this._tabSwitcher);\r\n            this.modal.find(this.options.focusableEnd).on('focusin', this._tabSwitcher);\r\n            this.modal.on('keydown', this.keyEventSwitcher);\r\n        },\r\n\r\n        /**\r\n         * Remove events listener when modal is closed.\r\n         */\r\n        _removeKeyListener: function () {\r\n            this.modal.find(this.options.focusableStart).off('focusin', this._tabSwitcher);\r\n            this.modal.find(this.options.focusableEnd).off('focusin', this._tabSwitcher);\r\n            this.modal.off('keydown', this.keyEventSwitcher);\r\n        },\r\n\r\n        /**\r\n         * Switcher for focus event.\r\n         * @param {Object} e - event\r\n         */\r\n        _tabSwitcher: function (e) {\r\n            var target = $(e.target);\r\n\r\n            if (target.is(this.options.focusableStart)) {\r\n                this._setFocus('start');\r\n            } else if (target.is(this.options.focusableEnd)) {\r\n                this._setFocus('end');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Close modal.\r\n         * * @return {Element} - current element.\r\n         */\r\n        closeModal: function () {\r\n            var that = this;\r\n\r\n            this._removeKeyListener();\r\n            this.options.isOpen = false;\r\n            this.modal.one(this.options.transitionEvent, function () {\r\n                that._close();\r\n            });\r\n            this.modal.removeClass(this.options.modalVisibleClass);\r\n\r\n            if (!this.options.transitionEvent) {\r\n                that._close();\r\n            }\r\n\r\n            return this.element;\r\n        },\r\n\r\n        /**\r\n         * Helper for closeModal function.\r\n         */\r\n        _close: function () {\r\n            var trigger = _.bind(this._trigger, this, 'closed', this.modal);\r\n\r\n            $(this.focussedElement).trigger('focus');\r\n            this._destroyOverlay();\r\n            this._unsetActive();\r\n            _.defer(trigger, this);\r\n        },\r\n\r\n        /**\r\n         * Set z-index and margin for modal and overlay.\r\n         */\r\n        _setActive: function () {\r\n            var zIndex = this.modal.zIndex(),\r\n                baseIndex = zIndex + this._getVisibleCount();\r\n\r\n            if (this.modal.data('active')) {\r\n                return;\r\n            }\r\n\r\n            this.modal.data('active', true);\r\n\r\n            this.overlay.zIndex(++baseIndex);\r\n            this.prevOverlayIndex = this.overlay.zIndex();\r\n            this.modal.zIndex(this.overlay.zIndex() + 1);\r\n\r\n            if (this._getVisibleSlideCount()) {\r\n                this.modal.css('marginLeft', this.options.modalLeftMargin * this._getVisibleSlideCount());\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Unset styles for modal and set z-index for previous modal.\r\n         */\r\n        _unsetActive: function () {\r\n            this.modal.removeAttr('style');\r\n            this.modal.data('active', false);\r\n\r\n            if (this.overlay) {\r\n                this.overlay.zIndex(this.prevOverlayIndex - 1);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates wrapper to hold all modals.\r\n         */\r\n        _createWrapper: function () {\r\n            this.modalWrapper = $(this.options.appendTo).find('.' + this.options.wrapperClass);\r\n\r\n            if (!this.modalWrapper.length) {\r\n                this.modalWrapper = $('<div></div>')\r\n                    .addClass(this.options.wrapperClass)\r\n                    .appendTo(this.options.appendTo);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Compile template and append to wrapper.\r\n         */\r\n        _renderModal: function () {\r\n            $(template(\r\n                this.options[this.options.type + 'Tpl'],\r\n                {\r\n                    data: this.options\r\n                })).appendTo(this.modalWrapper);\r\n            this.modal = this.modalWrapper.find(this.options.modalBlock).last();\r\n            this.element.appendTo(this._getElem(this.options.modalContent));\r\n\r\n            if (this.element.is(':hidden')) {\r\n                this.element.show();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates buttons pane.\r\n         */\r\n        _createButtons: function () {\r\n            this.buttons = this._getElem(this.options.modalAction);\r\n            _.each(this.options.buttons, function (btn, key) {\r\n                var button = this.buttons[key];\r\n\r\n                if (btn.attr) {\r\n                    $(button).attr(btn.attr);\r\n                }\r\n\r\n                if (btn.class) {\r\n                    $(button).addClass(btn.class);\r\n                }\r\n\r\n                if (!btn.click) {\r\n                    btn.click = this.closeModal;\r\n                }\r\n                $(button).on('click', _.bind(btn.click, this));\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Creates overlay, append it to wrapper, set previous click event on overlay.\r\n         */\r\n        _createOverlay: function () {\r\n            var events,\r\n                outerClickHandler = this.options.outerClickHandler || this.closeModal;\r\n\r\n            this.overlay = $('.' + this.options.overlayClass);\r\n\r\n            if (!this.overlay.length) {\r\n                $(this.options.appendTo).addClass(this.options.parentModalClass);\r\n                this.overlay = $('<div></div>')\r\n                    .addClass(this.options.overlayClass)\r\n                    .appendTo(this.modalWrapper);\r\n            }\r\n            events = $._data(this.overlay.get(0), 'events');\r\n            events ? this.prevOverlayHandler = events.click[0].handler : false;\r\n            this.options.clickableOverlay ? this.overlay.off().on('click', outerClickHandler) : false;\r\n        },\r\n\r\n        /**\r\n         * Destroy overlay.\r\n         */\r\n        _destroyOverlay: function () {\r\n            if (this._getVisibleCount()) {\r\n                this.overlay.off().on('click', this.prevOverlayHandler);\r\n            } else {\r\n                $(this.options.appendTo).removeClass(this.options.parentModalClass);\r\n                this.overlay.remove();\r\n                this.overlay = null;\r\n            }\r\n        }\r\n    });\r\n\r\n    return $.mage.modal;\r\n});\r\n","Magento_Ui/js/modal/modalToggle.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/modal'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    return function (config, el) {\r\n        var widget,\r\n            content;\r\n\r\n        if (config.contentSelector) {\r\n            content = $(config.contentSelector);\r\n        } else if (config.content) {\r\n            content = $('<div></div>').html(config.content);\r\n        } else {\r\n            content = $('<div></div>');\r\n        }\r\n\r\n        widget = content.modal(config);\r\n\r\n        $(el).on(config.toggleEvent, function () {\r\n            var state = widget.data('mage-modal').options.isOpen;\r\n\r\n            if (state) {\r\n                widget.modal('closeModal');\r\n            } else {\r\n                widget.modal('openModal');\r\n            }\r\n\r\n            return false;\r\n        });\r\n\r\n        return widget;\r\n    };\r\n});\r\n","Magento_Ui/js/modal/prompt.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mage/template',\r\n    'text!ui/template/modal/modal-prompt-content.html',\r\n    'jquery-ui-modules/widget',\r\n    'Magento_Ui/js/modal/modal',\r\n    'mage/translate'\r\n], function ($, _, template, promptContentTmpl) {\r\n    'use strict';\r\n\r\n    $.widget('mage.prompt', $.mage.modal, {\r\n        options: {\r\n            modalClass: 'prompt',\r\n            promptContentTmpl: promptContentTmpl,\r\n            promptField: '[data-role=\"promptField\"]',\r\n            attributesForm: {},\r\n            attributesField: {},\r\n            value: '',\r\n            validation: false,\r\n            validationRules: [],\r\n            keyEventHandlers: {\r\n\r\n                /**\r\n                 * Enter key press handler,\r\n                 * submit result and close modal window\r\n                 * @param {Object} event - event\r\n                 */\r\n                enterKey: function (event) {\r\n                    if (this.options.isOpen && this.modal.find(document.activeElement).length ||\r\n                        this.options.isOpen && this.modal[0] === document.activeElement) {\r\n                        this.closeModal(true);\r\n                        event.preventDefault();\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Tab key press handler,\r\n                 * set focus to elements\r\n                 */\r\n                tabKey: function () {\r\n                    if (document.activeElement === this.modal[0]) {\r\n                        this._setFocus('start');\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Escape key press handler,\r\n                 * cancel and close modal window\r\n                 * @param {Object} event - event\r\n                 */\r\n                escapeKey: function (event) {\r\n                    if (this.options.isOpen && this.modal.find(document.activeElement).length ||\r\n                        this.options.isOpen && this.modal[0] === document.activeElement) {\r\n                        this.closeModal();\r\n                        event.preventDefault();\r\n                    }\r\n                }\r\n            },\r\n            actions: {\r\n\r\n                /**\r\n                 * Callback always - called on all actions.\r\n                 */\r\n                always: function () {},\r\n\r\n                /**\r\n                 * Callback confirm.\r\n                 */\r\n                confirm: function () {},\r\n\r\n                /**\r\n                 * Callback cancel.\r\n                 */\r\n                cancel: function () {}\r\n            },\r\n            buttons: [{\r\n                text: $.mage.__('Cancel'),\r\n                class: 'action-secondary action-dismiss',\r\n\r\n                /**\r\n                 * Click handler.\r\n                 */\r\n                click: function () {\r\n                    this.closeModal();\r\n                }\r\n            }, {\r\n                text: $.mage.__('OK'),\r\n                class: 'action-primary action-accept',\r\n\r\n                /**\r\n                 * Click handler.\r\n                 */\r\n                click: function () {\r\n                    this.closeModal(true);\r\n                }\r\n            }]\r\n        },\r\n\r\n        /**\r\n         * Create widget.\r\n         */\r\n        _create: function () {\r\n            this.options.focus = this.options.promptField;\r\n            this.options.validation = this.options.validation && this.options.validationRules.length;\r\n            this.options.outerClickHandler = this.options.outerClickHandler || _.bind(this.closeModal, this, false);\r\n            this._super();\r\n            this.modal.find(this.options.modalContent).append(this.getFormTemplate());\r\n            this.modal.find(this.options.modalCloseBtn).off().on('click',  _.bind(this.closeModal, this, false));\r\n\r\n            if (this.options.validation) {\r\n                this.setValidationClasses();\r\n            }\r\n\r\n            this.openModal();\r\n        },\r\n\r\n        /**\r\n         * Form template getter.\r\n         *\r\n         * @returns {Object} Form template.\r\n         */\r\n        getFormTemplate: function () {\r\n            var formTemplate,\r\n                formAttr = '',\r\n                inputAttr = '',\r\n                attributeName;\r\n\r\n            for (attributeName in this.options.attributesForm) {\r\n                if (this.options.attributesForm.hasOwnProperty(attributeName)) {\r\n                    formAttr = formAttr + ' ' + attributeName + '=\"' +\r\n                        this.options.attributesForm[attributeName] + '\"';\r\n                }\r\n            }\r\n\r\n            for (attributeName in this.options.attributesField) {\r\n                if (this.options.attributesField.hasOwnProperty(attributeName)) {\r\n                    inputAttr = inputAttr + ' ' + attributeName + '=\"' +\r\n                        this.options.attributesField[attributeName] + '\"';\r\n                }\r\n            }\r\n\r\n            formTemplate = $(template(this.options.promptContentTmpl, {\r\n                data: this.options,\r\n                formAttr: formAttr,\r\n                inputAttr: inputAttr\r\n            }));\r\n\r\n            return formTemplate;\r\n        },\r\n\r\n        /**\r\n         * Remove widget\r\n         */\r\n        _remove: function () {\r\n            this.modal.remove();\r\n        },\r\n\r\n        /**\r\n         * Validate prompt field\r\n         */\r\n        validate: function () {\r\n            return $.validator.validateSingleElement(this.options.promptField);\r\n        },\r\n\r\n        /**\r\n         * Add validation classes to prompt field\r\n         */\r\n        setValidationClasses: function () {\r\n            this.modal.find(this.options.promptField).attr('class', $.proxy(function (i, val) {\r\n                return val + ' ' + this.options.validationRules.join(' ');\r\n            }, this));\r\n        },\r\n\r\n        /**\r\n         * Open modal window\r\n         */\r\n        openModal: function () {\r\n            this._super();\r\n            this.modal.find(this.options.promptField).val(this.options.value);\r\n        },\r\n\r\n        /**\r\n         * Close modal window\r\n         */\r\n        closeModal: function (result) {\r\n            var value;\r\n\r\n            if (result) {\r\n                if (this.options.validation && !this.validate()) {\r\n                    return false;\r\n                }\r\n\r\n                value = this.modal.find(this.options.promptField).val();\r\n                this.options.actions.confirm.call(this, value);\r\n            } else {\r\n                this.options.actions.cancel.call(this, result);\r\n            }\r\n\r\n            this.options.actions.always();\r\n            this.element.on('promptclosed', _.bind(this._remove, this));\r\n\r\n            return this._super();\r\n        }\r\n    });\r\n\r\n    return function (config) {\r\n        return $('<div class=\"prompt-message\"></div>').html(config.content).prompt(config);\r\n    };\r\n});\r\n","Magento_Ui/js/model/messageList.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    './messages'\r\n], function (Messages) {\r\n    'use strict';\r\n\r\n    return new Messages();\r\n});\r\n","Magento_Ui/js/model/messages.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'uiClass'\r\n], function (ko, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super()\r\n                .initObservable();\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            this.errorMessages = ko.observableArray([]);\r\n            this.successMessages = ko.observableArray([]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Add  message to list.\r\n         * @param {Object} messageObj\r\n         * @param {Object} type\r\n         * @returns {Boolean}\r\n         */\r\n        add: function (messageObj, type) {\r\n            var expr = /([%])\\w+/g,\r\n                message;\r\n\r\n            if (!messageObj.hasOwnProperty('parameters')) {\r\n                this.clear();\r\n                type.push(messageObj.message);\r\n\r\n                return true;\r\n            }\r\n            message = messageObj.message.replace(expr, function (varName) {\r\n                varName = varName.substr(1);\r\n\r\n                if (!isNaN(varName)) {\r\n                    varName--;\r\n                }\r\n\r\n                if (messageObj.parameters.hasOwnProperty(varName)) {\r\n                    return messageObj.parameters[varName];\r\n                }\r\n\r\n                return messageObj.parameters.shift();\r\n            });\r\n            this.clear();\r\n            type.push(message);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Add success message.\r\n         *\r\n         * @param {Object} message\r\n         * @return {*|Boolean}\r\n         */\r\n        addSuccessMessage: function (message) {\r\n            return this.add(message, this.successMessages);\r\n        },\r\n\r\n        /**\r\n         * Add error message.\r\n         *\r\n         * @param {Object} message\r\n         * @return {*|Boolean}\r\n         */\r\n        addErrorMessage: function (message) {\r\n            return this.add(message, this.errorMessages);\r\n        },\r\n\r\n        /**\r\n         * Get error messages.\r\n         *\r\n         * @return {Array}\r\n         */\r\n        getErrorMessages: function () {\r\n            return this.errorMessages;\r\n        },\r\n\r\n        /**\r\n         * Get success messages.\r\n         *\r\n         * @return {Array}\r\n         */\r\n        getSuccessMessages: function () {\r\n            return this.successMessages;\r\n        },\r\n\r\n        /**\r\n         * Checks if an instance has stored messages.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        hasMessages: function () {\r\n            return this.errorMessages().length > 0 || this.successMessages().length > 0;\r\n        },\r\n\r\n        /**\r\n         * Removes stored messages.\r\n         */\r\n        clear: function () {\r\n            this.errorMessages.removeAll();\r\n            this.successMessages.removeAll();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/timeline/timeline-view.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'Magento_Ui/js/lib/view/utils/raf',\r\n    'uiRegistry',\r\n    'uiClass'\r\n], function (ko, $, _, raf, registry, Class) {\r\n    'use strict';\r\n\r\n    var hasClassList = (function () {\r\n        var list = document.createElement('_').classList;\r\n\r\n        return !!list && !list.toggle('_test', false);\r\n    })();\r\n\r\n    /**\r\n     * Polyfill of the 'classList.toggle' method.\r\n     *\r\n     * @param {HTMLElement} elem\r\n     */\r\n    function toggleClass(elem) {\r\n        var classList   = elem.classList,\r\n            args        = Array.prototype.slice.call(arguments, 1),\r\n            $elem;\r\n\r\n        if (hasClassList) {\r\n            classList.toggle.apply(classList, args);\r\n        } else {\r\n            $elem = $(elem);\r\n            $elem.toggleClass.apply($elem, args);\r\n        }\r\n    }\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            selectors: {\r\n                content: '.timeline-content',\r\n                timeUnit: '.timeline-unit',\r\n                item: '.timeline-item:not([data-role=no-data-msg])',\r\n                event: '.timeline-event'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes TimelineView component.\r\n         *\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'refresh',\r\n                'initContent',\r\n                'initItem',\r\n                'initTimeUnit',\r\n                'getItemBindings',\r\n                'updateItemsPosition',\r\n                'onScaleChange',\r\n                'onEventElementRender',\r\n                'onWindowResize',\r\n                'onContentScroll',\r\n                'onDataReloaded',\r\n                'onToStartClick',\r\n                'onToEndClick'\r\n            );\r\n\r\n            this._super()\r\n                .initModel()\r\n                .waitContent();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies listeners for the model properties changes.\r\n         *\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        initModel: function () {\r\n            var model = registry.get(this.model);\r\n\r\n            model.on('scale', this.onScaleChange);\r\n            model.source.on('reloaded', this.onDataReloaded);\r\n\r\n            this.model = model;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies DOM watcher for the\r\n         * content element rendering.\r\n         *\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        waitContent: function () {\r\n            $.async({\r\n                selector: this.selectors.content,\r\n                component: this.model\r\n            }, this.initContent);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes timelines' content element.\r\n         *\r\n         * @param {HTMLElement} content\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        initContent: function (content) {\r\n            this.$content = content;\r\n\r\n            $(content).on('scroll', this.onContentScroll);\r\n            $(window).on('resize', this.onWindowResize);\r\n\r\n            $.async(this.selectors.item, content, this.initItem);\r\n            $.async(this.selectors.event, content, this.onEventElementRender);\r\n            $.async(this.selectors.timeUnit, content, this.initTimeUnit);\r\n\r\n            this.refresh();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes timeline item element,\r\n         * e.g. establishes event listeners and applies data bindings.\r\n         *\r\n         * @param {HTMLElement} elem\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        initItem: function (elem) {\r\n            $(elem)\r\n                .bindings(this.getItemBindings)\r\n                .on('click', '._toend', this.onToEndClick)\r\n                .on('click', '._tostart', this.onToStartClick);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes timeline unit element.\r\n         *\r\n         * @param {HTMLElement} elem\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        initTimeUnit: function (elem) {\r\n            $(elem).bindings(this.getTimeUnitBindings());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates items positions in a\r\n         * loop if state of a view has changed.\r\n         */\r\n        refresh: function () {\r\n            raf(this.refresh);\r\n\r\n            if (this._update) {\r\n                this._update = false;\r\n\r\n                this.updateItemsPosition();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns object width additional bindings\r\n         * for a timeline unit element.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getTimeUnitBindings: function () {\r\n            return {\r\n                style: {\r\n                    width: ko.computed(function () {\r\n                        return this.getTimeUnitWidth() + '%';\r\n                    }.bind(this))\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Returns object with additional\r\n         * bindings for a timeline item element.\r\n         *\r\n         * @param {Object} ctx\r\n         * @returns {Object}\r\n         */\r\n        getItemBindings: function (ctx) {\r\n            return {\r\n                style: {\r\n                    width: ko.computed(function () {\r\n                        return this.getItemWidth(ctx.$row()) + '%';\r\n                    }.bind(this)),\r\n\r\n                    'margin-left': ko.computed(function () {\r\n                        return this.getItemMargin(ctx.$row()) + '%';\r\n                    }.bind(this))\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Calculates width in percents of a timeline unit element.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getTimeUnitWidth: function () {\r\n            return 100 / this.model.scale;\r\n        },\r\n\r\n        /**\r\n         * Calculates width of a record in percents.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {String}\r\n         */\r\n        getItemWidth: function (record) {\r\n            var days = 0;\r\n\r\n            if (record) {\r\n                days = this.model.getDaysLength(record);\r\n            }\r\n\r\n            return this.getTimeUnitWidth()  * days;\r\n        },\r\n\r\n        /**\r\n         * Calculates left margin value for provided record.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {String}\r\n         */\r\n        getItemMargin: function (record) {\r\n            var offset = 0;\r\n\r\n            if (record) {\r\n                offset = this.model.getStartDelta(record);\r\n            }\r\n\r\n            return this.getTimeUnitWidth() * offset;\r\n        },\r\n\r\n        /**\r\n         * Returns collection of currently available\r\n         * timeline item elements.\r\n         *\r\n         * @returns {Array<HTMLElement>}\r\n         */\r\n        getItems: function () {\r\n            var items = this.$content.querySelectorAll(this.selectors.item);\r\n\r\n            return _.toArray(items);\r\n        },\r\n\r\n        /**\r\n         * Updates positions of timeline elements.\r\n         *\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        updateItemsPosition: function () {\r\n            this.getItems()\r\n                .forEach(this.updatePositionFor, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates position of provided timeline element.\r\n         *\r\n         * @param {HTMLElement} $elem\r\n         * @returns {TimelineView} Chainable.\r\n         */\r\n        updatePositionFor: function ($elem) {\r\n            var $event      = $elem.querySelector(this.selectors.event),\r\n                leftEdge    = this.getLeftEdgeFor($elem),\r\n                rightEdge   = this.getRightEdgeFor($elem);\r\n\r\n            if ($event) {\r\n                $event.style.left = Math.max(-leftEdge, 0) + 'px';\r\n                $event.style.right = Math.max(rightEdge, 0) + 'px';\r\n            }\r\n\r\n            toggleClass($elem, '_scroll-start', leftEdge < 0);\r\n            toggleClass($elem, '_scroll-end', rightEdge > 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Scrolls content area to the start of provided element.\r\n         *\r\n         * @param {HTMLElement} elem\r\n         * @returns {TimelineView}\r\n         */\r\n        toStartOf: function (elem) {\r\n            var leftEdge = this.getLeftEdgeFor(elem);\r\n\r\n            this.$content.scrollLeft += leftEdge;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Scrolls content area to the end of provided element.\r\n         *\r\n         * @param {HTMLElement} elem\r\n         * @returns {TimelineView}\r\n         */\r\n        toEndOf: function (elem) {\r\n            var rightEdge = this.getRightEdgeFor(elem);\r\n\r\n            this.$content.scrollLeft += rightEdge + 1;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calculates location of the left edge of an element\r\n         * relative to the contents' left edge.\r\n         *\r\n         * @param {HTMLElement} elem\r\n         * @returns {Number}\r\n         */\r\n        getLeftEdgeFor: function (elem) {\r\n            var leftOffset = elem.getBoundingClientRect().left;\r\n\r\n            return leftOffset - this.$content.getBoundingClientRect().left;\r\n        },\r\n\r\n        /**\r\n         * Calculates location of the right edge of an element\r\n         * relative to the contents' right edge.\r\n         *\r\n         * @param {HTMLElement} elem\r\n         * @returns {Number}\r\n         */\r\n        getRightEdgeFor: function (elem) {\r\n            var elemWidth   = elem.offsetWidth,\r\n                leftEdge    = this.getLeftEdgeFor(elem);\r\n\r\n            return leftEdge + elemWidth - this.$content.offsetWidth;\r\n        },\r\n\r\n        /**\r\n         * 'To Start' button 'click' event handler.\r\n         *\r\n         * @param {jQueryEvent} event\r\n         */\r\n        onToStartClick: function (event) {\r\n            var elem = event.originalEvent.currentTarget;\r\n\r\n            event.stopPropagation();\r\n\r\n            this.toStartOf(elem);\r\n        },\r\n\r\n        /**\r\n         * 'To End' button 'click' event handler.\r\n         *\r\n         * @param {jQueryEvent} event\r\n         */\r\n        onToEndClick: function (event) {\r\n            var elem = event.originalEvent.currentTarget;\r\n\r\n            event.stopPropagation();\r\n\r\n            this.toEndOf(elem);\r\n        },\r\n\r\n        /**\r\n         * Handler of the scale value 'change' event.\r\n         */\r\n        onScaleChange: function () {\r\n            this._update = true;\r\n        },\r\n\r\n        /**\r\n         * Callback function which is invoked\r\n         * when event element was rendered.\r\n         */\r\n        onEventElementRender: function () {\r\n            this._update = true;\r\n        },\r\n\r\n        /**\r\n         * Window 'resize' event handler.\r\n         */\r\n        onWindowResize: function () {\r\n            this._update = true;\r\n        },\r\n\r\n        /**\r\n         * Content container 'scroll' event handler.\r\n         */\r\n        onContentScroll: function () {\r\n            this._update = true;\r\n        },\r\n\r\n        /**\r\n         * Data 'reload' event handler.\r\n         */\r\n        onDataReloaded: function () {\r\n            this._update = true;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/timeline/timeline.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'moment',\r\n    'uiLayout',\r\n    'Magento_Ui/js/grid/listing'\r\n], function (_, moment, layout, Listing) {\r\n    'use strict';\r\n\r\n    var ONE_DAY = 86400000;\r\n\r\n    return Listing.extend({\r\n        defaults: {\r\n            recordTmpl: 'ui/timeline/record',\r\n            dateFormat: 'YYYY-MM-DD HH:mm:ss',\r\n            headerFormat: 'ddd MM/DD',\r\n            detailsFormat: 'DD/MM/YYYY HH:mm:ss',\r\n            scale: 7,\r\n            scaleStep: 1,\r\n            minScale: 7,\r\n            maxScale: 28,\r\n            minDays: 28,\r\n            displayMode: 'timeline',\r\n            displayModes: {\r\n                timeline: {\r\n                    label: 'Timeline',\r\n                    value: 'timeline',\r\n                    template: 'ui/timeline/timeline'\r\n                }\r\n            },\r\n            viewConfig: {\r\n                component: 'Magento_Ui/js/timeline/timeline-view',\r\n                name: '${ $.name }_view',\r\n                model: '${ $.name }'\r\n            },\r\n            tracks: {\r\n                scale: true\r\n            },\r\n            statefull: {\r\n                scale: true\r\n            },\r\n            range: {}\r\n        },\r\n\r\n        /**\r\n         * Initializes Timeline component.\r\n         *\r\n         * @returns {Timeline} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initView()\r\n                .updateRange();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes components configuration.\r\n         *\r\n         * @returns {Timeline} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.maxScale = Math.min(this.minDays, this.maxScale);\r\n            this.minScale = Math.min(this.maxScale, this.minScale);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Timeline} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe.call(this.range, true, 'hasToday');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes TimelineView component.\r\n         *\r\n         * @returns {Timeline} Chainable.\r\n         */\r\n        initView: function () {\r\n            layout([this.viewConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided event record is active,\r\n         * i.e. it has already started.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {Boolean}\r\n         */\r\n        isActive: function (record) {\r\n            return Number(record.status) === 1;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided event record is upcoming,\r\n         * i.e. it will start later on.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {Boolean}\r\n         */\r\n        isUpcoming: function (record) {\r\n            return Number(record.status) === 2;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided event record is permanent,\r\n         * i.e. it has no ending time.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {Boolean}\r\n         */\r\n        isPermanent: function (record) {\r\n            return !this.getEndDate(record);\r\n        },\r\n\r\n        /**\r\n         * Checks if provided date indicates current day.\r\n         *\r\n         * @param {(Number|Moment)} date\r\n         * @returns {Boolenan}\r\n         */\r\n        isToday: function (date) {\r\n            return moment().isSame(date, 'day');\r\n        },\r\n\r\n        /**\r\n         * Checks if range object contains todays date.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasToday: function () {\r\n            return this.range.hasToday;\r\n        },\r\n\r\n        /**\r\n         * Returns start date of provided record.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {String}\r\n         */\r\n        getStartDate: function (record) {\r\n            return record['start_time'];\r\n        },\r\n\r\n        /**\r\n         * Returns end date of provided record.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {String}\r\n         */\r\n        getEndDate: function (record) {\r\n            return record['end_time'];\r\n        },\r\n\r\n        /**\r\n         * Returns difference in days between records' start date\r\n         * and a first day of a range.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {Number}\r\n         */\r\n        getStartDelta: function (record) {\r\n            var start    = this.createDate(this.getStartDate(record)),\r\n                firstDay = this.range.firstDay;\r\n\r\n            return start.diff(firstDay, 'days', true);\r\n        },\r\n\r\n        /**\r\n         * Calculates the amount of days that provided event lasts.\r\n         *\r\n         * @param {Object} record\r\n         * @returns {Number}\r\n         */\r\n        getDaysLength: function (record) {\r\n            var start   = this.createDate(this.getStartDate(record)),\r\n                end     = this.createDate(this.getEndDate(record));\r\n\r\n            if (!end.isValid()) {\r\n                end = this.range.lastDay.endOf('day');\r\n            }\r\n\r\n            return end.diff(start, 'days', true);\r\n        },\r\n\r\n        /**\r\n         * Creates new date object based on provided date string value.\r\n         *\r\n         * @param {String} dateStr\r\n         * @returns {Moment}\r\n         */\r\n        createDate: function (dateStr) {\r\n            return moment(dateStr, this.dateFormat);\r\n        },\r\n\r\n        /**\r\n         * Converts days to weeks.\r\n         *\r\n         * @param {Number} days\r\n         * @returns {Number}\r\n         */\r\n        daysToWeeks: function (days) {\r\n            var weeks = days / 7;\r\n\r\n            if (weeks % 1) {\r\n                weeks = weeks.toFixed(1);\r\n            }\r\n\r\n            return weeks;\r\n        },\r\n\r\n        /**\r\n         * Updates data of a range object,\r\n         * e.g. total days, first day and last day, etc.\r\n         *\r\n         * @returns {Object} Range instance.\r\n         */\r\n        updateRange: function () {\r\n            var firstDay    = this._getFirstDay(),\r\n                lastDay     = this._getLastDay(),\r\n                totalDays   = lastDay.diff(firstDay, 'days'),\r\n                days        = [],\r\n                i           = -1;\r\n\r\n            if (totalDays < this.minDays) {\r\n                totalDays += this.minDays - totalDays - 1;\r\n            }\r\n\r\n            while (++i <= totalDays) {\r\n                days.push(+firstDay + ONE_DAY * i);\r\n            }\r\n\r\n            return _.extend(this.range, {\r\n                days:       days,\r\n                totalDays:  totalDays,\r\n                firstDay:   firstDay,\r\n                lastDay:    moment(_.last(days)),\r\n                hasToday:   this.isToday(firstDay)\r\n            });\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @private\r\n         * @param {String} key\r\n         * @returns {Array<Moment>}\r\n         */\r\n        _getDates: function (key) {\r\n            var dates = [];\r\n\r\n            this.rows.forEach(function (record) {\r\n                if (record[key]) {\r\n                    dates.push(this.createDate(record[key]));\r\n                }\r\n            }, this);\r\n\r\n            return dates;\r\n        },\r\n\r\n        /**\r\n         * Returns date which is closest to the current day.\r\n         *\r\n         * @private\r\n         * @returns {Moment}\r\n         */\r\n        _getFirstDay: function () {\r\n            var dates = this._getDates('start_time'),\r\n                first = moment.min(dates).subtract(1, 'day'),\r\n                today = moment();\r\n\r\n            if (!first.isValid() || first < today) {\r\n                first = today;\r\n            }\r\n\r\n            return first.startOf('day');\r\n        },\r\n\r\n        /**\r\n         * Returns the most distant date\r\n         * specified in available records.\r\n         *\r\n         * @private\r\n         * @returns {Moment}\r\n         */\r\n        _getLastDay: function () {\r\n            var startDates  = this._getDates('start_time'),\r\n                endDates    = this._getDates('end_time'),\r\n                last        = moment.max(startDates.concat(endDates));\r\n\r\n            return last.add(1, 'day').startOf('day');\r\n        },\r\n\r\n        /**\r\n         * TODO: remove after integration with date binding.\r\n         *\r\n         * @param {Number} timestamp\r\n         * @returns {String}\r\n         */\r\n        formatHeader: function (timestamp) {\r\n            return moment(timestamp).format(this.headerFormat);\r\n        },\r\n\r\n        /**\r\n         * TODO: remove after integration with date binding.\r\n         *\r\n         * @param {String} date\r\n         * @returns {String}\r\n         */\r\n        formatDetails: function (date) {\r\n            return moment(date).format(this.detailsFormat);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/view/messages.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'uiComponent',\r\n    '../model/messageList',\r\n    'jquery-ui-modules/effect-blind'\r\n], function (ko, $, Component, globalMessages) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            template: 'Magento_Ui/messages',\r\n            selector: '[data-role=checkout-messages]',\r\n            isHidden: false,\r\n            hideTimeout: 5000,\r\n            hideSpeed: 500,\r\n            listens: {\r\n                isHidden: 'onHiddenChange'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initialize: function (config, messageContainer) {\r\n            this._super()\r\n                .initObservable();\r\n\r\n            this.messageContainer = messageContainer || config.messageContainer || globalMessages;\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('isHidden');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks visibility.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        isVisible: function () {\r\n            return this.isHidden(this.messageContainer.hasMessages());\r\n        },\r\n\r\n        /**\r\n         * Remove all messages.\r\n         */\r\n        removeAll: function () {\r\n            this.messageContainer.clear();\r\n        },\r\n\r\n        /**\r\n         * @param {Boolean} isHidden\r\n         */\r\n        onHiddenChange: function (isHidden) {\r\n            // Hide message block if needed\r\n            if (isHidden) {\r\n                setTimeout(function () {\r\n                    $(this.selector).hide('blind', {}, this.hideSpeed);\r\n                }.bind(this), this.hideTimeout);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ups/js/model/shipping-rates-validation-rules.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return {\r\n        /**\r\n         * @return {Object}\r\n         */\r\n        getRules: function () {\r\n            return {\r\n                'postcode': {\r\n                    'required': true\r\n                },\r\n                'country_id': {\r\n                    'required': true\r\n                }\r\n            };\r\n        }\r\n    };\r\n});\r\n","Magento_Ups/js/model/shipping-rates-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mageUtils',\r\n    'Magento_Ups/js/model/shipping-rates-validation-rules',\r\n    'mage/translate'\r\n], function ($, utils, validationRules, $t) {\r\n    'use strict';\r\n\r\n    return {\r\n        validationErrors: [],\r\n\r\n        /**\r\n         * @param {Object} address\r\n         * @return {Boolean}\r\n         */\r\n        validate: function (address) {\r\n            var self = this;\r\n\r\n            this.validationErrors = [];\r\n            $.each(validationRules.getRules(), function (field, rule) {\r\n                var message;\r\n\r\n                if (rule.required && utils.isEmpty(address[field])) {\r\n                    message = $t('Field ') + field + $t(' is required.');\r\n                    self.validationErrors.push(message);\r\n                }\r\n            });\r\n\r\n            return !this.validationErrors.length;\r\n        }\r\n    };\r\n});\r\n","Magento_Ups/js/view/shipping-rates-validation.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'uiComponent',\r\n    'Magento_Checkout/js/model/shipping-rates-validator',\r\n    'Magento_Checkout/js/model/shipping-rates-validation-rules',\r\n    'Magento_Ups/js/model/shipping-rates-validator',\r\n    'Magento_Ups/js/model/shipping-rates-validation-rules'\r\n], function (\r\n    Component,\r\n    defaultShippingRatesValidator,\r\n    defaultShippingRatesValidationRules,\r\n    upsShippingRatesValidator,\r\n    upsShippingRatesValidationRules\r\n) {\r\n    'use strict';\r\n\r\n    defaultShippingRatesValidator.registerValidator('ups', upsShippingRatesValidator);\r\n    defaultShippingRatesValidationRules.registerRules('ups', upsShippingRatesValidationRules);\r\n\r\n    return Component;\r\n});\r\n","Magento_Usps/js/model/shipping-rates-validation-rules.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return {\r\n        /**\r\n         * @return {Object}\r\n         */\r\n        getRules: function () {\r\n            return {\r\n                'country_id': {\r\n                    'required': true\r\n                },\r\n                'postcode': {\r\n                    'required': false\r\n                }\r\n            };\r\n        }\r\n    };\r\n});\r\n","Magento_Usps/js/model/shipping-rates-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mageUtils',\r\n    './shipping-rates-validation-rules',\r\n    'mage/translate'\r\n], function ($, utils, validationRules, $t) {\r\n    'use strict';\r\n\r\n    var checkoutConfig = window.checkoutConfig;\r\n\r\n    return {\r\n        validationErrors: [],\r\n\r\n        /**\r\n         * @param {Object} address\r\n         * @return {Boolean}\r\n         */\r\n        validate: function (address) {\r\n            var rules = validationRules.getRules(),\r\n                self = this;\r\n\r\n            $.each(rules, function (field, rule) {\r\n                var message;\r\n\r\n                if (rule.required && utils.isEmpty(address[field])) {\r\n                    message = $t('Field ') + field + $t(' is required.');\r\n                    self.validationErrors.push(message);\r\n                }\r\n            });\r\n\r\n            if (!this.validationErrors.length) {\r\n                if (address['country_id'] == checkoutConfig.originCountryCode) { //eslint-disable-line eqeqeq\r\n                    return !utils.isEmpty(address.postcode);\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    };\r\n});\r\n","Magento_Usps/js/view/shipping-rates-validation.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'uiComponent',\r\n    'Magento_Checkout/js/model/shipping-rates-validator',\r\n    'Magento_Checkout/js/model/shipping-rates-validation-rules',\r\n    '../model/shipping-rates-validator',\r\n    '../model/shipping-rates-validation-rules'\r\n], function (\r\n    Component,\r\n    defaultShippingRatesValidator,\r\n    defaultShippingRatesValidationRules,\r\n    uspsShippingRatesValidator,\r\n    uspsShippingRatesValidationRules\r\n) {\r\n    'use strict';\r\n\r\n    defaultShippingRatesValidator.registerValidator('usps', uspsShippingRatesValidator);\r\n    defaultShippingRatesValidationRules.registerRules('usps', uspsShippingRatesValidationRules);\r\n\r\n    return Component;\r\n});\r\n","Magento_Variable/js/grid/columns/radioselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'underscore',\r\n    'mage/translate',\r\n    'Magento_Ui/js/grid/columns/column',\r\n    'jquery'\r\n], function (_, $t, Column, jQuery) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'Magento_Variable/grid/cells/radioselect',\r\n            draggable: false,\r\n            sortable: false,\r\n            selectedVariableCode: null,\r\n            selectedVariableType: null\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super().observe(['selectedVariableCode']);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Remove disable class from Insert Variable button after Variable has been chosen.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        selectVariable: function () {\r\n            if (jQuery('#insert_variable').hasClass('disabled')) {\r\n                jQuery('#insert_variable').removeClass('disabled');\r\n            }\r\n\r\n            return true;\r\n        }\r\n    });\r\n});\r\n","Magento_Vault/js/customer_account/deleteWidget.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/modalToggle',\r\n    'mage/translate'\r\n], function ($, modalToggle) {\r\n    'use strict';\r\n\r\n    return function (config, deleteButton) {\r\n        config.buttons = [\r\n            {\r\n                text: $.mage.__('Cancel'),\r\n                class: 'action secondary cancel'\r\n            }, {\r\n                text: $.mage.__('Delete'),\r\n                class: 'action primary',\r\n\r\n                /**\r\n                 * Default action on button click\r\n                 */\r\n                click: function (event) { //eslint-disable-line no-unused-vars\r\n                    $(deleteButton.form).trigger('submit');\r\n                }\r\n            }\r\n        ];\r\n\r\n        modalToggle(config, deleteButton);\r\n    };\r\n});\r\n","Magento_Vault/js/view/payment/vault-enabler.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*browser:true*/\r\n/*global define*/\r\n/* @api */\r\ndefine(\r\n    [\r\n        'uiElement'\r\n    ],\r\n    function (\r\n        Component\r\n    ) {\r\n        'use strict';\r\n\r\n        return Component.extend({\r\n            defaults: {\r\n                isActivePaymentTokenEnabler: true\r\n            },\r\n\r\n            /**\r\n             * @param {String} paymentCode\r\n             */\r\n            setPaymentCode: function (paymentCode) {\r\n                this.paymentCode = paymentCode;\r\n            },\r\n\r\n            /**\r\n             * @returns {Object}\r\n             */\r\n            initObservable: function () {\r\n                this._super()\r\n                    .observe([\r\n                        'isActivePaymentTokenEnabler'\r\n                    ]);\r\n\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * @param {Object} data\r\n             */\r\n            visitAdditionalData: function (data) {\r\n                if (!this.isVaultEnabled()) {\r\n                    return;\r\n                }\r\n\r\n                if (!('additional_data' in data)) {\r\n                    data['additional_data'] = {};\r\n                }\r\n\r\n                data['additional_data']['is_active_payment_token_enabler'] = this.isActivePaymentTokenEnabler();\r\n            },\r\n\r\n            /**\r\n             * @returns {Boolean}\r\n             */\r\n            isVaultEnabled: function () {\r\n                return typeof window.checkoutConfig.vault[this.paymentCode] !== 'undefined' &&\r\n                    window.checkoutConfig.vault[this.paymentCode]['is_enabled'] === true;\r\n            }\r\n        });\r\n    }\r\n);\r\n","Magento_Vault/js/view/payment/vault.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*browser:true*/\r\n/*global define*/\r\n/* @api */\r\ndefine([\r\n    'underscore',\r\n    'uiComponent',\r\n    'Magento_Checkout/js/model/payment/renderer-list',\r\n    'uiLayout',\r\n    'uiRegistry'\r\n], function (_, Component, rendererList, layout, registry) {\r\n    'use strict';\r\n\r\n    var vaultGroupName = 'vaultGroup';\r\n\r\n    layout([{\r\n        name: vaultGroupName,\r\n        component: 'Magento_Checkout/js/model/payment/method-group',\r\n        alias: 'vault',\r\n        sortOrder: 10\r\n    }]);\r\n\r\n    registry.get(vaultGroupName, function (vaultGroup) {\r\n        _.each(window.checkoutConfig.payment.vault, function (config, index) {\r\n            rendererList.push(\r\n                {\r\n                    type: index,\r\n                    config: config.config,\r\n                    component: config.component,\r\n                    group: vaultGroup,\r\n\r\n                    /**\r\n                     * Custom payment method types comparator\r\n                     * @param {String} typeA\r\n                     * @param {String} typeB\r\n                     * @return {Boolean}\r\n                     */\r\n                    typeComparatorCallback: function (typeA, typeB) {\r\n                        // vault token items have the same name as vault payment without index\r\n                        return typeA.substring(0, typeA.lastIndexOf('_')) === typeB;\r\n                    }\r\n                }\r\n            );\r\n        });\r\n    });\r\n\r\n    /**\r\n     * Add view logic here if needed\r\n     */\r\n    return Component.extend({});\r\n});\r\n","Magento_Vault/js/view/payment/method-renderer/vault.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*browser:true*/\r\n/*global define*/\r\ndefine(\r\n    [\r\n        'Magento_Checkout/js/view/payment/default',\r\n        'Magento_Checkout/js/action/select-payment-method',\r\n        'Magento_Checkout/js/checkout-data'\r\n    ],\r\n    function (Component, selectPaymentMethod, checkoutData) {\r\n        'use strict';\r\n\r\n        return Component.extend({\r\n            defaults: {\r\n                template: 'Magento_Vault/payment/form'\r\n            },\r\n\r\n            /**\r\n             * @returns {exports.initObservable}\r\n             */\r\n            initObservable: function () {\r\n                this._super()\r\n                    .observe([]);\r\n\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * @returns\r\n             */\r\n            selectPaymentMethod: function () {\r\n                selectPaymentMethod(\r\n                    {\r\n                        method: this.getId()\r\n                    }\r\n                );\r\n                checkoutData.setSelectedPaymentMethod(this.getId());\r\n\r\n                return true;\r\n            },\r\n\r\n            /**\r\n             * @returns {String}\r\n             */\r\n            getTitle: function () {\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * @returns {String}\r\n             */\r\n            getToken: function () {\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * @returns {String}\r\n             */\r\n            getId: function () {\r\n                return this.index;\r\n            },\r\n\r\n            /**\r\n             * @returns {String}\r\n             */\r\n            getCode: function () {\r\n                return this.code;\r\n            },\r\n\r\n            /**\r\n             * Get last 4 digits of card\r\n             * @returns {String}\r\n             */\r\n            getMaskedCard: function () {\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * Get expiration date\r\n             * @returns {String}\r\n             */\r\n            getExpirationDate: function () {\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * Get card type\r\n             * @returns {String}\r\n             */\r\n            getCardType: function () {\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * @param {String} type\r\n             * @returns {Boolean}\r\n             */\r\n            getIcons: function (type) {\r\n                return window.checkoutConfig.payment.ccform.icons.hasOwnProperty(type) ?\r\n                    window.checkoutConfig.payment.ccform.icons[type]\r\n                    : false;\r\n            },\r\n\r\n            /**\r\n             * Return state of place order button.\r\n             *\r\n             * @return {Boolean}\r\n             */\r\n            isButtonActive: function () {\r\n                return this.isActive() && this.isPlaceOrderActionAllowed();\r\n            },\r\n\r\n            /**\r\n             * Check if payment is active.\r\n             *\r\n             * @return {Boolean}\r\n             */\r\n            isActive: function () {\r\n                return this.isChecked() === this.getId();\r\n            },\r\n\r\n            /**\r\n             * @returns {*}\r\n             */\r\n            getData: function () {\r\n                var data = {\r\n                    method: this.getCode()\r\n                };\r\n\r\n                data['additional_data'] = {};\r\n                data['additional_data']['public_hash'] = this.getToken();\r\n\r\n                return data;\r\n            }\r\n        });\r\n    }\r\n);\r\n","Magento_Weee/js/tax-toggle.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {Object} config\r\n     * @param {jQuery.Event} e\r\n     */\r\n    function onToggle(config, e) {\r\n        var elem = $(e.currentTarget),\r\n            expandedClassName = config.expandedClassName || 'cart-tax-total-expanded';\r\n\r\n        elem.toggleClass(expandedClassName);\r\n\r\n        $(config.itemTaxId).toggle();\r\n    }\r\n\r\n    return function (data, el) {\r\n        $(el).on('click', onToggle.bind(null, data));\r\n    };\r\n});\r\n","Magento_Weee/js/price/adjustment.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'Magento_Ui/js/grid/columns/column'\r\n], function (Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            bodyTmpl: 'Magento_Weee/price/adjustment',\r\n            dataSource: '${ $.parentName }.provider',\r\n            //Weee configuration constants can be configured from backend\r\n            inclFptWithDesc: 1,//show FPT and description\r\n            inclFpt: 0, //show FPT attribute\r\n            exclFpt: 2, //do not show FPT\r\n            bothFptPrices: 3 //show price without FPT and with FPT and with description\r\n        },\r\n\r\n        /**\r\n         * Get Weee attributes.\r\n         *\r\n         * @param {Object} row\r\n         * @return {HTMLElement} Weee html\r\n         */\r\n        getWeeeAttributes: function (row) {\r\n            return row['price_info']['extension_attributes']['weee_attributes'];\r\n        },\r\n\r\n        /**\r\n         * Get Weee without Tax attributes.\r\n         *\r\n         * @param {Object} taxAmount\r\n         * @return {HTMLElement} Weee html\r\n         */\r\n        getWeeeTaxWithoutTax: function (taxAmount) {\r\n            return taxAmount['amount_excl_tax'];\r\n        },\r\n\r\n        /**\r\n         * UnsanitizedHtml version of getWeeeTaxWithoutTax.\r\n         *\r\n         * @param {Object} taxAmount\r\n         * @return {HTMLElement} Weee html\r\n         */\r\n        getWeeeTaxWithoutTaxUnsanitizedHtml: function (taxAmount) {\r\n            return this.getWeeeTaxWithoutTax(taxAmount);\r\n        },\r\n\r\n        /**\r\n         * Get Weee with Tax attributes.\r\n         *\r\n         * @param {Object} taxAmount\r\n         * @return {HTMLElement} Weee html\r\n         */\r\n        getWeeeTaxWithTax: function (taxAmount) {\r\n            return taxAmount['tax_amount_incl_tax'];\r\n        },\r\n\r\n        /**\r\n         * UnsanitizedHtml version of getWeeeTaxWithTax.\r\n         *\r\n         * @param {Object} taxAmount\r\n         * @return {HTMLElement} Weee html\r\n         */\r\n        getWeeeTaxWithTaxUnsanitizedHtml: function (taxAmount) {\r\n            return this.getWeeeTaxWithTax(taxAmount);\r\n        },\r\n\r\n        /**\r\n         * Get Weee Tax name.\r\n         *\r\n         * @param {String} taxAmount\r\n         * @return {String} Weee name\r\n         */\r\n        getWeeTaxAttributeName: function (taxAmount) {\r\n            return taxAmount['attribute_code'];\r\n        },\r\n\r\n        /**\r\n         * Set price type.\r\n         *\r\n         * @param {String} priceType\r\n         * @return {Object}\r\n         */\r\n        setPriceType: function (priceType) {\r\n            this.taxPriceType = priceType;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Check if Weee Tax must be shown.\r\n         *\r\n         * @param {Object} row\r\n         * @return {Boolean}\r\n         */\r\n        isShown: function (row) {\r\n            return row['price_info']['extension_attributes']['weee_attributes'].length;\r\n        },\r\n\r\n        /**\r\n         * Get Weee final price.\r\n         *\r\n         * @param {Object} row\r\n         * @return {HTMLElement} Weee final price html\r\n         */\r\n        getWeeeAdjustment: function (row) {\r\n            return row['price_info']['extension_attributes']['weee_adjustment'];\r\n        },\r\n\r\n        /**\r\n         * UnsanitizedHtml version of getWeeeAdjustment.\r\n         *\r\n         * @param {Object} row\r\n         * @return {HTMLElement} Weee final price html\r\n         */\r\n        getWeeeAdjustmentUnsanitizedHtml: function (row) {\r\n            return this.getWeeeAdjustment(row);\r\n        },\r\n\r\n        /**\r\n         * Return whether display setting is to display price including FPT only.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        displayPriceInclFpt: function () {\r\n            return +this.source.data.displayWeee === this.inclFpt;\r\n        },\r\n\r\n        /**\r\n         * Return whether display setting is to display\r\n         * price including FPT and FPT description.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        displayPriceInclFptDescr: function () {\r\n            return +this.source.data.displayWeee === this.inclFptWithDesc;\r\n        },\r\n\r\n        /**\r\n         * Return whether display setting is to display price\r\n         * excluding FPT but including FPT description and final price.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        displayPriceExclFptDescr: function () {\r\n            return +this.source.data.displayWeee === this.exclFpt;\r\n        },\r\n\r\n        /**\r\n         * Return whether display setting is to display price excluding FPT.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        displayPriceExclFpt: function () {\r\n            return +this.source.data.displayWeee === this.bothFptPrices;\r\n        },\r\n\r\n        /**\r\n         * Return whether display setting is to display price excluding tax.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        displayPriceExclTax: function () {\r\n            return +this.source.data.displayTaxes === this.inclFptWithDesc;\r\n        },\r\n\r\n        /**\r\n         * Return whether display setting is to display price including tax.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        displayPriceInclTax: function () {\r\n            return +this.source.data.displayTaxes === this.exclFpt;\r\n        },\r\n\r\n        /**\r\n         * Return whether display setting is to display\r\n         * both price including tax and price excluding tax.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        displayBothPricesTax: function () {\r\n            return +this.source.data.displayTaxes === this.bothFptPrices;\r\n        }\r\n    });\r\n});\r\n","Magento_Weee/js/view/cart/totals/weee.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'Magento_Weee/js/view/checkout/summary/weee'\r\n], function (Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n\r\n        /**\r\n         * @override\r\n         */\r\n        isFullMode: function () {\r\n            return true;\r\n        }\r\n    });\r\n});\r\n","Magento_Weee/js/view/checkout/summary/weee.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n\r\ndefine([\r\n    'Magento_Checkout/js/view/summary/abstract-total',\r\n    'Magento_Checkout/js/model/quote',\r\n    'Magento_Checkout/js/model/totals',\r\n    'Magento_Catalog/js/price-utils'\r\n], function (Component, quote, totals) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            template: 'Magento_Weee/checkout/summary/weee'\r\n        },\r\n        isIncludedInSubtotal: window.checkoutConfig.isIncludedInSubtotal,\r\n        totals: totals.totals,\r\n\r\n        /**\r\n         * @returns {Number}\r\n         */\r\n        getWeeeTaxSegment: function () {\r\n            var weee = totals.getSegment('weee_tax') || totals.getSegment('weee');\r\n\r\n            if (weee !== null && weee.hasOwnProperty('value')) {\r\n                return weee.value;\r\n            }\r\n\r\n            return 0;\r\n        },\r\n\r\n        /**\r\n         * Get weee value\r\n         * @returns {String}\r\n         */\r\n        getValue: function () {\r\n            return this.getFormattedPrice(this.getWeeeTaxSegment());\r\n        },\r\n\r\n        /**\r\n         * Weee display flag\r\n         * @returns {Boolean}\r\n         */\r\n        isDisplayed: function () {\r\n            return this.isFullMode() && this.getWeeeTaxSegment() > 0;\r\n        }\r\n    });\r\n});\r\n","Magento_Weee/js/view/checkout/summary/item/price/row_excl_tax.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n\r\ndefine([\r\n    'Magento_Weee/js/view/checkout/summary/item/price/weee'\r\n], function (weee) {\r\n    'use strict';\r\n\r\n    return weee.extend({\r\n        defaults: {\r\n            template: 'Magento_Weee/checkout/summary/item/price/row_excl_tax'\r\n        },\r\n\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Number}\r\n         */\r\n        getFinalRowDisplayPriceExclTax: function (item) {\r\n            var rowTotalExclTax = parseFloat(item['row_total']);\r\n\r\n            if (!window.checkoutConfig.getIncludeWeeeFlag) {\r\n                rowTotalExclTax += parseFloat(item['weee_tax_applied_amount']);\r\n            }\r\n\r\n            return rowTotalExclTax;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Number}\r\n         */\r\n        getRowDisplayPriceExclTax: function (item) {\r\n            var rowTotalExclTax = parseFloat(item['row_total']);\r\n\r\n            if (window.checkoutConfig.getIncludeWeeeFlag) {\r\n                rowTotalExclTax += this.getRowWeeeTaxExclTax(item);\r\n            }\r\n\r\n            return rowTotalExclTax;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Number}\r\n         */\r\n        getRowWeeeTaxExclTax: function (item) {\r\n            var totalWeeeTaxExclTaxApplied = 0,\r\n                weeeTaxAppliedAmounts;\r\n\r\n            if (item['weee_tax_applied']) {\r\n                weeeTaxAppliedAmounts = JSON.parse(item['weee_tax_applied']);\r\n                weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\r\n                    totalWeeeTaxExclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount['row_amount'], 0));\r\n                });\r\n            }\r\n\r\n            return totalWeeeTaxExclTaxApplied;\r\n        }\r\n\r\n    });\r\n});\r\n","Magento_Weee/js/view/checkout/summary/item/price/row_incl_tax.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n\r\ndefine([\r\n    'Magento_Weee/js/view/checkout/summary/item/price/weee'\r\n], function (weee) {\r\n    'use strict';\r\n\r\n    return weee.extend({\r\n        defaults: {\r\n            template: 'Magento_Weee/checkout/summary/item/price/row_incl_tax',\r\n            displayArea: 'row_incl_tax'\r\n        },\r\n\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Number}\r\n         */\r\n        getFinalRowDisplayPriceInclTax: function (item) {\r\n            var rowTotalInclTax = parseFloat(item['row_total_incl_tax']);\r\n\r\n            if (!window.checkoutConfig.getIncludeWeeeFlag) {\r\n                rowTotalInclTax += this.getRowWeeeTaxInclTax(item);\r\n            }\r\n\r\n            return rowTotalInclTax;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Number}\r\n         */\r\n        getRowDisplayPriceInclTax: function (item) {\r\n            var rowTotalInclTax = parseFloat(item['row_total_incl_tax']);\r\n\r\n            if (window.checkoutConfig.getIncludeWeeeFlag) {\r\n                rowTotalInclTax += this.getRowWeeeTaxInclTax(item);\r\n            }\r\n\r\n            return rowTotalInclTax;\r\n        },\r\n\r\n        /**\r\n         * @param {Object}item\r\n         * @return {Number}\r\n         */\r\n        getRowWeeeTaxInclTax: function (item) {\r\n            var totalWeeeTaxInclTaxApplied = 0,\r\n                weeeTaxAppliedAmounts;\r\n\r\n            if (item['weee_tax_applied']) {\r\n                weeeTaxAppliedAmounts = JSON.parse(item['weee_tax_applied']);\r\n                weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\r\n                    totalWeeeTaxInclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount['row_amount_incl_tax'], 0));\r\n                });\r\n            }\r\n\r\n            return totalWeeeTaxInclTaxApplied;\r\n        }\r\n\r\n    });\r\n});\r\n","Magento_Weee/js/view/checkout/summary/item/price/weee.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n\r\ndefine([\r\n    'Magento_Checkout/js/view/summary/abstract-total',\r\n    'Magento_Checkout/js/model/quote'\r\n], function (Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Boolean}\r\n         */\r\n        isDisplayPriceWithWeeeDetails: function (item) {\r\n            if (!parseFloat(item['weee_tax_applied_amount']) || parseFloat(item['weee_tax_applied_amount'] <= 0)) {\r\n                return false;\r\n            }\r\n\r\n            return window.checkoutConfig.isDisplayPriceWithWeeeDetails;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Boolean}\r\n         */\r\n        isDisplayFinalPrice: function (item) {\r\n            if (!parseFloat(item['weee_tax_applied_amount'])) {\r\n                return false;\r\n            }\r\n\r\n            return window.checkoutConfig.isDisplayFinalPrice;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} item\r\n         * @return {Array}\r\n         */\r\n        getWeeeTaxApplied: function (item) {\r\n            if (item['weee_tax_applied']) {\r\n                return JSON.parse(item['weee_tax_applied']);\r\n            }\r\n\r\n            return [];\r\n        }\r\n    });\r\n});\r\n","Magento_Wishlist/js/add-to-wishlist.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'jquery-ui-modules/widget'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    $.widget('mage.addToWishlist', {\r\n        options: {\r\n            bundleInfo: 'div.control [name^=bundle_option]',\r\n            configurableInfo: '.super-attribute-select',\r\n            groupedInfo: '#super-product-table input',\r\n            downloadableInfo: '#downloadable-links-list input',\r\n            customOptionsInfo: '.product-custom-option',\r\n            qtyInfo: '#qty',\r\n            actionElement: '[data-action=\"add-to-wishlist\"]',\r\n            productListWrapper: '.product-item-info',\r\n            productPageWrapper: '.product-info-main'\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        _create: function () {\r\n            this._bind();\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _bind: function () {\r\n            var options = this.options,\r\n                dataUpdateFunc = '_updateWishlistData',\r\n                validateProductQty = '_validateWishlistQty',\r\n                changeCustomOption = 'change ' + options.customOptionsInfo,\r\n                changeQty = 'change ' + options.qtyInfo,\r\n                updateWishlist = 'click ' + options.actionElement,\r\n                events = {},\r\n                key;\r\n\r\n            if ('productType' in options) {\r\n                if (typeof options.productType === 'string') {\r\n                    options.productType = [options.productType];\r\n                }\r\n            } else {\r\n                options.productType = [];\r\n            }\r\n\r\n            events[changeCustomOption] = dataUpdateFunc;\r\n            events[changeQty] = dataUpdateFunc;\r\n            events[updateWishlist] = validateProductQty;\r\n\r\n            for (key in options.productType) {\r\n                if (options.productType.hasOwnProperty(key) && options.productType[key] + 'Info' in options) {\r\n                    events['change ' + options[options.productType[key] + 'Info']] = dataUpdateFunc;\r\n                }\r\n            }\r\n            this._on(events);\r\n        },\r\n\r\n        /**\r\n         * @param {jQuery.Event} event\r\n         * @private\r\n         */\r\n        _updateWishlistData: function (event) {\r\n            var dataToAdd = {},\r\n                isFileUploaded = false,\r\n                handleObjSelector = null,\r\n                self = this;\r\n\r\n            if (event.handleObj.selector == this.options.qtyInfo) { //eslint-disable-line eqeqeq\r\n                this._updateAddToWishlistButton({}, event);\r\n                event.stopPropagation();\r\n\r\n                return;\r\n            }\r\n\r\n            handleObjSelector = $(event.currentTarget).closest('form').find(event.handleObj.selector);\r\n\r\n            handleObjSelector.each(function (index, element) {\r\n                if ($(element).is('input[type=text]') ||\r\n                    $(element).is('input[type=email]') ||\r\n                    $(element).is('input[type=number]') ||\r\n                    $(element).is('input[type=hidden]') ||\r\n                    $(element).is('input[type=checkbox]:checked') ||\r\n                    $(element).is('input[type=radio]:checked') ||\r\n                    $(element).is('textarea') ||\r\n                    $('#' + element.id + ' option:selected').length\r\n                ) {\r\n                    if ($(element).data('selector') || $(element).attr('name')) {\r\n                        dataToAdd = $.extend({}, dataToAdd, self._getElementData(element));\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                if ($(element).is('input[type=file]') && $(element).val()) {\r\n                    isFileUploaded = true;\r\n                }\r\n            });\r\n\r\n            if (isFileUploaded) {\r\n                this.bindFormSubmit();\r\n            }\r\n            this._updateAddToWishlistButton(dataToAdd, event);\r\n            event.stopPropagation();\r\n        },\r\n\r\n        /**\r\n         * @param {Object} dataToAdd\r\n         * @param {jQuery.Event} event\r\n         * @private\r\n         */\r\n        _updateAddToWishlistButton: function (dataToAdd, event) {\r\n            var self = this,\r\n                buttons = this._getAddToWishlistButton(event);\r\n\r\n            buttons.each(function (index, element) {\r\n                var params = $(element).data('post'),\r\n                    currentTarget = event.currentTarget,\r\n                    targetElement,\r\n                    targetValue;\r\n\r\n                if (!params) {\r\n                    params = {\r\n                        'data': {}\r\n                    };\r\n                } else if ($(currentTarget).data('selector') || $(currentTarget).attr('name')) {\r\n                    targetElement = self._getElementData(currentTarget);\r\n                    targetValue = Object.keys(targetElement)[0];\r\n\r\n                    if (params.data.hasOwnProperty(targetValue) && !dataToAdd.hasOwnProperty(targetValue)) {\r\n                        delete params.data[targetValue];\r\n                    }\r\n                }\r\n\r\n                params.data = $.extend({}, params.data, dataToAdd, {\r\n                    'qty': $(self.options.qtyInfo).val()\r\n                });\r\n                $(element).data('post', params);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @param {jQuery.Event} event\r\n         * @private\r\n         */\r\n        _getAddToWishlistButton: function (event) {\r\n            var productListWrapper = $(event.currentTarget).closest(this.options.productListWrapper);\r\n\r\n            if (productListWrapper.length) {\r\n                return productListWrapper.find(this.options.actionElement);\r\n            }\r\n\r\n            return $(this.options.actionElement);\r\n        },\r\n\r\n        /**\r\n         * @param {Object} array1\r\n         * @param {Object} array2\r\n         * @return {Object}\r\n         * @private\r\n         * @deprecated\r\n         */\r\n        _arrayDiffByKeys: function (array1, array2) {\r\n            var result = {};\r\n\r\n            $.each(array1, function (key, value) {\r\n                if (key.indexOf('option') === -1) {\r\n                    return;\r\n                }\r\n\r\n                if (!array2[key]) {\r\n                    result[key] = value;\r\n                }\r\n            });\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * @param {HTMLElement} element\r\n         * @return {Object}\r\n         * @private\r\n         */\r\n        _getElementData: function (element) {\r\n            var data, elementName, elementValue;\r\n\r\n            element = $(element);\r\n            data = {};\r\n            elementName = element.data('selector') ? element.data('selector') : element.attr('name');\r\n            elementValue = element.val();\r\n\r\n            if (element.is('select[multiple]') && elementValue !== null) {\r\n                if (elementName.substr(elementName.length - 2) == '[]') { //eslint-disable-line eqeqeq\r\n                    elementName = elementName.substring(0, elementName.length - 2);\r\n                }\r\n                $.each(elementValue, function (key, option) {\r\n                    data[elementName + '[' + option + ']'] = option;\r\n                });\r\n            } else if (elementName.substr(elementName.length - 2) == '[]') { //eslint-disable-line eqeqeq, max-depth\r\n                elementName = elementName.substring(0, elementName.length - 2);\r\n\r\n                data[elementName + '[' + elementValue + ']'] = elementValue;\r\n            } else {\r\n                data[elementName] = elementValue;\r\n            }\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} params\r\n         * @param {Object} dataToAdd\r\n         * @private\r\n         * @deprecated\r\n         */\r\n        _removeExcessiveData: function (params, dataToAdd) {\r\n            var dataToRemove = this._arrayDiffByKeys(params.data, dataToAdd);\r\n\r\n            $.each(dataToRemove, function (key) {\r\n                delete params.data[key];\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Bind form submit.\r\n         */\r\n        bindFormSubmit: function () {\r\n            var self = this;\r\n\r\n            $('[data-action=\"add-to-wishlist\"]').on('click', function (event) {\r\n                var element, params, form, action;\r\n\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n\r\n                element = $('input[type=file]' + self.options.customOptionsInfo);\r\n                params = $(event.currentTarget).data('post');\r\n                form = $(element).closest('form');\r\n                action = params.action;\r\n\r\n                if (params.data.id) {\r\n                    $('<input>', {\r\n                        type: 'hidden',\r\n                        name: 'id',\r\n                        value: params.data.id\r\n                    }).appendTo(form);\r\n                }\r\n\r\n                if (params.data.uenc) {\r\n                    action += 'uenc/' + params.data.uenc;\r\n                }\r\n\r\n                $(form).attr('action', action).trigger('submit');\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Validate product quantity before updating Wish List\r\n         *\r\n         * @param {jQuery.Event} event\r\n         * @private\r\n         */\r\n        _validateWishlistQty: function (event) {\r\n            var element = $(this.options.qtyInfo);\r\n\r\n            if (!(element.validation() && element.validation('isValid'))) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                return;\r\n            }\r\n        }\r\n    });\r\n\r\n    return $.mage.addToWishlist;\r\n});\r\n","Magento_Wishlist/js/search.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'jquery-ui-modules/widget'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    $.widget('mage.wishlistSearch', {\r\n\r\n        /**\r\n         * Bind handlers to events\r\n         */\r\n        _create: function () {\r\n            this.element.on('change', $.proxy(this._toggleForm, this));\r\n        },\r\n\r\n        /**\r\n         * Toggle Form\r\n         * @private\r\n         */\r\n        _toggleForm: function () {\r\n            switch (this.element.val()) {\r\n                case 'name':\r\n                    $(this.options.emailFormSelector).hide();\r\n                    $(this.options.nameFormSelector).show();\r\n                    break;\r\n\r\n                case 'email':\r\n                    $(this.options.nameFormSelector).hide();\r\n                    $(this.options.emailFormSelector).show();\r\n                    break;\r\n                default:\r\n                    $(this.options.emailFormSelector).add(this.options.nameFormSelector).hide();\r\n            }\r\n        }\r\n    });\r\n\r\n    return $.mage.wishlistSearch;\r\n});\r\n","Magento_Wishlist/js/wishlist.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'Magento_Ui/js/modal/alert',\r\n    'jquery-ui-modules/widget',\r\n    'mage/validation/validation',\r\n    'mage/dataPost'\r\n], function ($, mageTemplate, alert) {\r\n    'use strict';\r\n\r\n    $.widget('mage.wishlist', {\r\n        options: {\r\n            dataAttribute: 'item-id',\r\n            nameFormat: 'qty[{0}]',\r\n            btnRemoveSelector: '[data-role=remove]',\r\n            qtySelector: '[data-role=qty]',\r\n            addToCartSelector: '[data-role=tocart]',\r\n            addAllToCartSelector: '[data-role=all-tocart]',\r\n            commentInputType: 'textarea',\r\n            infoList: false\r\n        },\r\n\r\n        /**\r\n         * Bind handlers to events.\r\n         */\r\n        _create: function () {\r\n            var _this = this;\r\n\r\n            if (!this.options.infoList) {\r\n                this.element\r\n                    .on('addToCart', function (event, context) {\r\n                        var urlParams;\r\n\r\n                        event.stopPropagation(event);\r\n                        $(context).data('stop-processing', true);\r\n                        urlParams = _this._getItemsToCartParams(\r\n                            $(context).parents('[data-row=product-item]').find(_this.options.addToCartSelector)\r\n                        );\r\n                        $.mage.dataPost().postData(urlParams);\r\n\r\n                        return false;\r\n                    })\r\n                    .on('click', this.options.btnRemoveSelector, $.proxy(function (event) {\r\n                        event.preventDefault();\r\n                        $.mage.dataPost().postData($(event.currentTarget).data('post-remove'));\r\n                    }, this))\r\n                    .on('click', this.options.addToCartSelector, $.proxy(this._beforeAddToCart, this))\r\n                    .on('click', this.options.addAllToCartSelector, $.proxy(this._addAllWItemsToCart, this))\r\n                    .on('focusin focusout', this.options.commentInputType, $.proxy(this._focusComment, this));\r\n            }\r\n\r\n            // Setup validation for the form\r\n            this.element.mage('validation', {\r\n                /** @inheritdoc */\r\n                errorPlacement: function (error, element) {\r\n                    error.insertAfter(element.next());\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Process data before add to cart\r\n         *\r\n         * - update item's qty value.\r\n         *\r\n         * @param {Event} event\r\n         * @private\r\n         */\r\n        _beforeAddToCart: function (event) {\r\n            var elem = $(event.currentTarget),\r\n                itemId = elem.data(this.options.dataAttribute),\r\n                qtyName = $.validator.format(this.options.nameFormat, itemId),\r\n                qtyValue = elem.parents().find('[name=\"' + qtyName + '\"]').val(),\r\n                params = elem.data('post');\r\n\r\n            if (params) {\r\n                params.data = $.extend({}, params.data, {\r\n                    'qty': qtyValue\r\n                });\r\n                elem.data('post', params);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Add wish list items to cart.\r\n         * @private\r\n         * @param {jQuery} elem - clicked 'add to cart' button\r\n         */\r\n        _getItemsToCartParams: function (elem) {\r\n            var itemId, url, qtyName, qtyValue;\r\n\r\n            if (elem.data(this.options.dataAttribute)) {\r\n                itemId = elem.data(this.options.dataAttribute);\r\n                url = this.options.addToCartUrl;\r\n                qtyName = $.validator.format(this.options.nameFormat, itemId);\r\n                qtyValue = elem.parents().find('[name=\"' + qtyName + '\"]').val();\r\n                url.data.item = itemId;\r\n                url.data.qty = qtyValue;\r\n\r\n                return url;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Add all wish list items to cart\r\n         * @private\r\n         */\r\n        _addAllWItemsToCart: function () {\r\n            var urlParams = this.options.addAllToCartUrl,\r\n                separator = urlParams.action.indexOf('?') >= 0 ? '&' : '?';\r\n\r\n            this.element.find(this.options.qtySelector).each(function (index, element) {\r\n                urlParams.action += separator + $(element).prop('name') + '=' + encodeURIComponent($(element).val());\r\n                separator = '&';\r\n            });\r\n            $.mage.dataPost().postData(urlParams);\r\n        },\r\n\r\n        /**\r\n         * Toggle comment string.\r\n         * @private\r\n         * @param {Event} e\r\n         */\r\n        _focusComment: function (e) {\r\n            var commentInput = e.currentTarget;\r\n\r\n            if (commentInput.value === '' || commentInput.value === this.options.commentString) {\r\n                commentInput.value = commentInput.value === this.options.commentString ?\r\n                    '' : this.options.commentString;\r\n            }\r\n        }\r\n    });\r\n\r\n    // Extension for mage.wishlist - Select All checkbox\r\n    $.widget('mage.wishlist', $.mage.wishlist, {\r\n        options: {\r\n            selectAllCheckbox: '#select-all',\r\n            parentContainer: '#wishlist-table'\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        _create: function () {\r\n            var selectAllCheckboxParent, checkboxCount;\r\n\r\n            this._super();\r\n            selectAllCheckboxParent = $(this.options.selectAllCheckbox).parents(this.options.parentContainer);\r\n            checkboxCount = selectAllCheckboxParent\r\n                .find('input:checkbox:not(' + this.options.selectAllCheckbox + ')').length;\r\n            // If Select all checkbox is checked, check all item checkboxes, if unchecked, uncheck all item checkboxes\r\n            $(this.options.selectAllCheckbox).on('click', function () {\r\n                selectAllCheckboxParent.find('input:checkbox').attr('checked', $(this).is(':checked'));\r\n            });\r\n            // If all item checkboxes are checked, check select all checkbox,\r\n            // if not all item checkboxes are checked, uncheck select all checkbox\r\n            selectAllCheckboxParent.on(\r\n                'click',\r\n                'input:checkbox:not(' + this.options.selectAllCheckbox + ')',\r\n                $.proxy(function () {\r\n                    var checkedCount = selectAllCheckboxParent\r\n                        .find('input:checkbox:checked:not(' + this.options.selectAllCheckbox + ')').length;\r\n\r\n                    $(this.options.selectAllCheckbox).attr('checked', checkboxCount === checkedCount);\r\n                }, this)\r\n            );\r\n        }\r\n    });\r\n    // Extension for mage.wishlist info add to cart\r\n    $.widget('mage.wishlist', $.mage.wishlist, {\r\n        /** @inheritdoc */\r\n        _create: function () {\r\n            this._super();\r\n\r\n            if (this.options.infoList) {\r\n                this.element.on('addToCart', $.proxy(function (event, context) {\r\n                    this.element.find('input:checkbox').attr('checked', false);\r\n                    $(context).closest('tr').find('input:checkbox').attr('checked', true);\r\n                    this.element.trigger('submit');\r\n                }, this));\r\n                this._checkBoxValidate();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * validate checkbox selection.\r\n         * @private\r\n         */\r\n        _checkBoxValidate: function () {\r\n            this.element.validation({\r\n                submitHandler: $.proxy(function (form) {\r\n                    if ($(form).find('input:checkbox:checked').length) {\r\n                        form.submit();\r\n                    } else {\r\n                        alert({\r\n                            content: this.options.checkBoxValidationMessage\r\n                        });\r\n                    }\r\n                }, this)\r\n            });\r\n        }\r\n    });\r\n\r\n    // Extension for mage.wishlist - Add Wishlist item to Gift Registry\r\n    $.widget('mage.wishlist', $.mage.wishlist, {\r\n        options: {\r\n            formTmplSelector: '#form-tmpl',\r\n            formTmplId: '#wishlist-hidden-form'\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        _create: function () {\r\n            var _this = this;\r\n\r\n            this._super();\r\n            this.element.on('click', '[data-wishlist-to-giftregistry]', function () {\r\n                var json = $(this).data('wishlist-to-giftregistry'),\r\n                    tmplJson = {\r\n                        item: json.itemId,\r\n                        entity: json.entity,\r\n                        url: json.url\r\n                    },\r\n                    html = mageTemplate(_this.options.formTmplSelector, {\r\n                        data: tmplJson\r\n                    });\r\n\r\n                $(html).appendTo('body');\r\n                $(_this.options.formTmplId).trigger('submit');\r\n            });\r\n        }\r\n    });\r\n\r\n    return $.mage.wishlist;\r\n});\r\n","Magento_Wishlist/js/product/addtowishlist-button.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'Magento_Ui/js/grid/columns/column',\r\n    'Magento_Catalog/js/product/uenc-processor',\r\n    'Magento_Catalog/js/product/list/column-status-validator'\r\n], function (Element, uencProcessor, columnStatusValidator) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            label: ''\r\n        },\r\n\r\n        /**\r\n         * Get request POST data.\r\n         *\r\n         * @param {Object} row\r\n         * @return {String}\r\n         */\r\n        getDataPost: function (row) {\r\n            return uencProcessor(row['extension_attributes']['wishlist_button'].url);\r\n        },\r\n\r\n        /**\r\n         * Check if component must be shown.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        isAllowed: function () {\r\n            return columnStatusValidator.isValid(this.source(), 'add_to_wishlist', 'show_buttons');\r\n        },\r\n\r\n        /**\r\n         * Get button label.\r\n         *\r\n         * @return {String}\r\n         */\r\n        getLabel: function () {\r\n            return this.label;\r\n        }\r\n    });\r\n});\r\n","Magento_Wishlist/js/view/wishlist.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'uiComponent',\r\n    'Magento_Customer/js/customer-data'\r\n], function (Component, customerData) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            this.wishlist = customerData.get('wishlist');\r\n        }\r\n    });\r\n});\r\n","magnifier/magnifier.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n(function ($) {\r\n    $.fn.magnify = function (options) {\r\n        'use strict';\r\n\r\n        var magnify = new Magnify($(this), options);\r\n\r\n        /* events must be tracked here */\r\n\r\n        /**\r\n         * Return that from _init function\r\n         *\r\n         */\r\n        return magnify;\r\n    };\r\n\r\n    function Magnify(element, options) {\r\n        var customUserOptions = options || {},\r\n            $box = $(element),\r\n            $thumb,\r\n            that = this,\r\n            largeWrapper = options.largeWrapper || '.magnifier-preview',\r\n            $magnifierPreview = $(largeWrapper);\r\n\r\n        curThumb = null,\r\n        magnifierOptions = {\r\n            x: 0,\r\n            y: 0,\r\n            w: 0,\r\n            h: 0,\r\n            lensW: 0,\r\n            lensH: 0,\r\n            lensBgX: 0,\r\n            lensBgY: 0,\r\n            largeW: 0,\r\n            largeH: 0,\r\n            largeL: 0,\r\n            largeT: 0,\r\n            zoom: 2,\r\n            zoomMin: 1.1,\r\n            zoomMax: 5,\r\n            mode: 'outside',\r\n            eventType: 'click',\r\n            status: 0,\r\n            zoomAttached: false,\r\n            zoomable: customUserOptions.zoomable !== undefined ?\r\n                customUserOptions.zoomable\r\n                : false,\r\n            onthumbenter: customUserOptions.onthumbenter !== undefined ?\r\n                customUserOptions.onthumbenter\r\n                : null,\r\n            onthumbmove: customUserOptions.onthumbmove !== undefined ?\r\n                customUserOptions.onthumbmove\r\n                : null,\r\n            onthumbleave: customUserOptions.onthumbleave !== undefined ?\r\n                customUserOptions.onthumbleave\r\n                : null,\r\n            onzoom: customUserOptions.onzoom !== undefined ?\r\n                customUserOptions.onzoom\r\n                : null\r\n        },\r\n        pos = {\r\n            t: 0,\r\n            l: 0,\r\n            x: 0,\r\n            y: 0\r\n        },\r\n        gId = 0,\r\n        status = 0,\r\n        curIdx = '',\r\n        curLens = null,\r\n        curLarge = null,\r\n        lensbg = customUserOptions.bg !== undefined ?\r\n            customUserOptions.lensbg\r\n            : true,\r\n        gZoom = customUserOptions.zoom !== undefined ?\r\n            customUserOptions.zoom\r\n            : magnifierOptions.zoom,\r\n        gZoomMin = customUserOptions.zoomMin !== undefined ?\r\n            customUserOptions.zoomMin\r\n            : magnifierOptions.zoomMin,\r\n        gZoomMax = customUserOptions.zoomMax !== undefined ?\r\n            customUserOptions.zoomMax\r\n            : magnifierOptions.zoomMax,\r\n        gMode = customUserOptions.mode || magnifierOptions.mode,\r\n        gEventType = customUserOptions.eventType || magnifierOptions.eventType,\r\n        data = {},\r\n        inBounds = false,\r\n        isOverThumb = false,\r\n        rate = 1,\r\n        paddingX = 0,\r\n        paddingY = 0,\r\n        enabled = true,\r\n        showWrapper = true;\r\n\r\n        var MagnifyCls = {\r\n            magnifyHidden: 'magnify-hidden',\r\n            magnifyOpaque: 'magnify-opaque',\r\n            magnifyFull: 'magnify-fullimage'\r\n        };\r\n\r\n        /**\r\n         * Update Lens positon on.\r\n         *\r\n         */\r\n        that.update = function () {\r\n            updateLensOnLoad();\r\n        };\r\n\r\n        /**\r\n         * Init new Magnifier\r\n         *\r\n         */\r\n        that.init = function () {\r\n            _init($box, options);\r\n        };\r\n\r\n        function _toBoolean(str) {\r\n            if (typeof str === 'string') {\r\n                if (str === 'true') {\r\n                    return true;\r\n                } else if (str === 'false' || '') {\r\n                    return false;\r\n                }\r\n                console.warn('Wrong type: can\\'t be transformed to Boolean');\r\n\r\n            } else if (typeof str === 'boolean') {\r\n                return str;\r\n            }\r\n        }\r\n\r\n        function createLens(thumb) {\r\n            if ($(thumb).siblings('.magnify-lens').length) {\r\n                return false;\r\n            }\r\n            var lens = $('<div class=\"magnify-lens magnify-hidden\" data-gallery-role=\"magnifier-zoom\"></div>');\r\n\r\n            $(thumb).parent().append(lens);\r\n        }\r\n\r\n        function updateLensOnLoad(idSelectorMainImg, thumb, largeImgInMagnifyLens, largeWrapper) {\r\n            var magnifyLensElement= $box.find('.magnify-lens'),\r\n                textWrapper;\r\n\r\n            if (data[idSelectorMainImg].status === 1) {\r\n                textWrapper = $('<div class=\"magnifier-loader-text\"></div>');\r\n                magnifyLensElement.className = 'magnifier-loader magnify-hidden';\r\n                textWrapper.html('Loading...');\r\n                magnifyLensElement.html('').append(textWrapper);\r\n            } else if (data[idSelectorMainImg].status === 2) {\r\n                magnifyLensElement.addClass(MagnifyCls.magnifyHidden);\r\n                magnifyLensElement.html('');\r\n\r\n                largeImgInMagnifyLens.id = idSelectorMainImg + '-large';\r\n                largeImgInMagnifyLens.style.width = data[idSelectorMainImg].largeImgInMagnifyLensWidth + 'px';\r\n                largeImgInMagnifyLens.style.height = data[idSelectorMainImg].largeImgInMagnifyLensHeight + 'px';\r\n                largeImgInMagnifyLens.className = 'magnifier-large magnify-hidden';\r\n\r\n                if (data[idSelectorMainImg].mode === 'inside') {\r\n                    magnifyLensElement.append(largeImgInMagnifyLens);\r\n                } else {\r\n                    largeWrapper.html('').append(largeImgInMagnifyLens);\r\n                }\r\n            }\r\n\r\n            data[idSelectorMainImg].lensH = data[idSelectorMainImg].lensH > $thumb.height() ? $thumb.height() : data[idSelectorMainImg].lensH;\r\n\r\n            if (Math.round(data[idSelectorMainImg].lensW) === 0) {\r\n                magnifyLensElement.css('display', 'none');\r\n            } else {\r\n                magnifyLensElement.css({\r\n                    width: Math.round(data[idSelectorMainImg].lensW) + 'px',\r\n                    height: Math.round(data[idSelectorMainImg].lensH) + 'px',\r\n                    display: ''\r\n                });\r\n            }\r\n        }\r\n\r\n        function getMousePos() {\r\n            var xPos = pos.x - magnifierOptions.x,\r\n                yPos = pos.y - magnifierOptions.y,\r\n                t,\r\n                l;\r\n\r\n            inBounds =  xPos < 0 || yPos < 0 || xPos > magnifierOptions.w || yPos > magnifierOptions.h  ? false : true;\r\n\r\n            l = xPos - magnifierOptions.lensW / 2;\r\n            t = yPos - magnifierOptions.lensH / 2;\r\n\r\n            if (xPos < magnifierOptions.lensW / 2) {\r\n                l = 0;\r\n            }\r\n\r\n            if (yPos < magnifierOptions.lensH / 2) {\r\n                t = 0;\r\n            }\r\n\r\n            if (xPos - magnifierOptions.w + Math.ceil(magnifierOptions.lensW / 2) > 0) {\r\n                l = magnifierOptions.w - Math.ceil(magnifierOptions.lensW + 2);\r\n            }\r\n\r\n            if (yPos - magnifierOptions.h + Math.ceil(magnifierOptions.lensH / 2) > 0) {\r\n                t = magnifierOptions.h - Math.ceil(magnifierOptions.lensH);\r\n            }\r\n\r\n            pos.l = l;\r\n            pos.t = t;\r\n\r\n            magnifierOptions.lensBgX = pos.l;\r\n            magnifierOptions.lensBgY = pos.t;\r\n\r\n            if (magnifierOptions.mode === 'inside') {\r\n                magnifierOptions.largeL = Math.round(xPos * (magnifierOptions.zoom - magnifierOptions.lensW / magnifierOptions.w));\r\n                magnifierOptions.largeT = Math.round(yPos * (magnifierOptions.zoom - magnifierOptions.lensH / magnifierOptions.h));\r\n            } else {\r\n                magnifierOptions.largeL = Math.round(magnifierOptions.lensBgX * magnifierOptions.zoom * (magnifierOptions.largeWrapperW / magnifierOptions.w));\r\n                magnifierOptions.largeT = Math.round(magnifierOptions.lensBgY * magnifierOptions.zoom * (magnifierOptions.largeWrapperH / magnifierOptions.h));\r\n            }\r\n        }\r\n\r\n        function onThumbEnter() {\r\n            if (_toBoolean(enabled)) {\r\n                magnifierOptions = data[curIdx];\r\n                curLens = $box.find('.magnify-lens');\r\n\r\n                if (magnifierOptions.status === 2) {\r\n                    curLens.removeClass(MagnifyCls.magnifyOpaque);\r\n                    curLarge = $('#' + curIdx + '-large');\r\n                    curLarge.removeClass(MagnifyCls.magnifyHidden);\r\n                } else if (magnifierOptions.status === 1) {\r\n                    curLens.className = 'magnifier-loader';\r\n                }\r\n            }\r\n        }\r\n\r\n        function onThumbLeave() {\r\n            if (magnifierOptions.status > 0) {\r\n                var handler = magnifierOptions.onthumbleave;\r\n\r\n                if (handler !== null) {\r\n                    handler({\r\n                        thumb: curThumb,\r\n                        lens: curLens,\r\n                        large: curLarge,\r\n                        x: pos.x,\r\n                        y: pos.y\r\n                    });\r\n                }\r\n\r\n                if (!curLens.hasClass(MagnifyCls.magnifyHidden)) {\r\n                    curLens.addClass(MagnifyCls.magnifyHidden);\r\n\r\n                    //$curThumb.removeClass(MagnifyCls.magnifyOpaque);\r\n                    if (curLarge !== null) {\r\n                        curLarge.addClass(MagnifyCls.magnifyHidden);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function move() {\r\n            if (_toBoolean(enabled)) {\r\n                if (status !== magnifierOptions.status) {\r\n                    onThumbEnter();\r\n                }\r\n\r\n                if (magnifierOptions.status > 0) {\r\n                    curThumb.className = magnifierOptions.thumbCssClass + ' magnify-opaque';\r\n\r\n                    if (magnifierOptions.status === 1) {\r\n                        curLens.className = 'magnifier-loader';\r\n                    } else if (magnifierOptions.status === 2) {\r\n                        curLens.removeClass(MagnifyCls.magnifyHidden);\r\n                        curLarge.removeClass(MagnifyCls.magnifyHidden);\r\n                        curLarge.css({\r\n                            left: '-' + magnifierOptions.largeL + 'px',\r\n                            top: '-' + magnifierOptions.largeT + 'px'\r\n                        });\r\n                    }\r\n\r\n                    var borderOffset = 2; // Offset for magnify-lens border\r\n                    pos.t = pos.t <= 0 ? 0 : pos.t - borderOffset;\r\n\r\n                    curLens.css({\r\n                        left: pos.l + paddingX + 'px',\r\n                        top: pos.t + paddingY + 'px'\r\n                    });\r\n\r\n                    if (lensbg) {\r\n                        curLens.css({\r\n                            'background-color': 'rgba(f,f,f,.5)'\r\n                        });\r\n                    } else {\r\n                        curLens.get(0).style.backgroundPosition = '-' +\r\n                        magnifierOptions.lensBgX + 'px -' +\r\n                        magnifierOptions.lensBgY + 'px';\r\n                    }\r\n                    var handler = magnifierOptions.onthumbmove;\r\n\r\n                    if (handler !== null) {\r\n                        handler({\r\n                            thumb: curThumb,\r\n                            lens: curLens,\r\n                            large: curLarge,\r\n                            x: pos.x,\r\n                            y: pos.y\r\n                        });\r\n                    }\r\n                }\r\n\r\n                status = magnifierOptions.status;\r\n            }\r\n        }\r\n\r\n        function setThumbData(mainImage, mainImageData) {\r\n            var thumbBounds = mainImage.getBoundingClientRect(),\r\n                w = 0,\r\n                h = 0;\r\n\r\n            mainImageData.x = Math.round(thumbBounds.left);\r\n            mainImageData.y = Math.round(thumbBounds.top);\r\n            mainImageData.w = Math.round(thumbBounds.right - mainImageData.x);\r\n            mainImageData.h = Math.round(thumbBounds.bottom - mainImageData.y);\r\n\r\n            if (mainImageData.mode === 'inside') {\r\n                w = mainImageData.w;\r\n                h = mainImageData.h;\r\n            } else {\r\n                w = mainImageData.largeWrapperW;\r\n                h = mainImageData.largeWrapperH;\r\n            }\r\n\r\n            mainImageData.largeImgInMagnifyLensWidth = Math.round(mainImageData.zoom * w);\r\n            mainImageData.largeImgInMagnifyLensHeight = Math.round(mainImageData.zoom * h);\r\n\r\n            mainImageData.lensW = Math.round(mainImageData.w / mainImageData.zoom);\r\n            mainImageData.lensH = Math.round(mainImageData.h / mainImageData.zoom);\r\n        }\r\n\r\n        function _init($box, options) {\r\n            var opts = {};\r\n\r\n            if (options.thumb === undefined) {\r\n                return false;\r\n            }\r\n\r\n            $thumb = $box.find(options.thumb);\r\n\r\n            if ($thumb.length) {\r\n                for (var key in options) {\r\n                    opts[key] = options[key];\r\n                }\r\n\r\n                opts.thumb = $thumb;\r\n                enabled = opts.enabled;\r\n\r\n                if (_toBoolean(enabled)) {\r\n\r\n                    $magnifierPreview.show().css('display', '');\r\n                    $magnifierPreview.addClass(MagnifyCls.magnifyHidden);\r\n                    set(opts);\r\n                } else {\r\n                    $magnifierPreview.empty().hide();\r\n                }\r\n            }\r\n\r\n            return that;\r\n        }\r\n\r\n        function hoverEvents(thumb) {\r\n            $(thumb).on('mouseover', function (e) {\r\n\r\n                if (showWrapper) {\r\n\r\n                    if (magnifierOptions.status !== 0) {\r\n                        onThumbLeave();\r\n                    }\r\n                    handleEvents(e);\r\n                    isOverThumb = inBounds;\r\n                }\r\n            }).trigger('mouseover');\r\n        }\r\n\r\n        function clickEvents(thumb) {\r\n            $(thumb).on('click', function (e) {\r\n\r\n                if (showWrapper) {\r\n                    if (!isOverThumb) {\r\n                        if (magnifierOptions.status !== 0) {\r\n                            onThumbLeave();\r\n                        }\r\n                        handleEvents(e);\r\n                        isOverThumb = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function bindEvents(eType, thumb) {\r\n            var eventFlag = 'hasBoundEvent_' + eType;\r\n            if (thumb[eventFlag]) {\r\n                // Events are already bound, no need to bind in duplicate\r\n                return;\r\n            }\r\n            thumb[eventFlag] = true;\r\n\r\n            switch (eType) {\r\n                case 'hover':\r\n                    hoverEvents(thumb);\r\n                    break;\r\n\r\n                case 'click':\r\n                    clickEvents(thumb);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        function handleEvents(e) {\r\n            var src = e.target;\r\n\r\n            curIdx = src.id;\r\n            curThumb = src;\r\n\r\n            onThumbEnter(src);\r\n\r\n            setThumbData(curThumb, magnifierOptions);\r\n\r\n            pos.x = e.clientX;\r\n            pos.y = e.clientY;\r\n\r\n            getMousePos();\r\n            move();\r\n\r\n            var handler = magnifierOptions.onthumbenter;\r\n\r\n            if (handler !== null) {\r\n                handler({\r\n                    thumb: curThumb,\r\n                    lens: curLens,\r\n                    large: curLarge,\r\n                    x: pos.x,\r\n                    y: pos.y\r\n                });\r\n            }\r\n        }\r\n\r\n        function set(options) {\r\n            if (data[options.thumb.id] !== undefined) {\r\n                curThumb = options.thumb;\r\n\r\n                return false;\r\n            }\r\n\r\n            var thumbObj = new Image(),\r\n                largeObj = new Image(),\r\n                $thumb = options.thumb,\r\n                thumb = $thumb.get(0),\r\n                idx = thumb.id,\r\n                largeUrl,\r\n                largeWrapper = $(options.largeWrapper),\r\n                zoom = options.zoom || thumb.getAttribute('data-zoom') || gZoom,\r\n                zoomMin = options.zoomMin || gZoomMin,\r\n                zoomMax = options.zoomMax || gZoomMax,\r\n                mode = options.mode || thumb.getAttribute('data-mode') || gMode,\r\n                eventType = options.eventType || thumb.getAttribute('data-eventType') || gEventType,\r\n                onthumbenter = options.onthumbenter !== undefined ?\r\n                    options.onthumbenter\r\n                    : magnifierOptions.onthumbenter,\r\n                onthumbleave = options.onthumbleave !== undefined ?\r\n                    options.onthumbleave\r\n                    : magnifierOptions.onthumbleave,\r\n                onthumbmove = options.onthumbmove !== undefined ?\r\n                    options.onthumbmove\r\n                    : magnifierOptions.onthumbmove;\r\n\r\n            largeUrl = $thumb.data('original') || customUserOptions.full || $thumb.attr('src');\r\n\r\n            if (thumb.id === '') {\r\n                idx = thumb.id = 'magnifier-item-' + gId;\r\n                gId += 1;\r\n            }\r\n\r\n            createLens(thumb, idx);\r\n\r\n            if (options.width) {\r\n                largeWrapper.width(options.width);\r\n            }\r\n\r\n            if (options.height) {\r\n                largeWrapper.height(options.height);\r\n            }\r\n\r\n            if (options.top) {\r\n                if (typeof options.top == 'function') {\r\n                    var top = options.top() + 'px';\r\n                } else {\r\n                    var top = options.top + 'px';\r\n                }\r\n\r\n                if (largeWrapper.length) {\r\n                    largeWrapper[0].style.top = top.replace('%px', '%');\r\n                }\r\n            }\r\n\r\n            if (options.left) {\r\n                if (typeof options.left == 'function') {\r\n                    var left = options.left() + 'px';\r\n                } else {\r\n                    var left = options.left + 'px';\r\n                }\r\n\r\n                if (largeWrapper.length) {\r\n                    largeWrapper[0].style.left = left.replace('%px', '%');\r\n                }\r\n            }\r\n\r\n            data[idx] = {\r\n                zoom: zoom,\r\n                zoomMin: zoomMin,\r\n                zoomMax: zoomMax,\r\n                mode: mode,\r\n                eventType: eventType,\r\n                thumbCssClass: thumb.className,\r\n                zoomAttached: false,\r\n                status: 0,\r\n                largeUrl: largeUrl,\r\n                largeWrapperId: mode === 'outside' ? largeWrapper.attr('id') : null,\r\n                largeWrapperW: mode === 'outside' ? largeWrapper.width() : null,\r\n                largeWrapperH: mode === 'outside' ? largeWrapper.height() : null,\r\n                onthumbenter: onthumbenter,\r\n                onthumbleave: onthumbleave,\r\n                onthumbmove: onthumbmove\r\n            };\r\n\r\n            paddingX = ($thumb.parent().width() - $thumb.width()) / 2;\r\n            paddingY = ($thumb.parent().height() - $thumb.height()) / 2;\r\n\r\n            showWrapper = false;\r\n            $(thumbObj).on('load', function () {\r\n                data[idx].status = 1;\r\n\r\n                $(largeObj).on('load', function () {\r\n\r\n                    if (largeObj.width > largeWrapper.width() || largeObj.height > largeWrapper.height()) {\r\n                        showWrapper = true;\r\n                        bindEvents(eventType, thumb);\r\n                        data[idx].status = 2;\r\n                        if (largeObj.width > largeObj.height) {\r\n                            data[idx].zoom = largeObj.width / largeWrapper.width();\r\n                        } else {\r\n                            data[idx].zoom = largeObj.height / largeWrapper.height();\r\n                        }\r\n                        setThumbData(thumb, data[idx]);\r\n                        updateLensOnLoad(idx, thumb, largeObj, largeWrapper);\r\n                    }\r\n                });\r\n\r\n                largeObj.src = data[idx].largeUrl;\r\n            });\r\n\r\n            thumbObj.src = thumb.src;\r\n        }\r\n\r\n        /**\r\n         * Hide magnifier when mouse exceeds image bounds.\r\n         */\r\n        function onMouseLeave() {\r\n            onThumbLeave();\r\n            isOverThumb = false;\r\n            $magnifierPreview.addClass(MagnifyCls.magnifyHidden);\r\n        }\r\n\r\n        function onMousemove(e) {\r\n            pos.x = e.clientX;\r\n            pos.y = e.clientY;\r\n\r\n            getMousePos();\r\n\r\n            if (gEventType === 'hover') {\r\n                isOverThumb = inBounds;\r\n            }\r\n\r\n            if (inBounds && isOverThumb) {\r\n                if (gMode === 'outside') {\r\n                    $magnifierPreview.removeClass(MagnifyCls.magnifyHidden);\r\n                }\r\n                move();\r\n            }\r\n        }\r\n\r\n        function onScroll() {\r\n            if (curThumb !== null) {\r\n                setThumbData(curThumb, magnifierOptions);\r\n            }\r\n        }\r\n\r\n        $(window).on('scroll', onScroll);\r\n        $(window).on('resize', function () {\r\n            _init($box, customUserOptions);\r\n        });\r\n\r\n        $box.on('mousemove', onMousemove);\r\n        $box.on('mouseleave', onMouseLeave);\r\n\r\n        _init($box, customUserOptions);\r\n    }\r\n}(jQuery));\r\n","magnifier/magnify.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'magnifier/magnifier'\r\n], function ($, _) {\r\n    'use strict';\r\n\r\n    return function (config, element) {\r\n\r\n        var isTouchEnabled = 'ontouchstart' in document.documentElement,\r\n            gallerySelector = '[data-gallery-role=\"gallery\"]',\r\n            magnifierSelector = '[data-gallery-role=\"magnifier\"]',\r\n            magnifierZoomSelector = '[data-gallery-role=\"magnifier-zoom\"]',\r\n            zoomInButtonSelector = '[data-gallery-role=\"fotorama__zoom-in\"]',\r\n            zoomOutButtonSelector = '[data-gallery-role=\"fotorama__zoom-out\"]',\r\n            fullscreenImageSelector = '[data-gallery-role=\"stage-shaft\"] [data-active=\"true\"] .fotorama__img--full',\r\n            imageDraggableClass = 'fotorama__img--draggable',\r\n            imageZoommable = 'fotorama__img--zoommable',\r\n            zoomInLoaded = 'zoom-in-loaded',\r\n            zoomOutLoaded = 'zoom-out-loaded',\r\n            zoomInDisabled = 'fotorama__zoom-in--disabled',\r\n            zoomOutDisabled = 'fotorama__zoom-out--disabled',\r\n            keyboardNavigation,\r\n            videoContainerClass = 'fotorama-video-container',\r\n            hideMagnifier,\r\n            dragFlag,\r\n            endX,\r\n            transitionEnabled,\r\n            transitionActive = false,\r\n            tapFlag = 0,\r\n            allowZoomOut = false,\r\n            allowZoomIn = true;\r\n\r\n        transitionEnabled = document.documentElement.style.transition !== undefined ||\r\n            document.documentElement.style.WebkitTransition !== undefined ||\r\n            document.documentElement.style.MozTransition !== undefined ||\r\n            document.documentElement.style.MsTransition !== undefined ||\r\n            document.documentElement.style.OTransition !== undefined;\r\n\r\n        /**\r\n         * Return width and height of original image\r\n         * @param img original image node\r\n         * @returns {{rw: number, rh: number}}\r\n         */\r\n        function getImageSize(img) {\r\n            return {\r\n                rw: img.naturalWidth,\r\n                rh: img.naturalHeight\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Sets min-height and min-width for image to avoid transition bug\r\n         * @param $image - fullscreen image\r\n         */\r\n        function calculateMinSize($image) {\r\n\r\n            var minHeight,\r\n                minWidth,\r\n                height = $image.height(),\r\n                width = $image.width(),\r\n                parentHeight = $image.parent().height(),\r\n                parentWidth = $image.parent().width();\r\n\r\n            if (width > parentWidth || height > parentHeight) {\r\n\r\n                if (width / height < parentWidth / parentHeight) {\r\n                    minHeight = parentHeight;\r\n                    minWidth = width * (parentHeight / height);\r\n                } else {\r\n                    minWidth = parentWidth;\r\n                    minHeight = height * parentWidth / width;\r\n                }\r\n                $image.css({\r\n                    'min-width': minWidth,\r\n                    'min-height': minHeight\r\n                });\r\n            }\r\n        }\r\n\r\n        function toggleZoomable($image, flag) {\r\n            if (flag) {\r\n                $image.css({\r\n                    'min-width': $image.width(),\r\n                    'min-height': $image.height(),\r\n                    'width': $image.width(),\r\n                    'height': $image.height()\r\n                }).addClass(imageZoommable);\r\n            } else {\r\n                $image.css({\r\n                    width: '',\r\n                    height: '',\r\n                    top: '',\r\n                    left: '',\r\n                    right: '',\r\n                    bottom: ''\r\n                }).removeClass(imageZoommable);\r\n                calculateMinSize($image);\r\n            }\r\n        }\r\n\r\n        function resetVars($image) {\r\n            allowZoomIn = true;\r\n            allowZoomOut = dragFlag = transitionActive = false;\r\n            $image.hasClass(imageDraggableClass) && $image.removeClass(imageDraggableClass);\r\n            toggleZoomable($image, false);\r\n        }\r\n\r\n        /**\r\n         * Set state for zoom controls.\r\n         * If state is true, zoom controls will be visible.\r\n         * IF state is false, zoom controls will be hidden.\r\n         * @param isHide\r\n         */\r\n        function hideZoomControls(isHide) {\r\n            if (isHide) {\r\n                $(zoomInButtonSelector).addClass(zoomInDisabled);\r\n                $(zoomOutButtonSelector).addClass(zoomOutDisabled);\r\n            } else {\r\n                $(zoomInButtonSelector).removeClass(zoomInDisabled);\r\n                $(zoomOutButtonSelector).removeClass(zoomOutDisabled);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Asynchronus control visibility of zoom buttons.\r\n         * If image bigger than her wrapper. Zoom controls must visible.\r\n         * @param path - image source path\r\n         * @param $image\r\n         */\r\n        function asyncToggleZoomButtons(path, $image) {\r\n            var img = new Image();\r\n\r\n            img.onload = function () {\r\n                this.height > $image.parent().height() || this.width > $image.parent().width() ?\r\n                    hideZoomControls(false) : hideZoomControls(true);\r\n            };\r\n            img.src = path;\r\n        }\r\n\r\n        /**\r\n         * Control visibility of zoom buttons.\r\n         * Zoom controls must be invisible for video content and touch devices.\r\n         * On touch devices active pinchIn/pinchOut.\r\n         * @param $image\r\n         * @param isTouchScreen - true for touch devices\r\n         * @param isVideoActiveFrame - true for active video frame\r\n         */\r\n        function toggleZoomButtons($image, isTouchScreen, isVideoActiveFrame) {\r\n            var path = $image.attr('src');\r\n\r\n            if (path && !isTouchScreen && !isVideoActiveFrame) {\r\n                asyncToggleZoomButtons(path, $image);\r\n            } else {\r\n                hideZoomControls(true);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Handle resize event in fullscreen.\r\n         * @param $image - Fullscreen image.\r\n         * @param e - Event.\r\n         */\r\n        function resizeHandler(e, $image) {\r\n            var imageSize,\r\n                parentWidth,\r\n                parentHeight,\r\n                isImageSmall,\r\n                isImageFit;\r\n\r\n            if (!e.data.$image || !e.data.$image.length)\r\n                return;\r\n\r\n            imageSize = getImageSize($(fullscreenImageSelector)[0]);\r\n            parentWidth = e.data.$image.parent().width();\r\n            parentHeight = e.data.$image.parent().height();\r\n            isImageSmall = parentWidth >= imageSize.rw && parentHeight >= imageSize.rh;\r\n            isImageFit = parentWidth > e.data.$image.width() && parentHeight > e.data.$image.height();\r\n\r\n            toggleZoomButtons(e.data.$image, isTouchEnabled, checkForVideo(e.data.fotorama.activeFrame.$stageFrame));\r\n            calculateMinSize(e.data.$image);\r\n\r\n            if (e.data.$image.hasClass(imageZoommable) && !allowZoomOut || isImageSmall || isImageFit) {\r\n                resetVars(e.data.$image);\r\n            }\r\n\r\n            if (!isImageSmall) {\r\n                toggleStandartNavigation();\r\n            }\r\n        }\r\n\r\n        function getTopValue($image, topProp, step, height, containerHeight) {\r\n            var top;\r\n\r\n            if (parseInt($image.css('marginTop')) || parseInt($image.css('marginLeft'))) {\r\n                top = dragFlag ? topProp - step / 4 : 0;\r\n                top = top < containerHeight - height ? containerHeight - height : top;\r\n                top = top > height - containerHeight ? height - containerHeight : top;\r\n            } else {\r\n                top = topProp + step / 2;\r\n                top = top < containerHeight - height ? containerHeight - height : top;\r\n                top = top > 0 ? 0 : top;\r\n\r\n                if (!dragFlag && step < 0) {\r\n                    top = top < (containerHeight - height) / 2 ? (containerHeight - height) / 2 : top;\r\n                }\r\n            }\r\n\r\n            return top;\r\n        }\r\n\r\n        function getLeftValue(leftProp, step, width, containerWidth) {\r\n            var left;\r\n\r\n            left = leftProp + step / 2;\r\n            left = left < containerWidth - width ? containerWidth - width : left;\r\n            left = left > 0 ? 0 : left;\r\n\r\n            if (!dragFlag && step < 0) {\r\n                left = left < (containerWidth - width) / 2 ? (containerWidth - width) / 2 : left;\r\n            }\r\n\r\n            return left;\r\n        }\r\n\r\n        function checkFullscreenImagePosition($image, dimentions, widthStep, heightStep) {\r\n            var $imageContainer,\r\n                containerWidth,\r\n                containerHeight,\r\n                settings,\r\n                top,\r\n                left,\r\n                right,\r\n                bottom,\r\n                ratio;\r\n\r\n            if ($(gallerySelector).data('fotorama').fullScreen) {\r\n                transitionActive = true;\r\n                $imageContainer = $image.parent();\r\n                containerWidth = $imageContainer.width();\r\n                containerHeight = $imageContainer.height();\r\n                top = $image.position().top;\r\n                left = $image.position().left;\r\n                ratio = $image.width() / $image.height();\r\n                dimentions.height = isNaN(dimentions.height) ? dimentions.width / ratio : dimentions.height;\r\n                dimentions.width = isNaN(dimentions.width) ? dimentions.height * ratio : dimentions.width;\r\n\r\n                top = dimentions.height >= containerHeight ?\r\n                    getTopValue($image, top, heightStep, dimentions.height, containerHeight) : 0;\r\n\r\n                left = dimentions.width >= containerWidth ?\r\n                    getLeftValue(left, widthStep, dimentions.width, containerWidth) : 0;\r\n\r\n                right = dragFlag && left < (containerWidth - dimentions.width) / 2 ? 0 : left;\r\n                bottom = dragFlag ? 0 : top;\r\n\r\n                settings = $.extend(dimentions, {\r\n                    top: top,\r\n                    left: left,\r\n                    right: right\r\n                });\r\n\r\n                $image.css(settings);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Toggles fotorama's keyboard and mouse/touch navigation.\r\n         */\r\n        function toggleStandartNavigation() {\r\n            var $selectable =\r\n                    $('a[href], area[href], input, select, textarea, button, iframe, object, embed, *[tabindex], *[contenteditable]')\r\n                    .not('[tabindex=-1], [disabled], :hidden'),\r\n                fotorama = $(gallerySelector).data('fotorama'),\r\n                $focus = $(':focus'),\r\n                index;\r\n\r\n            if (fotorama.fullScreen) {\r\n\r\n                $selectable.each(function (number) {\r\n\r\n                    if ($(this).is($focus)) {\r\n                        index = number;\r\n                    }\r\n                });\r\n\r\n                fotorama.setOptions({\r\n                    swipe: !allowZoomOut,\r\n                    keyboard: !allowZoomOut\r\n                });\r\n\r\n                if (_.isNumber(index)) {\r\n                    $selectable.eq(index).focus();\r\n                }\r\n            }\r\n        }\r\n\r\n        function zoomIn(e, xStep, yStep) {\r\n            var $image,\r\n                imgOriginalSize,\r\n                imageWidth,\r\n                imageHeight,\r\n                zoomWidthStep,\r\n                zoomHeightStep,\r\n                widthResult,\r\n                heightResult,\r\n                ratio,\r\n                dimentions = {};\r\n\r\n            if (allowZoomIn && (!transitionEnabled || !transitionActive) && (isTouchEnabled ||\r\n                !$(zoomInButtonSelector).hasClass(zoomInDisabled))) {\r\n                $image = $(fullscreenImageSelector);\r\n                imgOriginalSize = getImageSize($image[0]);\r\n                imageWidth = $image.width();\r\n                imageHeight = $image.height();\r\n                ratio = imageWidth / imageHeight;\r\n                allowZoomOut = true;\r\n                toggleStandartNavigation();\r\n\r\n                if (!$image.hasClass(imageZoommable)) {\r\n                    toggleZoomable($image, true);\r\n                }\r\n\r\n                e.preventDefault();\r\n\r\n                if (imageWidth >= imageHeight) {\r\n                    zoomWidthStep = xStep || Math.ceil(imageWidth * parseFloat(config.magnifierOpts.fullscreenzoom) / 100);\r\n                    widthResult = imageWidth + zoomWidthStep;\r\n\r\n                    if (widthResult >= imgOriginalSize.rw) {\r\n                        widthResult = imgOriginalSize.rw;\r\n                        zoomWidthStep = xStep || widthResult - imageWidth;\r\n                        allowZoomIn = false;\r\n                    }\r\n                    heightResult = widthResult / ratio;\r\n                    zoomHeightStep = yStep || heightResult - imageHeight;\r\n                } else {\r\n                    zoomHeightStep = yStep || Math.ceil(imageHeight * parseFloat(config.magnifierOpts.fullscreenzoom) / 100);\r\n                    heightResult = imageHeight + zoomHeightStep;\r\n\r\n                    if (heightResult >= imgOriginalSize.rh) {\r\n                        heightResult = imgOriginalSize.rh;\r\n                        zoomHeightStep = yStep || heightResult - imageHeight;\r\n                        allowZoomIn = false;\r\n                    }\r\n                    widthResult = heightResult * ratio;\r\n                    zoomWidthStep = xStep || widthResult - imageWidth;\r\n                }\r\n\r\n                if (imageWidth >= imageHeight && imageWidth !== imgOriginalSize.rw) {\r\n                    dimentions = $.extend(dimentions, {\r\n                        width: widthResult,\r\n                        height: 'auto'\r\n                    });\r\n                    checkFullscreenImagePosition($image, dimentions, -zoomWidthStep, -zoomHeightStep);\r\n\r\n                } else if (imageWidth < imageHeight && imageHeight !== imgOriginalSize.rh) {\r\n                    dimentions = $.extend(dimentions, {\r\n                        width: 'auto',\r\n                        height: heightResult\r\n                    });\r\n                    checkFullscreenImagePosition($image, dimentions, -zoomWidthStep, -zoomHeightStep);\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        function zoomOut(e, xStep, yStep) {\r\n            var $image,\r\n                widthResult,\r\n                heightResult,\r\n                dimentions,\r\n                parentWidth,\r\n                parentHeight,\r\n                imageWidth,\r\n                imageHeight,\r\n                zoomWidthStep,\r\n                zoomHeightStep,\r\n                ratio,\r\n                fitIntoParent;\r\n\r\n            if (allowZoomOut && (!transitionEnabled || !transitionActive) && (isTouchEnabled ||\r\n                !$(zoomOutButtonSelector).hasClass(zoomOutDisabled))) {\r\n                allowZoomIn = true;\r\n                $image = $(fullscreenImageSelector);\r\n                parentWidth = $image.parent().width();\r\n                parentHeight = $image.parent().height();\r\n                imageWidth = $image.width();\r\n                imageHeight = $image.height();\r\n                ratio = imageWidth / imageHeight;\r\n\r\n                e.preventDefault();\r\n\r\n                if (imageWidth >= imageHeight) {\r\n                    zoomWidthStep = xStep || Math.ceil(imageWidth * parseFloat(config.magnifierOpts.fullscreenzoom) / 100);\r\n                    widthResult = imageWidth - zoomWidthStep;\r\n                    heightResult = widthResult / ratio;\r\n                    zoomHeightStep = yStep || imageHeight - heightResult;\r\n                } else {\r\n                    zoomHeightStep = yStep || Math.ceil(imageHeight * parseFloat(config.magnifierOpts.fullscreenzoom) / 100);\r\n                    heightResult = imageHeight - zoomHeightStep;\r\n                    widthResult = heightResult * ratio;\r\n                    zoomWidthStep = xStep || imageWidth - widthResult;\r\n                }\r\n\r\n                fitIntoParent = function () {\r\n                    if (ratio > parentWidth / parentHeight) {\r\n                        widthResult = parentWidth;\r\n                        zoomWidthStep = imageWidth - widthResult;\r\n                        heightResult = widthResult / ratio;\r\n                        zoomHeightStep = imageHeight - heightResult;\r\n                        dimentions = {\r\n                            width: widthResult,\r\n                            height: 'auto'\r\n                        };\r\n                    } else {\r\n                        heightResult = parentHeight;\r\n                        zoomHeightStep = imageHeight - heightResult;\r\n                        widthResult = heightResult * ratio;\r\n                        zoomWidthStep = imageWidth - widthResult;\r\n                        dimentions = {\r\n                            width: 'auto',\r\n                            height: heightResult\r\n                        };\r\n                    }\r\n                    checkFullscreenImagePosition($image, dimentions, zoomWidthStep, zoomHeightStep);\r\n                };\r\n\r\n                if (imageWidth >= imageHeight) {\r\n                    if (widthResult > parentWidth) {\r\n                        dimentions = {\r\n                            width: widthResult,\r\n                            height: 'auto'\r\n                        };\r\n                        checkFullscreenImagePosition($image, dimentions, zoomWidthStep, zoomHeightStep);\r\n                    } else if (heightResult > parentHeight) {\r\n                        dimentions = {\r\n                            width: widthResult,\r\n                            height: 'auto'\r\n                        };\r\n                        checkFullscreenImagePosition($image, dimentions, zoomWidthStep, zoomHeightStep);\r\n                    } else {\r\n                        allowZoomOut = dragFlag = false;\r\n                        toggleStandartNavigation();\r\n                        fitIntoParent();\r\n                    }\r\n                } else if (heightResult > parentHeight) {\r\n                    dimentions = {\r\n                        width: 'auto',\r\n                        height: heightResult\r\n                    };\r\n                    checkFullscreenImagePosition($image, dimentions, zoomWidthStep, zoomHeightStep);\r\n                } else if (widthResult > parentWidth) {\r\n                    dimentions = {\r\n                        width: 'auto',\r\n                        height: heightResult\r\n                    };\r\n                    checkFullscreenImagePosition($image, dimentions, zoomWidthStep, zoomHeightStep);\r\n                } else {\r\n                    allowZoomOut = dragFlag = false;\r\n                    toggleStandartNavigation();\r\n                    fitIntoParent();\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Bind event on scroll on active item in fotorama\r\n         * @param e\r\n         * @param fotorama - object of fotorama\r\n         */\r\n        function mousewheel(e, fotorama, element) {\r\n            var $fotoramaStage = fotorama.activeFrame.$stageFrame,\r\n                fotoramaStage = $fotoramaStage.get(0);\r\n\r\n            function onWheel(e) {\r\n                var delta = e.deltaY || e.wheelDelta,\r\n                    ev = e || window.event;\r\n\r\n                if ($(gallerySelector).data('fotorama').fullScreen) {\r\n\r\n                    if (e.deltaY) {\r\n                        if (delta > 0) {\r\n                            zoomOut(ev);\r\n                        } else {\r\n                            zoomIn(ev);\r\n                        }\r\n                    } else if (delta > 0) {\r\n                        zoomIn(ev);\r\n                    } else {\r\n                        zoomOut(ev);\r\n                    }\r\n\r\n                    e.preventDefault ? e.preventDefault() : e.returnValue = false;\r\n                }\r\n            }\r\n\r\n            if (!$fotoramaStage.hasClass('magnify-wheel-loaded')) {\r\n                if (fotoramaStage && fotoramaStage.addEventListener) {\r\n                    if ('onwheel' in document) {\r\n                        fotoramaStage.addEventListener('wheel', onWheel);\r\n                    } else if ('onmousewheel' in document) {\r\n                        fotoramaStage.addEventListener('mousewheel', onWheel);\r\n                    } else {\r\n                        fotoramaStage.addEventListener('MozMousePixelScroll', onWheel);\r\n                    }\r\n                    $fotoramaStage.addClass('magnify-wheel-loaded');\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Method which makes draggable picture. Also work on touch devices.\r\n         */\r\n        function magnifierFullscreen(fotorama) {\r\n            var isDragActive = false,\r\n                startX,\r\n                startY,\r\n                imagePosX,\r\n                imagePosY,\r\n                touch,\r\n                swipeSlide,\r\n                $gallery = $(gallerySelector),\r\n                $image = $(fullscreenImageSelector, $gallery),\r\n                $imageContainer = $('[data-gallery-role=\"stage-shaft\"] [data-active=\"true\"]'),\r\n                gallery = $gallery.data('fotorama'),\r\n                pinchDimention;\r\n\r\n            swipeSlide = _.throttle(function (direction) {\r\n                $(gallerySelector).data('fotorama').show(direction);\r\n            }, 500, {\r\n                trailing: false\r\n            });\r\n\r\n            /**\r\n             * Returns top position value for passed jQuery object.\r\n             *\r\n             * @param $el\r\n             * @return {number}\r\n             */\r\n            function getTop($el) {\r\n                return parseInt($el.get(0).style.top);\r\n            }\r\n\r\n            function shiftImage(dx, dy, e) {\r\n                var top = +imagePosY + dy,\r\n                    left = +imagePosX + dx,\r\n                    swipeCondition = $image.width() / 10 + 20;\r\n\r\n                dragFlag = true;\r\n\r\n                if ($image.offset().left === $imageContainer.offset().left + $imageContainer.width() - $image.width() && e.keyCode === 39 ||\r\n                    endX - 1 < $imageContainer.offset().left + $imageContainer.width() - $image.width() && dx < 0 &&\r\n                    _.isNumber(endX) &&\r\n                    (e.type === 'mousemove' || e.type === 'touchmove' || e.type === 'pointermove' || e.type === 'MSPointerMove')) {\r\n                    endX = null;\r\n                    swipeSlide('>');\r\n\r\n                    return;\r\n                }\r\n\r\n                if ($image.offset().left === $imageContainer.offset().left && dx !== 0 && e.keyCode === 37 ||\r\n                    endX === $imageContainer.offset().left && dx > 0 &&\r\n                    (e.type === 'mousemove' || e.type === 'touchmove' || e.type === 'pointermove' || e.type === 'MSPointerMove')) {\r\n                    endX = null;\r\n                    swipeSlide('<');\r\n\r\n                    return;\r\n                }\r\n\r\n                if ($image.height() > $imageContainer.height()) {\r\n                    if ($imageContainer.height() > $image.height() + top) {\r\n                        $image.css('top', $imageContainer.height() - $image.height());\r\n                    } else {\r\n                        top = $image.height() - getTop($image) - $imageContainer.height();\r\n                        dy = dy < top ? dy : top;\r\n                        $image.css('top', getTop($image) + dy);\r\n                    }\r\n                }\r\n\r\n                if ($image.width() > $imageContainer.width()) {\r\n\r\n                    if ($imageContainer.offset().left + $imageContainer.width() > left + $image.width()) {\r\n                        left = $imageContainer.offset().left + $imageContainer.width() - $image.width();\r\n                    } else {\r\n                        left = $imageContainer.offset().left < left ? $imageContainer.offset().left : left;\r\n                    }\r\n                    $image.offset({\r\n                        'left': left\r\n                    });\r\n                    $image.css('right', '');\r\n                } else if (Math.abs(dy) < 1 && allowZoomOut &&\r\n                    !(e.type === 'mousemove' || e.type === 'touchmove' || e.type === 'pointermove' || e.type === 'MSPointerMove')) {\r\n                    dx < 0 ? $(gallerySelector).data('fotorama').show('>') : $(gallerySelector).data('fotorama').show('<');\r\n                }\r\n\r\n                if ($image.width() <= $imageContainer.width() && allowZoomOut &&\r\n                    (e.type === 'mousemove' || e.type === 'touchmove' || e.type === 'pointermove' || e.type === 'MSPointerMove') &&\r\n                    Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > swipeCondition) {\r\n                    dx < 0 ? swipeSlide('>') : swipeSlide('<');\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Sets image size to original or fit in parent block\r\n             * @param e - event object\r\n             */\r\n            function dblClickHandler(e) {\r\n                var imgOriginalSize = getImageSize($image[0]),\r\n                    proportions;\r\n\r\n                if (imgOriginalSize.rh < $image.parent().height() && imgOriginalSize.rw < $image.parent().width()) {\r\n                    return;\r\n                }\r\n\r\n                proportions = imgOriginalSize.rw / imgOriginalSize.rh;\r\n\r\n                if (allowZoomIn) {\r\n                    zoomIn(e, imgOriginalSize.rw - $image.width(), imgOriginalSize.rh - $image.height());\r\n                } else if (proportions > $imageContainer.width() / $imageContainer.height()) {\r\n                    zoomOut(e, imgOriginalSize.rw - $imageContainer.width(), imgOriginalSize.rw / proportions);\r\n                } else {\r\n                    zoomOut(e, imgOriginalSize.rw * proportions, imgOriginalSize.rh - $imageContainer.height());\r\n                }\r\n            }\r\n\r\n            function detectDoubleTap(e) {\r\n                var now = new Date().getTime(),\r\n                    timesince = now - tapFlag;\r\n\r\n                if (timesince < 400 && timesince > 0) {\r\n                    transitionActive = false;\r\n                    tapFlag = 0;\r\n                    dblClickHandler(e);\r\n                } else {\r\n                    tapFlag = new Date().getTime();\r\n                }\r\n            }\r\n\r\n            if (isTouchEnabled) {\r\n                $image.off('tap');\r\n                $image.on('tap', function (e) {\r\n                    if (e.originalEvent.originalEvent.touches.length === 0) {\r\n                        detectDoubleTap(e);\r\n                    }\r\n                });\r\n            } else {\r\n                $image.off('dblclick');\r\n                $image.on('dblclick', dblClickHandler);\r\n            }\r\n\r\n            if (gallery.fullScreen) {\r\n                toggleZoomButtons($image, isTouchEnabled, checkForVideo(fotorama.activeFrame.$stageFrame));\r\n            }\r\n\r\n            function getDimention(event) {\r\n                return Math.sqrt(\r\n                    (event.touches[0].clientX - event.touches[1].clientX) * (event.touches[0].clientX - event.touches[1].clientX) +\r\n                    (event.touches[0].clientY - event.touches[1].clientY) * (event.touches[0].clientY - event.touches[1].clientY));\r\n            }\r\n\r\n            $image.off(isTouchEnabled ? 'touchstart' : 'pointerdown mousedown MSPointerDown');\r\n            $image.on(isTouchEnabled ? 'touchstart' : 'pointerdown mousedown MSPointerDown', function (e) {\r\n                if (e && e.originalEvent.touches && e.originalEvent.touches.length >= 2) {\r\n                    e.preventDefault();\r\n                    pinchDimention = getDimention(e.originalEvent);\r\n                    isDragActive = false;\r\n\r\n                    if ($image.hasClass(imageDraggableClass)) {\r\n                        $image.removeClass(imageDraggableClass);\r\n                    }\r\n                } else if (gallery.fullScreen && (!transitionEnabled || !transitionActive)) {\r\n                    imagePosY = getTop($image);\r\n                    imagePosX = $image.offset().left;\r\n\r\n                    if (isTouchEnabled) {\r\n                        touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n                        e.clientX = touch.pageX;\r\n                        e.clientY = touch.pageY;\r\n                    }\r\n                    startX = e.clientX || e.originalEvent.clientX;\r\n                    startY = e.clientY || e.originalEvent.clientY;\r\n                    isDragActive = true;\r\n                }\r\n\r\n                if ($image.offset() && $image.width() > $imageContainer.width()) {\r\n                    endX = $image.offset().left;\r\n                }\r\n            });\r\n\r\n            $image.off(isTouchEnabled ? 'touchmove' : 'mousemove pointermove MSPointerMove');\r\n            $image.on(isTouchEnabled ? 'touchmove' : 'mousemove pointermove MSPointerMove', function (e) {\r\n                if (e && e.originalEvent.touches && e.originalEvent.touches.length >= 2) {\r\n                    e.preventDefault();\r\n                    var currentDimention = getDimention(e.originalEvent);\r\n\r\n                    if ($image.hasClass(imageDraggableClass)) {\r\n                        $image.removeClass(imageDraggableClass);\r\n                    }\r\n\r\n                    if (currentDimention < pinchDimention) {\r\n                        zoomOut(e);\r\n                        pinchDimention = currentDimention;\r\n                    } else if (currentDimention > pinchDimention) {\r\n                        zoomIn(e);\r\n                        pinchDimention = currentDimention;\r\n                    }\r\n                } else {\r\n                    var clientX,\r\n                        clientY;\r\n\r\n                    if (gallery.fullScreen && isDragActive && (!transitionEnabled || !transitionActive)) {\r\n\r\n                        if (allowZoomOut && !$image.hasClass(imageDraggableClass)) {\r\n                            $image.addClass(imageDraggableClass);\r\n                        }\r\n                        clientX = e.clientX || e.originalEvent.clientX;\r\n                        clientY = e.clientY || e.originalEvent.clientY;\r\n\r\n                        e.preventDefault();\r\n\r\n                        if (isTouchEnabled) {\r\n                            touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n                            clientX = touch.pageX;\r\n                            clientY = touch.pageY;\r\n                        }\r\n\r\n                        if (allowZoomOut) {\r\n                            imagePosY = getTop($(fullscreenImageSelector, $gallery));\r\n                            shiftImage(clientX - startX, clientY - startY, e);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            $image.off('transitionend webkitTransitionEnd mozTransitionEnd msTransitionEnd ');\r\n            $image.on('transitionend webkitTransitionEnd mozTransitionEnd msTransitionEnd', function () {\r\n                transitionActive = false;\r\n            });\r\n\r\n            if (keyboardNavigation) {\r\n                $(document).off('keydown', keyboardNavigation);\r\n            }\r\n\r\n            /**\r\n             * Replaces original navigations with better one\r\n             * @param e - event object\r\n             */\r\n            keyboardNavigation = function (e) {\r\n                var step = 40,\r\n                    $focus = $(':focus'),\r\n                    isFullScreen = $(gallerySelector).data('fotorama').fullScreen,\r\n                    initVars = function () {\r\n                        imagePosX = $(fullscreenImageSelector, $gallery).offset().left;\r\n                        imagePosY = getTop($(fullscreenImageSelector, $gallery));\r\n                    };\r\n\r\n                if (($focus.attr('data-gallery-role') || !$focus.length) && allowZoomOut) {\r\n                    if (isFullScreen) {\r\n                        imagePosX = $(fullscreenImageSelector, $(gallerySelector)).offset().left;\r\n                        imagePosY = getTop($(fullscreenImageSelector, $(gallerySelector)));\r\n                    }\r\n\r\n                    if (e.keyCode === 39) {\r\n\r\n                        if (isFullScreen) {\r\n                            initVars();\r\n                            shiftImage(-step, 0, e);\r\n                        }\r\n                    }\r\n\r\n                    if (e.keyCode === 38) {\r\n\r\n                        if (isFullScreen) {\r\n                            initVars();\r\n                            shiftImage(0, step, e);\r\n                        }\r\n                    }\r\n\r\n                    if (e.keyCode === 37) {\r\n\r\n                        if (isFullScreen) {\r\n                            initVars();\r\n                            shiftImage(step, 0, e);\r\n                        }\r\n                    }\r\n\r\n                    if (e.keyCode === 40) {\r\n\r\n                        if (isFullScreen) {\r\n                            e.preventDefault();\r\n                            initVars();\r\n                            shiftImage(0, -step, e);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (e.keyCode === 27 && isFullScreen && allowZoomOut) {\r\n                    $(gallerySelector).data('fotorama').cancelFullScreen();\r\n                }\r\n            };\r\n\r\n            /**\r\n             * @todo keyboard navigation through Fotorama Api.\r\n             */\r\n            $(document).on('keydown', keyboardNavigation);\r\n\r\n            $(document).on(isTouchEnabled ? 'touchend' : 'mouseup pointerup MSPointerUp', function (e) {\r\n                if (gallery.fullScreen) {\r\n\r\n                    if ($image.offset() && $image.width() > $imageContainer.width()) {\r\n                        endX = $image.offset().left;\r\n                    }\r\n\r\n                    isDragActive = false;\r\n                    $image.removeClass(imageDraggableClass);\r\n                }\r\n            });\r\n\r\n            $(window).off('resize', resizeHandler);\r\n            $(window).on('resize', {\r\n                $image: $image,\r\n                fotorama: fotorama\r\n            }, resizeHandler);\r\n        }\r\n\r\n        /**\r\n         * Hides magnifier preview and zoom blocks.\r\n         */\r\n        hideMagnifier = function () {\r\n            $(magnifierSelector).empty().hide();\r\n            $(magnifierZoomSelector).remove();\r\n        };\r\n\r\n        /**\r\n         * Check is active frame in gallery include video content.\r\n         * If true activeFrame contain video.\r\n         * @param $stageFrame - active frame in gallery\r\n         * @returns {*|Boolean}\r\n         */\r\n        function checkForVideo($stageFrame) {\r\n            return $stageFrame.hasClass(videoContainerClass);\r\n        }\r\n\r\n        /**\r\n         * Hides magnifier on drag and while arrow click.\r\n         */\r\n        function behaveOnDrag(e, initPos) {\r\n            var pos = [e.pageX, e.pageY],\r\n                isArrow = $(e.target).data('gallery-role') === 'arrow',\r\n                isClick = initPos[0] === pos[0] && initPos[1] === pos[1],\r\n                isImg = $(e.target).parent().data('active');\r\n\r\n            if (isArrow || isImg && !isClick) {\r\n                hideMagnifier();\r\n            }\r\n        }\r\n\r\n        if (config.magnifierOpts.enabled) {\r\n            $(element).on('pointerdown mousedown MSPointerDown', function (e) {\r\n                var pos = [e.pageX, e.pageY];\r\n\r\n                $(element).on('mousemove pointermove MSPointerMove', function (ev) {\r\n                    navigator.msPointerEnabled ? hideMagnifier() : behaveOnDrag(ev, pos);\r\n                });\r\n                $(document).on('mouseup pointerup MSPointerUp', function () {\r\n                    $(element).off('mousemove pointermove MSPointerMove');\r\n                });\r\n            });\r\n        }\r\n\r\n        $.extend(config.magnifierOpts, {\r\n            zoomable: false,\r\n            thumb: '.fotorama__img',\r\n            largeWrapper: '[data-gallery-role=\"magnifier\"]',\r\n            height: config.magnifierOpts.height || function () {\r\n                return $('[data-active=\"true\"]').height();\r\n            },\r\n            width: config.magnifierOpts.width || function () {\r\n                var productMedia = $(gallerySelector).parent().parent();\r\n\r\n                return productMedia.parent().width() - productMedia.width() - 20;\r\n            },\r\n            left: config.magnifierOpts.left || function () {\r\n                return $(gallerySelector).offset().left + $(gallerySelector).width() + 20;\r\n            },\r\n            top: config.magnifierOpts.top || function () {\r\n                return $(gallerySelector).offset().top;\r\n            }\r\n        });\r\n\r\n        $(element).on('fotorama:load fotorama:showend fotorama:fullscreenexit fotorama:ready', function (e, fotorama) {\r\n            var $activeStageFrame = $(gallerySelector).data('fotorama').activeFrame.$stageFrame;\r\n\r\n            if (!$activeStageFrame.find(magnifierZoomSelector).length) {\r\n                hideMagnifier();\r\n\r\n                if (config.magnifierOpts) {\r\n                    config.magnifierOpts.large = $(gallerySelector).data('fotorama').activeFrame.img;\r\n                    config.magnifierOpts.full = fotorama.data[fotorama.activeIndex].original;\r\n                    !checkForVideo($activeStageFrame) && $($activeStageFrame).magnify(config.magnifierOpts);\r\n                }\r\n            }\r\n        });\r\n\r\n        $(element).on('gallery:loaded', function (e) {\r\n            var $prevImage;\r\n\r\n            $(element).find(gallerySelector)\r\n                .on('fotorama:ready', function (e, fotorama) {\r\n                    var $zoomIn = $(zoomInButtonSelector),\r\n                        $zoomOut = $(zoomOutButtonSelector);\r\n\r\n                    if (!$zoomIn.hasClass(zoomInLoaded)) {\r\n                        $zoomIn.on('click touchstart', zoomIn);\r\n                        $zoomIn.on('mousedown', function (e) {\r\n                            e.stopPropagation();\r\n                        });\r\n\r\n                        $zoomIn.on('keyup', function (e) {\r\n\r\n                            if (e.keyCode === 13) {\r\n                                zoomIn(e);\r\n                            }\r\n                        });\r\n\r\n                        $(window).on('keyup', function (e) {\r\n\r\n                            if (e.keyCode === 107 || fotorama.fullscreen) {\r\n                                zoomIn(e);\r\n                            }\r\n                        });\r\n\r\n                        $zoomIn.addClass(zoomInLoaded);\r\n                    }\r\n\r\n                    if (!$zoomOut.hasClass(zoomOutLoaded)) {\r\n                        $zoomOut.on('click touchstart', zoomOut);\r\n                        $zoomOut.on('mousedown', function (e) {\r\n                            e.stopPropagation();\r\n                        });\r\n\r\n                        $zoomOut.on('keyup', function (e) {\r\n\r\n                            if (e.keyCode === 13) {\r\n                                zoomOut(e);\r\n                            }\r\n                        });\r\n\r\n                        $(window).on('keyup', function (e) {\r\n\r\n                            if (e.keyCode === 109 || fotorama.fullscreen) {\r\n                                zoomOut(e);\r\n                            }\r\n                        });\r\n\r\n                        $zoomOut.addClass(zoomOutLoaded);\r\n                    }\r\n                })\r\n                .on('fotorama:fullscreenenter fotorama:showend', function (e, fotorama) {\r\n                    hideMagnifier();\r\n\r\n                    if (!$(fullscreenImageSelector).is($prevImage)) {\r\n                        resetVars($(fullscreenImageSelector));\r\n                    }\r\n                    magnifierFullscreen(fotorama);\r\n                    mousewheel(e, fotorama, element);\r\n\r\n                    if ($prevImage) {\r\n                        calculateMinSize($prevImage);\r\n\r\n                        if (!$(fullscreenImageSelector).is($prevImage)) {\r\n                            resetVars($prevImage);\r\n                        }\r\n                    }\r\n\r\n                    toggleStandartNavigation();\r\n                })\r\n                .on('fotorama:load', function (e, fotorama) {\r\n                    if ($(gallerySelector).data('fotorama').fullScreen) {\r\n                        toggleZoomButtons($(fullscreenImageSelector), isTouchEnabled,\r\n                            checkForVideo(fotorama.activeFrame.$stageFrame));\r\n                    }\r\n                    magnifierFullscreen(fotorama);\r\n                })\r\n                .on('fotorama:show', function (e, fotorama) {\r\n                    $prevImage = _.clone($(fullscreenImageSelector));\r\n                    hideMagnifier();\r\n                })\r\n                .on('fotorama:fullscreenexit', function (e, fotorama) {\r\n                    resetVars($(fullscreenImageSelector));\r\n                    hideMagnifier();\r\n                    hideZoomControls(true);\r\n                });\r\n        });\r\n\r\n        return config;\r\n    };\r\n});\r\n","MGS_Blog/js/masonry.pkgd.min.js":"/*!\r\n * Masonry PACKAGED v4.1.0\r\n * Cascading grid layout library\r\n * http://masonry.desandro.com\r\n * MIT License\r\n * by David DeSandro\r\n */\r\n\r\n!function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"jquery-bridget/jquery-bridget\",[\"jquery\"],function(i){e(t,i)}):\"object\"==typeof module&&module.exports?module.exports=e(t,require(\"jquery\")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){\"use strict\";function i(i,r,a){function h(t,e,n){var o,r=\"$().\"+i+'(\"'+e+'\")';return t.each(function(t,h){var u=a.data(h,i);if(!u)return void s(i+\" not initialized. Cannot call methods, i.e. \"+r);var d=u[e];if(!d||\"_\"==e.charAt(0))return void s(r+\" is not a valid method\");var l=d.apply(u,n);o=void 0===o?l:o}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if(\"string\"==typeof t){var e=o.call(arguments,1);return h(this,t,e)}return u(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s=\"undefined\"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){\"function\"==typeof define&&define.amd?define(\"ev-emitter/ev-emitter\",e):\"object\"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"get-size/get-size\",[],function(){return e()}):\"object\"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){\"use strict\";function t(t){var e=parseFloat(t),i=-1==t.indexOf(\"%\")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){var i=h[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a(\"Style returned \"+e+\". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1\"),e}function o(){if(!d){d=!0;var e=document.createElement(\"div\");e.style.width=\"200px\",e.style.padding=\"1px 2px 3px 4px\",e.style.borderStyle=\"solid\",e.style.borderWidth=\"1px 2px 3px 4px\",e.style.boxSizing=\"border-box\";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);r.isBoxSizeOuter=s=200==t(o.width),i.removeChild(e)}}function r(e){if(o(),\"string\"==typeof e&&(e=document.querySelector(e)),e&&\"object\"==typeof e&&e.nodeType){var r=n(e);if(\"none\"==r.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox=\"border-box\"==r.boxSizing,l=0;u>l;l++){var c=h[l],f=r[c],m=parseFloat(f);a[c]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,E=a.borderTopWidth+a.borderBottomWidth,z=d&&s,b=t(r.width);b!==!1&&(a.width=b+(z?0:p+_));var x=t(r.height);return x!==!1&&(a.height=x+(z?0:g+E)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(g+E),a.outerWidth=a.width+y,a.outerHeight=a.height+v,a}}var s,a=\"undefined\"==typeof console?e:function(t){console.error(t)},h=[\"paddingLeft\",\"paddingRight\",\"paddingTop\",\"paddingBottom\",\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\",\"borderLeftWidth\",\"borderRightWidth\",\"borderTopWidth\",\"borderBottomWidth\"],u=h.length,d=!1;return r}),function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"desandro-matches-selector/matches-selector\",e):\"object\"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){\"use strict\";var t=function(){var t=Element.prototype;if(t.matches)return\"matches\";if(t.matchesSelector)return\"matchesSelector\";for(var e=[\"webkit\",\"moz\",\"ms\",\"o\"],i=0;i<e.length;i++){var n=e[i],o=n+\"MatchesSelector\";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){\"function\"==typeof define&&define.amd?define(\"fizzy-ui-utils/utils\",[\"desandro-matches-selector/matches-selector\"],function(i){return e(t,i)}):\"object\"==typeof module&&module.exports?module.exports=e(t,require(\"desandro-matches-selector\")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&\"number\"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return\"string\"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e=\"on\"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+\"Timeout\";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){\"complete\"==document.readyState?t():document.addEventListener(\"DOMContentLoaded\",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+\"-\"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s=\"data-\"+r,a=document.querySelectorAll(\"[\"+s+\"]\"),h=document.querySelectorAll(\".js-\"+r),u=i.makeArray(a).concat(i.makeArray(h)),d=s+\"-options\",l=t.jQuery;u.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(d);try{i=r&&JSON.parse(r)}catch(a){return void(n&&n.error(\"Error parsing \"+s+\" on \"+t.className+\": \"+a))}var h=new e(t,i);l&&l.data(t,o,h)})})},i}),function(t,e){\"function\"==typeof define&&define.amd?define(\"outlayer/item\",[\"ev-emitter/ev-emitter\",\"get-size/get-size\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"ev-emitter\"),require(\"get-size\")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){\"use strict\";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return\"-\"+t.toLowerCase()})}var r=document.documentElement.style,s=\"string\"==typeof r.transition?\"transition\":\"WebkitTransition\",a=\"string\"==typeof r.transform?\"transform\":\"WebkitTransform\",h={WebkitTransition:\"webkitTransitionEnd\",transition:\"transitionend\"}[s],u={transform:a,transition:s,transitionDuration:s+\"Duration\",transitionProperty:s+\"Property\",transitionDelay:s+\"Delay\"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:\"absolute\"})},d.handleEvent=function(t){var e=\"on\"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=u[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption(\"originLeft\"),i=this.layout._getOption(\"originTop\"),n=t[e?\"left\":\"right\"],o=t[i?\"top\":\"bottom\"],r=this.layout.size,s=-1!=n.indexOf(\"%\")?parseFloat(n)/100*r.width:parseInt(n,10),a=-1!=o.indexOf(\"%\")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=i?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption(\"originLeft\"),n=this.layout._getOption(\"originTop\"),o=i?\"paddingLeft\":\"paddingRight\",r=i?\"left\":\"right\",s=i?\"right\":\"left\",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]=\"\";var h=n?\"paddingTop\":\"paddingBottom\",u=n?\"top\":\"bottom\",d=n?\"bottom\":\"top\",l=this.position.y+t[h];e[u]=this.getYValue(l),e[d]=\"\",this.css(e),this.emitEvent(\"layout\",[this])},d.getXValue=function(t){var e=this.layout._getOption(\"horizontal\");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+\"%\":t+\"px\"},d.getYValue=function(t){var e=this.layout._getOption(\"horizontal\");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+\"%\":t+\"px\"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,h=e-n,u={};u.transform=this.getTranslate(a,h),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption(\"originLeft\"),n=this.layout._getOption(\"originTop\");return t=i?t:-t,e=n?e:-e,\"translate3d(\"+t+\"px, \"+e+\"px, 0)\"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l=\"opacity,\"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t=\"number\"==typeof t?t+\"ms\":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(h,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var c={\"-webkit-transform\":\"transform\"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]=\"\",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent(\"transitionEnd\",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]=\"\";this.css(e)};var f={transitionProperty:\"\",transitionDuration:\"\",transitionDelay:\"\"};return d.removeTransitionStyles=function(){this.css(f)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+\"ms\"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:\"\"}),this.emitEvent(\"remove\",[this])},d.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once(\"transitionEnd\",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:\"\"});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty(\"visibleStyle\");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent(\"reveal\")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return\"opacity\";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:\"\"});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty(\"hiddenStyle\");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:\"none\"}),this.emitEvent(\"hide\"))},d.destroy=function(){this.css({position:\"\",left:\"\",right:\"\",top:\"\",bottom:\"\",transition:\"\",transform:\"\"})},n}),function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"outlayer/outlayer\",[\"ev-emitter/ev-emitter\",\"get-size/get-size\",\"fizzy-ui-utils/utils\",\"./item\"],function(i,n,o,r){return e(t,i,n,o,r)}):\"object\"==typeof module&&module.exports?module.exports=e(t,require(\"ev-emitter\"),require(\"get-size\"),require(\"fizzy-ui-utils\"),require(\"./item\")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){\"use strict\";function r(t,e){var i=n.getQueryElement(t);if(!i)return void(h&&h.error(\"Bad element for \"+this.constructor.namespace+\": \"+(i||t)));this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create();var r=this._getOption(\"initLayout\");r&&this.layout()}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if(\"number\"==typeof t)return t;var e=t.match(/(^\\d*\\.?\\d*)(\\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=m[n]||1;return i*o}var h=t.console,u=t.jQuery,d=function(){},l=0,c={};r.namespace=\"outlayer\",r.Item=o,r.defaults={containerStyle:{position:\"relative\"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:\"0.4s\",hiddenStyle:{opacity:0,transform:\"scale(0.001)\"},visibleStyle:{opacity:1,transform:\"scale(1)\"}};var f=r.prototype;n.extend(f,e.prototype),f.option=function(t){n.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:\"isInitLayout\",horizontal:\"isHorizontal\",layoutInstant:\"isLayoutInstant\",originLeft:\"isOriginLeft\",originTop:\"isOriginTop\",resize:\"isResizeBound\",resizeContainer:\"isResizingContainer\"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption(\"resize\");t&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},f._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption(\"layoutInstant\"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(t,e){var n,o=this.options[t];o?(\"string\"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems(\"layout\",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},f._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption(\"resizeContainer\");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},f._getContainerSize=d,f._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?\"width\":\"height\"]=t+\"px\"}},f._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+\"Complete\",null,[e])}function n(){s++,s==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var s=0;e.forEach(function(e){e.once(t,n)})},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u)if(this.$element=this.$element||u(this.element),e){var o=u.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?(\"string\"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=d,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},f.handleEvent=n.handleEvent,f.bindResize=function(){t.addEventListener(\"resize\",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener(\"resize\",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(r,\"onresize\",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},f.reveal=function(t){if(this._emitCompleteOnItems(\"reveal\",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems(\"hide\",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},f.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems(\"remove\",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height=\"\",t.position=\"\",t.width=\"\",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&c[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var m={ms:1,s:1e3};return r.Item=o,r}),function(t,e){\"function\"==typeof define&&define.amd?define([\"outlayer/outlayer\",\"get-size/get-size\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"outlayer\"),require(\"get-size\")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create(\"masonry\");return i.compatOptions.fitWidth=\"isFitWidth\",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement(\"columnWidth\",\"outerWidth\"),this._getMeasurement(\"gutter\",\"outerWidth\"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?\"round\":\"floor\";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this._getOption(\"fitWidth\"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?\"round\":\"ceil\",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),r=Math.min.apply(Math,o),s=o.indexOf(r),a={x:this.columnWidth*s,y:r},h=r+t.size.outerHeight,u=this.cols+1-o.length,d=0;u>d;d++)this.colYs[s+d]=h;return a},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption(\"originLeft\"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var h=Math.floor(s/this.columnWidth);h-=s%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var u=this._getOption(\"originTop\"),d=(u?n.top:n.bottom)+i.outerHeight,l=a;h>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption(\"fitWidth\")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i});","MGS_Mpanel/js/jquery.counterup.min.js":"/*!\r\n* jquery.counterup.js 1.0\r\n*\r\n* Copyright 2013, Benjamin Intal http://gambit.ph @bfintal\r\n* Released under the GPL v2 License\r\n*\r\n* Date: Nov 26, 2013\r\n*/(function(e){\"use strict\";e.fn.counterUp=function(t){var n=e.extend({time:400,delay:10},t);return this.each(function(){var t=e(this),r=n,i=function(){var e=[],n=r.time/r.delay,i=t.text(),s=/[0-9]+,[0-9]+/.test(i);i=i.replace(/,/g,\"\");var o=/^[0-9]+$/.test(i),u=/^[0-9]+\\.[0-9]+$/.test(i),a=u?(i.split(\".\")[1]||[]).length:0;for(var f=n;f>=1;f--){var l=parseInt(i/n*f);u&&(l=parseFloat(i/n*f).toFixed(a));if(s)while(/(\\d+)(\\d{3})/.test(l.toString()))l=l.toString().replace(/(\\d+)(\\d{3})/,\"$1,$2\");e.unshift(l)}t.data(\"counterup-nums\",e);t.text(\"0\");var c=function(){t.text(t.data(\"counterup-nums\").shift());if(t.data(\"counterup-nums\").length)setTimeout(t.data(\"counterup-func\"),r.delay);else{delete t.data(\"counterup-nums\");t.data(\"counterup-nums\",null);t.data(\"counterup-func\",null)}};t.data(\"counterup-func\",c);setTimeout(t.data(\"counterup-func\"),r.delay)};t.waypoint(i,{offset:\"100%\",triggerOnce:!0})})}})(jQuery);","MGS_Mpanel/js/jquery.scrollbar.min.js":"/**\n * jQuery CSS Customizable Scrollbar\n *\n * Copyright 2015, Yuriy Khabarov\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * If you found bug, please contact me via email <13real008@gmail.com>\n *\n * Compressed by http://jscompress.com/\n *\n * @author Yuriy Khabarov aka Gromo\n * @version 0.2.10\n * @url https://github.com/gromo/jquery.scrollbar/\n *\n */\n!function(l,e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):e(l.jQuery)}(this,function(l){\"use strict\";function e(e){if(t.webkit&&!e)return{height:0,width:0};if(!t.data.outer){var o={border:\"none\",\"box-sizing\":\"content-box\",height:\"200px\",margin:\"0\",padding:\"0\",width:\"200px\"};t.data.inner=l(\"<div>\").css(l.extend({},o)),t.data.outer=l(\"<div>\").css(l.extend({left:\"-1000px\",overflow:\"scroll\",position:\"absolute\",top:\"-1000px\"},o)).append(t.data.inner).appendTo(\"body\")}return t.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(t.data.outer.offset().top-t.data.inner.offset().top||0),width:Math.ceil(t.data.outer.offset().left-t.data.inner.offset().left||0)}}function o(){var l=e(!0);return!(l.height||l.width)}function s(l){var e=l.originalEvent;return e.axis&&e.axis===e.HORIZONTAL_AXIS?!1:e.wheelDeltaX?!1:!0}var r=!1,t={data:{index:0,name:\"scrollbar\"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\\/\\d+/i.test(navigator.userAgent)};t.scrolls.add=function(l){this.remove(l).push(l)},t.scrolls.remove=function(e){for(;l.inArray(e,this)>=0;)this.splice(l.inArray(e,this),1);return this};var i={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},n=function(s){t.scroll||(t.overlay=o(),t.scroll=e(),a(),l(window).resize(function(){var l=!1;if(t.scroll&&(t.scroll.height||t.scroll.width)){var o=e();(o.height!==t.scroll.height||o.width!==t.scroll.width)&&(t.scroll=o,l=!0)}a(l)})),this.container=s,this.namespace=\".scrollbar_\"+t.data.index++,this.options=l.extend({},i,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},s.data(t.data.name,this),t.scrolls.add(this)};n.prototype={destroy:function(){if(this.wrapper){this.container.removeData(t.data.name),t.scrolls.remove(this);var e=this.container.scrollLeft(),o=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:\"\",margin:\"\",\"max-height\":\"\"}).removeClass(\"scroll-content scroll-scrollx_visible scroll-scrolly_visible\").off(this.namespace).scrollLeft(e).scrollTop(o),this.scrollx.scroll.removeClass(\"scroll-scrollx_visible\").find(\"div\").andSelf().off(this.namespace),this.scrolly.scroll.removeClass(\"scroll-scrolly_visible\").find(\"div\").andSelf().off(this.namespace),this.wrapper.remove(),l(document).add(\"body\").off(this.namespace),l.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(e){var o=this,r=this.container,i=this.containerWrapper||r,n=this.namespace,c=l.extend(this.options,e||{}),a={x:this.scrollx,y:this.scrolly},d=this.wrapper,h={scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop()};if(t.mobile&&c.ignoreMobile||t.overlay&&c.ignoreOverlay||t.macosx&&!t.webkit)return!1;if(d)i.css({height:\"auto\",\"margin-bottom\":-1*t.scroll.height+\"px\",\"margin-right\":-1*t.scroll.width+\"px\",\"max-height\":\"\"});else{if(this.wrapper=d=l(\"<div>\").addClass(\"scroll-wrapper\").addClass(r.attr(\"class\")).css(\"position\",\"absolute\"==r.css(\"position\")?\"absolute\":\"relative\").insertBefore(r).append(r),r.is(\"textarea\")&&(this.containerWrapper=i=l(\"<div>\").insertBefore(r).append(r),d.addClass(\"scroll-textarea\")),i.addClass(\"scroll-content\").css({height:\"auto\",\"margin-bottom\":-1*t.scroll.height+\"px\",\"margin-right\":-1*t.scroll.width+\"px\",\"max-height\":\"\"}),r.on(\"scroll\"+n,function(e){l.isFunction(c.onScroll)&&c.onScroll.call(o,{maxScroll:a.y.maxScrollOffset,scroll:r.scrollTop(),size:a.y.size,visible:a.y.visible},{maxScroll:a.x.maxScrollOffset,scroll:r.scrollLeft(),size:a.x.size,visible:a.x.visible}),a.x.isVisible&&a.x.scroll.bar.css(\"left\",r.scrollLeft()*a.x.kx+\"px\"),a.y.isVisible&&a.y.scroll.bar.css(\"top\",r.scrollTop()*a.y.kx+\"px\")}),d.on(\"scroll\"+n,function(){d.scrollTop(0).scrollLeft(0)}),c.disableBodyScroll){var p=function(l){s(l)?a.y.isVisible&&a.y.mousewheel(l):a.x.isVisible&&a.x.mousewheel(l)};d.on(\"MozMousePixelScroll\"+n,p),d.on(\"mousewheel\"+n,p),t.mobile&&d.on(\"touchstart\"+n,function(e){var o=e.originalEvent.touches&&e.originalEvent.touches[0]||e,s={pageX:o.pageX,pageY:o.pageY},t={left:r.scrollLeft(),top:r.scrollTop()};l(document).on(\"touchmove\"+n,function(l){var e=l.originalEvent.targetTouches&&l.originalEvent.targetTouches[0]||l;r.scrollLeft(t.left+s.pageX-e.pageX),r.scrollTop(t.top+s.pageY-e.pageY),l.preventDefault()}),l(document).on(\"touchend\"+n,function(){l(document).off(n)})})}l.isFunction(c.onInit)&&c.onInit.apply(this,[r])}l.each(a,function(e,t){var i=null,d=1,h=\"x\"===e?\"scrollLeft\":\"scrollTop\",p=c.scrollStep,u=function(){var l=r[h]();r[h](l+p),1==d&&l+p>=f&&(l=r[h]()),-1==d&&f>=l+p&&(l=r[h]()),r[h]()==l&&i&&i()},f=0;t.scroll||(t.scroll=o._getScroll(c[\"scroll\"+e]).addClass(\"scroll-\"+e),c.showArrows&&t.scroll.addClass(\"scroll-element_arrows_visible\"),t.mousewheel=function(l){if(!t.isVisible||\"x\"===e&&s(l))return!0;if(\"y\"===e&&!s(l))return a.x.mousewheel(l),!0;var i=-1*l.originalEvent.wheelDelta||l.originalEvent.detail,n=t.size-t.visible-t.offset;return(i>0&&n>f||0>i&&f>0)&&(f+=i,0>f&&(f=0),f>n&&(f=n),o.scrollTo=o.scrollTo||{},o.scrollTo[h]=f,setTimeout(function(){o.scrollTo&&(r.stop().animate(o.scrollTo,240,\"linear\",function(){f=r[h]()}),o.scrollTo=null)},1)),l.preventDefault(),!1},t.scroll.on(\"MozMousePixelScroll\"+n,t.mousewheel).on(\"mousewheel\"+n,t.mousewheel).on(\"mouseenter\"+n,function(){f=r[h]()}),t.scroll.find(\".scroll-arrow, .scroll-element_track\").on(\"mousedown\"+n,function(s){if(1!=s.which)return!0;d=1;var n={eventOffset:s[\"x\"===e?\"pageX\":\"pageY\"],maxScrollValue:t.size-t.visible-t.offset,scrollbarOffset:t.scroll.bar.offset()[\"x\"===e?\"left\":\"top\"],scrollbarSize:t.scroll.bar[\"x\"===e?\"outerWidth\":\"outerHeight\"]()},a=0,v=0;return l(this).hasClass(\"scroll-arrow\")?(d=l(this).hasClass(\"scroll-arrow_more\")?1:-1,p=c.scrollStep*d,f=d>0?n.maxScrollValue:0):(d=n.eventOffset>n.scrollbarOffset+n.scrollbarSize?1:n.eventOffset<n.scrollbarOffset?-1:0,p=Math.round(.75*t.visible)*d,f=n.eventOffset-n.scrollbarOffset-(c.stepScrolling?1==d?n.scrollbarSize:0:Math.round(n.scrollbarSize/2)),f=r[h]()+f/t.kx),o.scrollTo=o.scrollTo||{},o.scrollTo[h]=c.stepScrolling?r[h]()+p:f,c.stepScrolling&&(i=function(){f=r[h](),clearInterval(v),clearTimeout(a),a=0,v=0},a=setTimeout(function(){v=setInterval(u,40)},c.duration+100)),setTimeout(function(){o.scrollTo&&(r.animate(o.scrollTo,c.duration),o.scrollTo=null)},1),o._handleMouseDown(i,s)}),t.scroll.bar.on(\"mousedown\"+n,function(s){if(1!=s.which)return!0;var i=s[\"x\"===e?\"pageX\":\"pageY\"],c=r[h]();return t.scroll.addClass(\"scroll-draggable\"),l(document).on(\"mousemove\"+n,function(l){var o=parseInt((l[\"x\"===e?\"pageX\":\"pageY\"]-i)/t.kx,10);r[h](c+o)}),o._handleMouseDown(function(){t.scroll.removeClass(\"scroll-draggable\"),f=r[h]()},s)}))}),l.each(a,function(l,e){var o=\"scroll-scroll\"+l+\"_visible\",s=\"x\"==l?a.y:a.x;e.scroll.removeClass(o),s.scroll.removeClass(o),i.removeClass(o)}),l.each(a,function(e,o){l.extend(o,\"x\"==e?{offset:parseInt(r.css(\"left\"),10)||0,size:r.prop(\"scrollWidth\"),visible:d.width()}:{offset:parseInt(r.css(\"top\"),10)||0,size:r.prop(\"scrollHeight\"),visible:d.height()})}),this._updateScroll(\"x\",this.scrollx),this._updateScroll(\"y\",this.scrolly),l.isFunction(c.onUpdate)&&c.onUpdate.apply(this,[r]),l.each(a,function(l,e){var o=\"x\"===l?\"left\":\"top\",s=\"x\"===l?\"outerWidth\":\"outerHeight\",t=\"x\"===l?\"width\":\"height\",i=parseInt(r.css(o),10)||0,n=e.size,a=e.visible+i,d=e.scroll.size[s]()+(parseInt(e.scroll.size.css(o),10)||0);c.autoScrollSize&&(e.scrollbarSize=parseInt(d*a/n,10),e.scroll.bar.css(t,e.scrollbarSize+\"px\")),e.scrollbarSize=e.scroll.bar[s](),e.kx=(d-e.scrollbarSize)/(n-a)||1,e.maxScrollOffset=n-a}),r.scrollLeft(h.scrollLeft).scrollTop(h.scrollTop).trigger(\"scroll\")},_getScroll:function(e){var o={advanced:['<div class=\"scroll-element\">','<div class=\"scroll-element_corner\"></div>','<div class=\"scroll-arrow scroll-arrow_less\"></div>','<div class=\"scroll-arrow scroll-arrow_more\"></div>','<div class=\"scroll-element_outer\">','<div class=\"scroll-element_size\"></div>','<div class=\"scroll-element_inner-wrapper\">','<div class=\"scroll-element_inner scroll-element_track\">','<div class=\"scroll-element_inner-bottom\"></div>',\"</div>\",\"</div>\",'<div class=\"scroll-bar\">','<div class=\"scroll-bar_body\">','<div class=\"scroll-bar_body-inner\"></div>',\"</div>\",'<div class=\"scroll-bar_bottom\"></div>','<div class=\"scroll-bar_center\"></div>',\"</div>\",\"</div>\",\"</div>\"].join(\"\"),simple:['<div class=\"scroll-element\">','<div class=\"scroll-element_outer\">','<div class=\"scroll-element_size\"></div>','<div class=\"scroll-element_track\"></div>','<div class=\"scroll-bar\"></div>',\"</div>\",\"</div>\"].join(\"\")};return o[e]&&(e=o[e]),e||(e=o.simple),e=\"string\"==typeof e?l(e).appendTo(this.wrapper):l(e),l.extend(e,{bar:e.find(\".scroll-bar\"),size:e.find(\".scroll-element_size\"),track:e.find(\".scroll-element_track\")}),e},_handleMouseDown:function(e,o){var s=this.namespace;return l(document).on(\"blur\"+s,function(){l(document).add(\"body\").off(s),e&&e()}),l(document).on(\"dragstart\"+s,function(l){return l.preventDefault(),!1}),l(document).on(\"mouseup\"+s,function(){l(document).add(\"body\").off(s),e&&e()}),l(\"body\").on(\"selectstart\"+s,function(l){return l.preventDefault(),!1}),o&&o.preventDefault(),!1},_updateScroll:function(e,o){var s=this.container,r=this.containerWrapper||s,i=\"scroll-scroll\"+e+\"_visible\",n=\"x\"===e?this.scrolly:this.scrollx,c=parseInt(this.container.css(\"x\"===e?\"left\":\"top\"),10)||0,a=this.wrapper,d=o.size,h=o.visible+c;o.isVisible=d-h>1,o.isVisible?(o.scroll.addClass(i),n.scroll.addClass(i),r.addClass(i)):(o.scroll.removeClass(i),n.scroll.removeClass(i),r.removeClass(i)),\"y\"===e&&(s.is(\"textarea\")||h>d?r.css({height:h+t.scroll.height+\"px\",\"max-height\":\"none\"}):r.css({\"max-height\":h+t.scroll.height+\"px\"})),(o.size!=s.prop(\"scrollWidth\")||n.size!=s.prop(\"scrollHeight\")||o.visible!=a.width()||n.visible!=a.height()||o.offset!=(parseInt(s.css(\"left\"),10)||0)||n.offset!=(parseInt(s.css(\"top\"),10)||0))&&(l.extend(this.scrollx,{offset:parseInt(s.css(\"left\"),10)||0,size:s.prop(\"scrollWidth\"),visible:a.width()}),l.extend(this.scrolly,{offset:parseInt(s.css(\"top\"),10)||0,size:this.container.prop(\"scrollHeight\"),visible:a.height()}),this._updateScroll(\"x\"===e?\"y\":\"x\",n))}};var c=n;l.fn.scrollbar=function(e,o){return\"string\"!=typeof e&&(o=e,e=\"init\"),\"undefined\"==typeof o&&(o=[]),l.isArray(o)||(o=[o]),this.not(\"body, .scroll-wrapper\").each(function(){var s=l(this),r=s.data(t.data.name);(r||\"init\"===e)&&(r||(r=new c(s)),r[e]&&r[e].apply(r,o))}),this},l.fn.scrollbar.options=i;var a=function(){var l=0,e=0;return function(o){var s,i,n,c,d,h,p;for(s=0;s<t.scrolls.length;s++)c=t.scrolls[s],i=c.container,n=c.options,d=c.wrapper,h=c.scrollx,p=c.scrolly,(o||n.autoUpdate&&d&&d.is(\":visible\")&&(i.prop(\"scrollWidth\")!=h.size||i.prop(\"scrollHeight\")!=p.size||d.width()!=h.visible||d.height()!=p.visible))&&(c.init(),n.debug&&(window.console&&console.log({scrollHeight:i.prop(\"scrollHeight\")+\":\"+c.scrolly.size,scrollWidth:i.prop(\"scrollWidth\")+\":\"+c.scrollx.size,visibleHeight:d.height()+\":\"+c.scrolly.visible,visibleWidth:d.width()+\":\"+c.scrollx.visible},!0),e++));r&&e>10?(window.console&&console.log(\"Scroll updates exceed 10\"),a=function(){}):(clearTimeout(l),l=setTimeout(a,300))}}();window.angular&&!function(l){l.module(\"jQueryScrollbar\",[]).provider(\"jQueryScrollbar\",function(){var e=i;return{setOptions:function(o){l.extend(e,o)},$get:function(){return{options:l.copy(e)}}}}).directive(\"jqueryScrollbar\",[\"jQueryScrollbar\",\"$parse\",function(l,e){return{restrict:\"AC\",link:function(o,s,r){var t=e(r.jqueryScrollbar),i=t(o);s.scrollbar(i||l.options).on(\"$destroy\",function(){s.scrollbar(\"destroy\")})}}}])}(window.angular)});","MGS_Mpanel/js/owl.carousel.min.js":"!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this.drag=a.extend({},m),this.state=a.extend({},n),this.e=a.extend({},o),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a[0].toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Pipe,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}function f(a){if(a.touches!==d)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(a.touches===d){if(a.pageX!==d)return{x:a.pageX,y:a.pageY};if(a.pageX===d)return{x:a.clientX,y:a.clientY}}}function g(a){var b,d,e=c.createElement(\"div\"),f=a;for(b in f)if(d=f[b],\"undefined\"!=typeof e.style[d])return e=null,[d,b];return[!1]}function h(){return g([\"transition\",\"WebkitTransition\",\"MozTransition\",\"OTransition\"])[1]}function i(){return g([\"transform\",\"WebkitTransform\",\"MozTransform\",\"OTransform\",\"msTransform\"])[0]}function j(){return g([\"perspective\",\"webkitPerspective\",\"MozPerspective\",\"OPerspective\",\"MsPerspective\"])[0]}function k(){return\"ontouchstart\"in b||!!navigator.msMaxTouchPoints}function l(){return b.navigator.msPointerEnabled}var m,n,o;m={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},n={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},o={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:\"swing\",info:!1,nestedItemSelector:!1,itemElement:\"div\",stageElement:\"div\",themeClass:\"owl-theme\",baseClass:\"owl-carousel\",itemClass:\"owl-item\",centerClass:\"center\",activeClass:\"active\"},e.Width={Default:\"default\",Inner:\"inner\",Outer:\"outer\"},e.Plugins={},e.Pipe=[{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:[\"items\",\"settings\"],run:function(){var a=this._clones,b=this.$stage.children(\".cloned\");(b.length!==a.length||!this.settings.loop&&a.length>0)&&(this.$stage.children(\".cloned\").remove(),this._clones=[])}},{filter:[\"items\",\"settings\"],run:function(){var a,b,c=this._clones,d=this._items,e=this.settings.loop?c.length-Math.max(2*this.settings.items,4):0;for(a=0,b=Math.abs(e/2);b>a;a++)e>0?(this.$stage.children().eq(d.length+c.length-1).remove(),c.pop(),this.$stage.children().eq(0).remove(),c.pop()):(c.push(c.length/2),this.$stage.append(d[c[c.length-1]].clone().addClass(\"cloned\")),c.push(d.length-1-(c.length-1)/2),this.$stage.prepend(d[c[c.length-1]].clone().addClass(\"cloned\")))}},{filter:[\"width\",\"items\",\"settings\"],run:function(){var a,b,c,d=this.settings.rtl?1:-1,e=(this.width()/this.settings.items).toFixed(3),f=0;for(this._coordinates=[],b=0,c=this._clones.length+this._items.length;c>b;b++)a=this._mergers[this.relative(b)],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,f+=(this.settings.autoWidth?this._items[this.relative(b)].width()+this.settings.margin:e*a)*d,this._coordinates.push(f)}},{filter:[\"width\",\"items\",\"settings\"],run:function(){var b,c,d=(this.width()/this.settings.items).toFixed(3),e={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,\"padding-left\":this.settings.stagePadding||\"\",\"padding-right\":this.settings.stagePadding||\"\"};if(this.$stage.css(e),e={width:this.settings.autoWidth?\"auto\":d-this.settings.margin},e[this.settings.rtl?\"margin-left\":\"margin-right\"]=this.settings.margin,!this.settings.autoWidth&&a.grep(this._mergers,function(a){return a>1}).length>0)for(b=0,c=this._coordinates.length;c>b;b++)e.width=Math.abs(this._coordinates[b])-Math.abs(this._coordinates[b-1]||0)-this.settings.margin,this.$stage.children().eq(b).css(e);else this.$stage.children().css(e)}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current&&this.reset(this.$stage.children().index(a.current))}},{filter:[\"position\"],run:function(){this.animate(this.coordinates(this._current))}},{filter:[\"width\",\"position\",\"items\",\"settings\"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;d>c;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,\"<=\",g)&&this.op(a,\">\",h)||this.op(b,\"<\",g)&&this.op(b,\">\",h))&&i.push(c);this.$stage.children(\".\"+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(\":eq(\"+i.join(\"), :eq(\")+\")\").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children(\".\"+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],e.prototype.initialize=function(){if(this.trigger(\"initialize\"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass(\"owl-rtl\",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var b,c,e;if(b=this.$element.find(\"img\"),c=this.settings.nestedItemSelector?\".\"+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&0>=e)return this.preloadAutoWidthImages(b),!1}this.$element.addClass(\"owl-loading\"),this.$stage=a(\"<\"+this.settings.stageElement+' class=\"owl-stage\"/>').wrap('<div class=\"owl-stage-outer\">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass(\"owl-loading\").addClass(\"owl-loaded\"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger(\"initialized\")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){b>=a&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),delete e.responsive,e.responsiveClass&&this.$element.attr(\"class\",function(a,b){return b.replace(/\\b owl-responsive-\\S+/g,\"\")}).addClass(\"owl-responsive-\"+d)):e=a.extend({},this.options),(null===this.settings||this._breakpoint!==d)&&(this.trigger(\"change\",{property:{name:\"settings\",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate(\"settings\"),this.trigger(\"changed\",{property:{name:\"settings\",value:this.settings}}))},e.prototype.optionsLogic=function(){this.$element.toggleClass(\"owl-center\",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger(\"prepare\",{content:b});return c.data||(c.data=a(\"<\"+this.settings.itemElement+\"/>\").addClass(this.settings.itemClass).append(b)),this.trigger(\"prepared\",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};c>b;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={}},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime();this.trigger(\"refresh\"),this.setup(),this.optionsLogic(),this.$stage.addClass(\"owl-refresh\"),this.update(),this.$stage.removeClass(\"owl-refresh\"),this.state.orientation=b.orientation,this.watchVisibility(),this.trigger(\"refreshed\")},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._onResize=a.proxy(function(a){this.onResize(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.trigger(\"resize\").isDefaultPrevented()?!1:(this._width=this.$element.width(),this.invalidate(\"width\"),this.refresh(),void this.trigger(\"resized\")):!1},e.prototype.eventsRouter=function(a){var b=a.type;\"mousedown\"===b||\"touchstart\"===b?this.onDragStart(a):\"mousemove\"===b||\"touchmove\"===b?this.onDragMove(a):\"mouseup\"===b||\"touchend\"===b?this.onDragEnd(a):\"touchcancel\"===b&&this.onDragEnd(a)},e.prototype.internalEvents=function(){var c=(k(),l());this.settings.mouseDrag?(this.$stage.on(\"mousedown\",a.proxy(function(a){this.eventsRouter(a)},this)),this.$stage.on(\"dragstart\",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass(\"owl-text-select-on\"),this.settings.touchDrag&&!c&&this.$stage.on(\"touchstart touchcancel\",a.proxy(function(a){this.eventsRouter(a)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(b,\"resize\",a.proxy(this.onThrottledResize,this))},e.prototype.onDragStart=function(d){var e,g,h,i;if(e=d.originalEvent||d||b.event,3===e.which||this.state.isTouch)return!1;if(\"mousedown\"===e.type&&this.$stage.addClass(\"owl-grab\"),this.trigger(\"drag\"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,g=f(e).x,h=f(e).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)i=this.getTransformProperty(),this.drag.offsetX=i,this.animate(i),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=g-this.drag.offsetX,this.drag.startY=h-this.drag.offsetY,this.drag.start=g-this.drag.startX,this.drag.targetEl=e.target||e.srcElement,this.drag.updatedX=this.drag.start,(\"IMG\"===this.drag.targetEl.tagName||\"A\"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),a(c).on(\"mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents\",a.proxy(function(a){this.eventsRouter(a)},this))},e.prototype.onDragMove=function(a){var c,e,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e=f(c).x,g=f(c).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?\"right\":\"left\":this.drag.distance>0&&(this.state.direction=this.settings.rtl?\"left\":\"right\"),this.settings.loop?this.op(this.drag.currentX,\">\",this.coordinates(this.minimum()))&&\"right\"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,\"<\",this.coordinates(this.maximum()))&&\"left\"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(h=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),j=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},e.prototype.onDragEnd=function(b){var d,e,f;if(this.state.isTouch){if(\"mouseup\"===b.type&&this.$stage.removeClass(\"owl-grab\"),this.trigger(\"dragged\"),this.drag.targetEl.removeAttribute(\"draggable\"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),d=this.drag.endTime-this.drag.startTime,e=Math.abs(this.drag.distance),(e>3||d>300)&&this.removeClick(this.drag.targetEl),f=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(f),this.invalidate(\"position\"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(f)||this.transitionEnd(),this.drag.distance=0,a(c).off(\".owl.dragEvents\")}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on(\"click.preventClick\",this.e._preventClick),b.setTimeout(function(){a(c).off(\"click.preventClick\")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off(\"click.preventClick\")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+\"transform\"),a=a.replace(/matrix(3d)?\\(|\\)/g,\"\").split(\",\"),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(b){var c=-1,d=30,e=this.width(),f=this.coordinates();return this.settings.freeDrag||a.each(f,a.proxy(function(a,g){return b>g-d&&g+d>b?c=a:this.op(b,\"<\",g)&&this.op(b,\">\",f[a+1]||g-e)&&(c=\"left\"===this.state.direction?a+1:a),-1===c},this)),this.settings.loop||(this.op(b,\">\",f[this.minimum()])?c=b=this.minimum():this.op(b,\"<\",f[this.maximum()])&&(c=b=this.maximum())),c},e.prototype.animate=function(b){this.trigger(\"translate\"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:\"translate3d(\"+b+\"px,0px, 0px)\",transition:this.speed()/1e3+\"s\"}):this.state.isTouch?this.$stage.css({left:b+\"px\"}):this.$stage.animate({left:b},this.speed()/1e3,this.settings.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger(\"change\",{property:{name:\"position\",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate(\"position\"),this.trigger(\"changed\",{property:{name:\"position\",value:this._current}})}return this._current},e.prototype.invalidate=function(a){this._invalidated[a]=!0},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress([\"translate\",\"translated\"]),this.animate(this.coordinates(a)),this.release([\"translate\",\"translated\"]))},e.prototype.normalize=function(b,c){var e=c?this._items.length:this._items.length+this._clones.length;return!a.isNumeric(b)||1>e?d:b=this._clones.length?(b%e+e)%e:Math.max(this.minimum(c),Math.min(this.maximum(c),b))},e.prototype.relative=function(a){return a=this.normalize(a),a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=0,f=this.settings;if(a)return this._items.length-1;if(!f.loop&&f.center)b=this._items.length-1;else if(f.loop||f.center)if(f.loop||f.center)b=this._items.length+f.items;else{if(!f.autoWidth&&!f.merge)throw\"Can not detect maximum absolute position.\";for(revert=f.rtl?1:-1,c=this.$stage.width()-this.$element.width();(d=this.coordinates(e))&&!(d*revert>=c);)b=++e}else b=this._items.length-f.items;return b},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c=null;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[b-1]||0))/2*(this.settings.rtl?-1:1)):c=this._coordinates[b-1]||0,c)},e.prototype.duration=function(a,b,c){return Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(c,d){if(this.settings.loop){var e=c-this.relative(this.current()),f=this.current(),g=this.current(),h=this.current()+e,i=0>g-h?!0:!1,j=this._clones.length+this._items.length;h<this.settings.items&&i===!1?(f=g+this._items.length,this.reset(f)):h>=j-this.settings.items&&i===!0&&(f=g-this._items.length,this.reset(f)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.speed(this.duration(this.current(),f+e,d)),this.current(f+e),this.update()},this),30)}else this.speed(this.duration(this.current(),c,d)),this.current(c),this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.transitionEnd=function(a){return a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0))?!1:(this.state.inMotion=!1,void this.trigger(\"translated\"))},e.prototype.viewport=function(){var d;if(this.options.responsiveBaseElement!==b)d=a(this.options.responsiveBaseElement).width();else if(b.innerWidth)d=b.innerWidth;else{if(!c.documentElement||!c.documentElement.clientWidth)throw\"Can not detect viewport width.\";d=c.documentElement.clientWidth}return d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find(\".\"+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find(\"[data-merge]\").andSelf(\"[data-merge]\").attr(\"data-merge\")||1)},this)),this.reset(a.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate(\"items\")},e.prototype.add=function(a,b){b=b===d?this._items.length:this.normalize(b,!0),this.trigger(\"add\",{content:a,position:b}),0===this._items.length||b===this._items.length?(this.$stage.append(a),this._items.push(a),this._mergers.push(1*a.find(\"[data-merge]\").andSelf(\"[data-merge]\").attr(\"data-merge\")||1)):(this._items[b].before(a),this._items.splice(b,0,a),this._mergers.splice(b,0,1*a.find(\"[data-merge]\").andSelf(\"[data-merge]\").attr(\"data-merge\")||1)),this.invalidate(\"items\"),this.trigger(\"added\",{content:a,position:b})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger(\"remove\",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate(\"items\"),this.trigger(\"removed\",{content:null,position:a}))},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(a){a.relatedTarget!==this&&(this.suppress([c]),b.apply(this,[].slice.call(arguments,1)),this.release([c]))},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},a.proxy(function(a,c){this.$element.on(a+\".owl.carousel\",b(c,a+\".owl.carousel\"))},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.$element.get(0))&&(this.$element.removeClass(\"owl-hidden\"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.$element.get(0))||(this.$element.addClass(\"owl-hidden\"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr(\"src\",f.src),e.css(\"opacity\",1),c>=b.length&&(d.state.imagesLoaded=!0,d.initialize())},f.src=e.attr(\"src\")||e.attr(\"data-src\")||e.attr(\"data-src-retina\")})},e.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&a(b).off(\"resize.owl.carousel\"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var d in this._plugins)this._plugins[d].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off(\"mousedown touchstart touchcancel\"),a(c).off(\".owl.dragEvents\"),this.$stage.get(0).onselectstart=function(){},this.$stage.off(\"dragstart\",function(){return!1})),this.$element.off(\".owl\"),this.$stage.children(\".cloned\").remove(),this.e=null,this.$element.removeData(\"owlCarousel\"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case\"<\":return d?a>c:c>a;case\">\":return d?c>a:a>c;case\">=\":return d?c>=a:a>=c;case\"<=\":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent(\"on\"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent(\"on\"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this._items.length,index:this.current()}},f=a.camelCase(a.grep([\"on\",b,d],function(a){return a}).join(\"-\").toLowerCase()),g=a.Event([b,\"owl\",d||\"carousel\"].join(\".\").toLowerCase(),a.extend({relatedTarget:this},e,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.$element.trigger(g),this.settings&&\"function\"==typeof this.settings[f]&&this.settings[f].apply(this,g)),g},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.browserSupport=function(){if(this.support3d=j(),this.support3d){this.transformVendor=i();var a=[\"transitionend\",\"webkitTransitionEnd\",\"transitionend\",\"oTransitionEnd\"];this.transitionEndVendor=a[h()],this.vendorName=this.transformVendor.replace(/Transform/i,\"\"),this.vendorName=\"\"!==this.vendorName?\"-\"+this.vendorName.toLowerCase()+\"-\":\"\"}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data(\"owlCarousel\")||a(this).data(\"owlCarousel\",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){var c=function(b){this._core=b,this._loaded=[],this._handlers={\"initialized.owl.carousel change.owl.carousel\":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&\"position\"==b.property.name||\"initialized\"==b.type))for(var c=this._core.settings,d=c.center&&Math.ceil(c.items/2)||c.items,e=c.center&&-1*d||0,f=(b.property&&b.property.value||this._core.current())+e,g=this._core.clones().length,h=a.proxy(function(a,b){this.load(b)},this);e++<d;)this.load(g/2+this._core.relative(f)),g&&a.each(this._core.clones(this._core.relative(f++)),h)},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this._core.$element.on(this._handlers)};c.Defaults={lazyLoad:!1},c.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(\".owl-lazy\");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr(\"data-src-retina\")||f.attr(\"data-src\");this._core.trigger(\"load\",{element:f,url:g},\"lazy\"),f.is(\"img\")?f.one(\"load.owl.lazy\",a.proxy(function(){f.css(\"opacity\",1),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this)).attr(\"src\",g):(e=new Image,e.onload=a.proxy(function(){f.css({\"background-image\":\"url(\"+g+\")\",opacity:\"1\"}),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},c.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=c}(window.Zepto||window.jQuery,window,document),function(a){var b=function(c){this._core=c,this._handlers={\"initialized.owl.carousel\":a.proxy(function(){this._core.settings.autoHeight&&this.update()},this),\"changed.owl.carousel\":a.proxy(function(a){this._core.settings.autoHeight&&\"position\"==a.property.name&&this.update()},this),\"loaded.owl.lazy\":a.proxy(function(a){this._core.settings.autoHeight&&a.element.closest(\".\"+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this._core.$element.on(this._handlers)};b.Defaults={autoHeight:!1,autoHeightClass:\"owl-height\"},b.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},b.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=b}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this._core=b,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={\"resize.owl.carousel\":a.proxy(function(a){this._core.settings.video&&!this.isInFullScreen()&&a.preventDefault()},this),\"refresh.owl.carousel changed.owl.carousel\":a.proxy(function(){this._playing&&this.stop()},this),\"prepared.owl.carousel\":a.proxy(function(b){var c=a(b.content).find(\".owl-video\");c.length&&(c.css(\"display\",\"none\"),this.fetch(c,a(b.content)))},this)},this._core.options=a.extend({},d.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on(\"click.owl.video\",\".owl-video-play-icon\",a.proxy(function(a){this.play(a)},this))};d.Defaults={video:!1,videoHeight:!1,videoWidth:!1},d.prototype.fetch=function(a,b){var c=a.attr(\"data-vimeo-id\")?\"vimeo\":\"youtube\",d=a.attr(\"data-vimeo-id\")||a.attr(\"data-youtube-id\"),e=a.attr(\"data-width\")||this._core.settings.videoWidth,f=a.attr(\"data-height\")||this._core.settings.videoHeight,g=a.attr(\"href\");if(!g)throw new Error(\"Missing video URL.\");if(d=g.match(/(http:|https:|)\\/\\/(player.|www.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com))\\/(video\\/|embed\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/),d[3].indexOf(\"youtu\")>-1)c=\"youtube\";else{if(!(d[3].indexOf(\"vimeo\")>-1))throw new Error(\"Video URL not supported.\");c=\"vimeo\"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr(\"data-video\",g),this.thumbnail(a,this._videos[g])},d.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style=\"width:'+c.width+\"px;height:\"+c.height+'px;\"':\"\",h=b.find(\"img\"),i=\"src\",j=\"\",k=this._core.settings,l=function(a){e='<div class=\"owl-video-play-icon\"></div>',d=k.lazyLoad?'<div class=\"owl-video-tn '+j+'\" '+i+'=\"'+a+'\"></div>':'<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url('+a+')\"></div>',b.after(d),b.after(e)};return b.wrap('<div class=\"owl-video-wrapper\"'+g+\"></div>\"),this._core.settings.lazyLoad&&(i=\"data-src\",j=\"owl-lazy\"),h.length?(l(h.attr(i)),h.remove(),!1):void(\"youtube\"===c.type?(f=\"http://img.youtube.com/vi/\"+c.id+\"/hqdefault.jpg\",l(f)):\"vimeo\"===c.type&&a.ajax({type:\"GET\",url:\"http://vimeo.com/api/v2/video/\"+c.id+\".json\",jsonp:\"callback\",dataType:\"jsonp\",success:function(a){f=a[0].thumbnail_large,l(f)}}))},d.prototype.stop=function(){this._core.trigger(\"stop\",null,\"video\"),this._playing.find(\".owl-video-frame\").remove(),this._playing.removeClass(\"owl-video-playing\"),this._playing=null},d.prototype.play=function(b){this._core.trigger(\"play\",null,\"video\"),this._playing&&this.stop();var c,d,e=a(b.target||b.srcElement),f=e.closest(\".\"+this._core.settings.itemClass),g=this._videos[f.attr(\"data-video\")],h=g.width||\"100%\",i=g.height||this._core.$stage.height();\"youtube\"===g.type?c='<iframe width=\"'+h+'\" height=\"'+i+'\" src=\"http://www.youtube.com/embed/'+g.id+\"?autoplay=1&v=\"+g.id+'\" frameborder=\"0\" allowfullscreen></iframe>':\"vimeo\"===g.type&&(c='<iframe src=\"http://player.vimeo.com/video/'+g.id+'?autoplay=1\" width=\"'+h+'\" height=\"'+i+'\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),f.addClass(\"owl-video-playing\"),this._playing=f,d=a('<div style=\"height:'+i+\"px; width:\"+h+'px\" class=\"owl-video-frame\">'+c+\"</div>\"),e.after(d)},d.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d).parent().hasClass(\"owl-video-frame\")&&(this._core.speed(0),this._fullscreen=!0),d&&this._fullscreen&&this._playing?!1:this._fullscreen?(this._fullscreen=!1,!1):this._playing&&this._core.state.orientation!==b.orientation?(this._core.state.orientation=b.orientation,!1):!0},d.prototype.destroy=function(){var a,b;this._core.$element.off(\"click.owl.video\");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=d}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={\"change.owl.carousel\":a.proxy(function(a){\"position\"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),\"drag.owl.carousel dragged.owl.carousel translated.owl.carousel\":a.proxy(function(a){this.swapping=\"translated\"==a.type},this),\"translate.owl.carousel\":a.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.css({left:b+\"px\"}).addClass(\"animated owl-animated-out\").addClass(g).one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",c)),f&&e.addClass(\"animated owl-animated-in\").addClass(f).one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",c))}},e.prototype.clear=function(b){a(b.target).css({left:\"\"}).removeClass(\"animated owl-animated-out owl-animated-in\").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this.core=b,this.core.options=a.extend({},d.Defaults,this.core.options),this.handlers={\"translated.owl.carousel refreshed.owl.carousel\":a.proxy(function(){this.autoplay()\r\n},this),\"play.owl.autoplay\":a.proxy(function(a,b,c){this.play(b,c)},this),\"stop.owl.autoplay\":a.proxy(function(){this.stop()},this),\"mouseover.owl.autoplay\":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),\"mouseleave.owl.autoplay\":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};d.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},d.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(b.clearInterval(this.interval),this.interval=b.setInterval(a.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):b.clearInterval(this.interval)},d.prototype.play=function(){return c.hidden===!0||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:this.core.settings.autoplay===!1?void b.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},d.prototype.stop=function(){b.clearInterval(this.interval)},d.prototype.pause=function(){b.clearInterval(this.interval)},d.prototype.destroy=function(){var a,c;b.clearInterval(this.interval);for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=d}(window.Zepto||window.jQuery,window,document),function(a){\"use strict\";var b=function(c){this._core=c,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={\"prepared.owl.carousel\":a.proxy(function(b){this._core.settings.dotsData&&this._templates.push(a(b.content).find(\"[data-dot]\").andSelf(\"[data-dot]\").attr(\"data-dot\"))},this),\"add.owl.carousel\":a.proxy(function(b){this._core.settings.dotsData&&this._templates.splice(b.position,0,a(b.content).find(\"[data-dot]\").andSelf(\"[data-dot]\").attr(\"data-dot\"))},this),\"remove.owl.carousel prepared.owl.carousel\":a.proxy(function(a){this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),\"change.owl.carousel\":a.proxy(function(a){if(\"position\"==a.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var b=this._core.current(),c=this._core.maximum(),d=this._core.minimum();a.data=a.property.value>c?b>=c?d:c:a.property.value<d?c:a.property.value}},this),\"changed.owl.carousel\":a.proxy(function(a){\"position\"==a.property.name&&this.draw()},this),\"refreshed.owl.carousel\":a.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger(\"refresh\",null,\"navigation\"),this.update(),this.draw(),this._core.trigger(\"refreshed\",null,\"navigation\")},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this.$element.on(this._handlers)};b.Defaults={nav:!1,navRewind:!0,navText:[\"prev\",\"next\"],navSpeed:!1,navElement:\"div\",navContainer:!1,navContainerClass:\"owl-nav\",navClass:[\"owl-prev\",\"owl-next\"],slideBy:1,dotClass:\"owl-dot\",dotsClass:\"owl-dots\",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:\"owl-controls\"},b.prototype.initialize=function(){var b,c,d=this._core.settings;d.dotsData||(this._templates=[a(\"<div>\").addClass(d.dotClass).append(a(\"<span>\")).prop(\"outerHTML\")]),d.navContainer&&d.dotsContainer||(this._controls.$container=a(\"<div>\").addClass(d.controlsClass).appendTo(this.$element)),this._controls.$indicators=d.dotsContainer?a(d.dotsContainer):a(\"<div>\").hide().addClass(d.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on(\"click\",\"div\",a.proxy(function(b){var c=a(b.target).parent().is(this._controls.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(c,d.dotsSpeed)},this)),b=d.navContainer?a(d.navContainer):a(\"<div>\").addClass(d.navContainerClass).prependTo(this._controls.$container),this._controls.$next=a(\"<\"+d.navElement+\">\"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(d.navClass[0]).html(d.navText[0]).hide().prependTo(b).on(\"click\",a.proxy(function(){this.prev(d.navSpeed)},this)),this._controls.$next.addClass(d.navClass[1]).html(d.navText[1]).hide().appendTo(b).on(\"click\",a.proxy(function(){this.next(d.navSpeed)},this));for(c in this._overrides)this._core[c]=a.proxy(this[c],this)},b.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},b.prototype.update=function(){var a,b,c,d=this._core.settings,e=this._core.clones().length/2,f=e+this._core.items().length,g=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if(\"page\"!==d.slideBy&&(d.slideBy=Math.min(d.slideBy,d.items)),d.dots||\"page\"==d.slideBy)for(this._pages=[],a=e,b=0,c=0;f>a;a++)(b>=g||0===b)&&(this._pages.push({start:a-e,end:a-e+g-1}),b=0,++c),b+=this._core.mergers(this._core.relative(a))},b.prototype.draw=function(){var b,c,d=\"\",e=this._core.settings,f=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!e.nav||e.loop||e.navRewind||(this._controls.$previous.toggleClass(\"disabled\",0>=f),this._controls.$next.toggleClass(\"disabled\",f>=this._core.maximum())),this._controls.$previous.toggle(e.nav),this._controls.$next.toggle(e.nav),e.dots){if(b=this._pages.length-this._controls.$indicators.children().length,e.dotData&&0!==b){for(c=0;c<this._controls.$indicators.children().length;c++)d+=this._templates[this._core.relative(c)];this._controls.$indicators.html(d)}else b>0?(d=new Array(b+1).join(this._templates[0]),this._controls.$indicators.append(d)):0>b&&this._controls.$indicators.children().slice(b).remove();this._controls.$indicators.find(\".active\").removeClass(\"active\"),this._controls.$indicators.children().eq(a.inArray(this.current(),this._pages)).addClass(\"active\")}this._controls.$indicators.toggle(e.dots)},b.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotData?1:c.dotsEach||c.items)}},b.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,function(a){return a.start<=b&&a.end>=b}).pop()},b.prototype.getPosition=function(b){var c,d,e=this._core.settings;return\"page\"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},b.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},b.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},b.prototype.to=function(b,c,d){var e;d?a.proxy(this._overrides.to,this._core)(b,c):(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c))},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b){\"use strict\";var c=function(d){this._core=d,this._hashes={},this.$element=this._core.$element,this._handlers={\"initialized.owl.carousel\":a.proxy(function(){\"URLHash\"==this._core.settings.startPosition&&a(b).trigger(\"hashchange.owl.navigation\")},this),\"prepared.owl.carousel\":a.proxy(function(b){var c=a(b.content).find(\"[data-hash]\").andSelf(\"[data-hash]\").attr(\"data-hash\");this._hashes[c]=b.content},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on(\"hashchange.owl.navigation\",a.proxy(function(){var a=b.location.hash.substring(1),c=this._core.$stage.children(),d=this._hashes[a]&&c.index(this._hashes[a])||0;return a?void this._core.to(d,!1,!0):!1},this))};c.Defaults={URLhashListener:!1},c.prototype.destroy=function(){var c,d;a(b).off(\"hashchange.owl.navigation\");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))\"function\"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=c}(window.Zepto||window.jQuery,window,document);","MGS_Mpanel/js/timer.js":" /**\r\n * Contus Support Interactive.\r\n *\r\n * NOTICE OF LICENSE\r\n *\r\n * This source file is subject to the EULA\r\n * that is bundled with this package in the file PRICE COUNTDOWN-LICENSE.txt.\r\n *\r\n * =================================================================\r\n *                 MAGENTO EDITION USAGE NOTICE\r\n * =================================================================\r\n * This package designed for Magento 1.4.x and 1.5.x COMMUNITY edition\r\n * Contus Support does not guarantee correct work of this package\r\n * on any other Magento edition except Magento 1.4.x and 1.5.x COMMUNITY edition.\r\n * =================================================================\r\n */\r\n\r\n        if (typeof(BackColor)==\"undefined\")\r\n            BackColor = \"white\";\r\n        if (typeof(ForeColor)==\"undefined\")\r\n            ForeColor= \"black\";\r\n        if (typeof(DisplayFormat)==\"undefined\")\r\n            DisplayFormat = \"<span class='days'>%%D%%</span><span class='hours'>%%H%%</span><span class='mins'>%%M%%</span><span class='secs'>%%S%%</span>\";\r\n        if (typeof(CountActive)==\"undefined\")\r\n            CountActive = true;\r\n        if (typeof(FinishMessage)==\"undefined\")\r\n            FinishMessage = \"\";\r\n        if (typeof(CountStepper)!=\"number\")\r\n            CountStepper = -1;\r\n        if (typeof(LeadingZero)==\"undefined\")\r\n            LeadingZero = true;\r\n        CountStepper = Math.ceil(CountStepper);\r\n        if (CountStepper == 0)\r\n            CountActive = false;\r\n        var SetTimeOutPeriod = (Math.abs(CountStepper)-1)*1000 + 990;\r\n        function calcage(secs, num1, num2) {\r\n            s = ((Math.floor(secs/num1)%num2)).toString();\r\n            if (LeadingZero && s.length < 2)\r\n                s = \"0\" + s;\r\n            return \"<b>\" + s + \"</b>\";\r\n        }\r\n        function CountBack(secs,iid,j) {\r\n            if (secs < 0) {\r\n                document.getElementById(iid).innerHTML = FinishMessage;\r\n                document.getElementById('caption'+j).style.display = \"none\";\r\n                document.getElementById('heading'+j).style.display = \"none\";\r\n                return;\r\n            }\r\n            DisplayStr = DisplayFormat.replace(/%%D%%/g, calcage(secs,86400,100000));\r\n            DisplayStr = DisplayStr.replace(/%%H%%/g, calcage(secs,3600,24));\r\n            DisplayStr = DisplayStr.replace(/%%M%%/g, calcage(secs,60,60));\r\n            DisplayStr = DisplayStr.replace(/%%S%%/g, calcage(secs,1,60));\r\n            document.getElementById(iid).innerHTML = DisplayStr;\r\n            if (CountActive)\r\n                setTimeout(function(){CountBack((secs+CountStepper),iid,j)}, SetTimeOutPeriod);\r\n        }\r\n","MGS_Mpanel/js/waypoints.min.js":"// Generated by CoffeeScript 1.6.2\r\n/*\r\njQuery Waypoints - v2.0.3\r\nCopyright (c) 2011-2013 Caleb Troughton\r\nDual licensed under the MIT license and GPL license.\r\nhttps://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt\r\n*/\r\n(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define===\"function\"&&define.amd){return define(\"waypoints\",[\"jquery\"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,\"ontouchstart\")>=0;s={horizontal:{},vertical:{}};f=1;a={};u=\"waypoints-context-id\";p=\"resize.waypoints\";y=\"scroll.waypoints\";v=1;w=\"waypoints-waypoint-ids\";g=\"waypoint\";m=\"waypoints\";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id=\"context\"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m](\"refresh\");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m](\"refresh\")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m](\"viewportHeight\"):this.$element.height(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i===\"string\"){i=parseFloat(i);if(r.options.offset.indexOf(\"%\")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(\" \"));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset===\"bottom-in-view\"){r.offset=function(){var t;t=n[m](\"viewportHeight\");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?\"horizontal\":\"vertical\";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id=\"waypoints\"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m](\"refresh\");return this},disable:function(){return d._invoke(this,\"disable\")},enable:function(){return d._invoke(this,\"enable\")},destroy:function(){return d._invoke(this,\"destroy\")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t=\"vertical\"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error(\"jQuery Waypoints needs a callback function or handler option.\")}else{return n.error(\"The \"+r+\" method does not exist in jQuery Waypoints.\")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,\"vertical\",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,\"vertical\",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,\"horizontal\",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,\"horizontal\",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke(\"enable\")},disable:function(){return h._invoke(\"disable\")},destroy:function(){return h._invoke(\"destroy\")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m](\"refresh\")})})}).call(this);","MGS_Portfolio/js/isotope.pkgd.min.js":"/*!\n * Isotope PACKAGED v3.0.1\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * http://isotope.metafizzy.co\n * Copyright 2016 Metafizzy\n */\n\n!function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"jquery-bridget/jquery-bridget\",[\"jquery\"],function(i){e(t,i)}):\"object\"==typeof module&&module.exports?module.exports=e(t,require(\"jquery\")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){\"use strict\";function i(i,s,a){function u(t,e,n){var o,s=\"$().\"+i+'(\"'+e+'\")';return t.each(function(t,u){var h=a.data(u,i);if(!h)return void r(i+\" not initialized. Cannot call methods, i.e. \"+s);var d=h[e];if(!d||\"_\"==e.charAt(0))return void r(s+\" is not a valid method\");var l=d.apply(h,n);o=void 0===o?l:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new s(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if(\"string\"==typeof t){var e=o.call(arguments,1);return u(this,t,e)}return h(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,s=t.console,r=\"undefined\"==typeof s?function(){}:function(t){s.error(t)};return n(e||t.jQuery),i}),function(t,e){\"function\"==typeof define&&define.amd?define(\"ev-emitter/ev-emitter\",e):\"object\"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(\"undefined\"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),n+=r?0:1,o=i[n]}return this}},t}),function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"get-size/get-size\",[],function(){return e()}):\"object\"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){\"use strict\";function t(t){var e=parseFloat(t),i=-1==t.indexOf(\"%\")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;h>e;e++){var i=u[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a(\"Style returned \"+e+\". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1\"),e}function o(){if(!d){d=!0;var e=document.createElement(\"div\");e.style.width=\"200px\",e.style.padding=\"1px 2px 3px 4px\",e.style.borderStyle=\"solid\",e.style.borderWidth=\"1px 2px 3px 4px\",e.style.boxSizing=\"border-box\";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s.isBoxSizeOuter=r=200==t(o.width),i.removeChild(e)}}function s(e){if(o(),\"string\"==typeof e&&(e=document.querySelector(e)),e&&\"object\"==typeof e&&e.nodeType){var s=n(e);if(\"none\"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox=\"border-box\"==s.boxSizing,l=0;h>l;l++){var f=u[l],c=s[f],m=parseFloat(c);a[f]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,I=a.borderTopWidth+a.borderBottomWidth,z=d&&r,x=t(s.width);x!==!1&&(a.width=x+(z?0:p+_));var S=t(s.height);return S!==!1&&(a.height=S+(z?0:y+I)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(y+I),a.outerWidth=a.width+g,a.outerHeight=a.height+v,a}}var r,a=\"undefined\"==typeof console?e:function(t){console.error(t)},u=[\"paddingLeft\",\"paddingRight\",\"paddingTop\",\"paddingBottom\",\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\",\"borderLeftWidth\",\"borderRightWidth\",\"borderTopWidth\",\"borderBottomWidth\"],h=u.length,d=!1;return s}),function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"desandro-matches-selector/matches-selector\",e):\"object\"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){\"use strict\";var t=function(){var t=Element.prototype;if(t.matches)return\"matches\";if(t.matchesSelector)return\"matchesSelector\";for(var e=[\"webkit\",\"moz\",\"ms\",\"o\"],i=0;i<e.length;i++){var n=e[i],o=n+\"MatchesSelector\";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){\"function\"==typeof define&&define.amd?define(\"fizzy-ui-utils/utils\",[\"desandro-matches-selector/matches-selector\"],function(i){return e(t,i)}):\"object\"==typeof module&&module.exports?module.exports=e(t,require(\"desandro-matches-selector\")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&\"number\"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return\"string\"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e=\"on\"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+\"Timeout\";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,e),delete s[o]},i||100)}},i.docReady=function(t){var e=document.readyState;\"complete\"==e||\"interactive\"==e?t():document.addEventListener(\"DOMContentLoaded\",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+\"-\"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var s=i.toDashed(o),r=\"data-\"+s,a=document.querySelectorAll(\"[\"+r+\"]\"),u=document.querySelectorAll(\".js-\"+s),h=i.makeArray(a).concat(i.makeArray(u)),d=r+\"-options\",l=t.jQuery;h.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error(\"Error parsing \"+r+\" on \"+t.className+\": \"+a))}var u=new e(t,i);l&&l.data(t,o,u)})})},i}),function(t,e){\"function\"==typeof define&&define.amd?define(\"outlayer/item\",[\"ev-emitter/ev-emitter\",\"get-size/get-size\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"ev-emitter\"),require(\"get-size\")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){\"use strict\";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return\"-\"+t.toLowerCase()})}var s=document.documentElement.style,r=\"string\"==typeof s.transition?\"transition\":\"WebkitTransition\",a=\"string\"==typeof s.transform?\"transform\":\"WebkitTransform\",u={WebkitTransition:\"webkitTransitionEnd\",transition:\"transitionend\"}[r],h={transform:a,transition:r,transitionDuration:r+\"Duration\",transitionProperty:r+\"Property\",transitionDelay:r+\"Delay\"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:\"absolute\"})},d.handleEvent=function(t){var e=\"on\"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=h[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption(\"originLeft\"),i=this.layout._getOption(\"originTop\"),n=t[e?\"left\":\"right\"],o=t[i?\"top\":\"bottom\"],s=this.layout.size,r=-1!=n.indexOf(\"%\")?parseFloat(n)/100*s.width:parseInt(n,10),a=-1!=o.indexOf(\"%\")?parseFloat(o)/100*s.height:parseInt(o,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption(\"originLeft\"),n=this.layout._getOption(\"originTop\"),o=i?\"paddingLeft\":\"paddingRight\",s=i?\"left\":\"right\",r=i?\"right\":\"left\",a=this.position.x+t[o];e[s]=this.getXValue(a),e[r]=\"\";var u=n?\"paddingTop\":\"paddingBottom\",h=n?\"top\":\"bottom\",d=n?\"bottom\":\"top\",l=this.position.y+t[u];e[h]=this.getYValue(l),e[d]=\"\",this.css(e),this.emitEvent(\"layout\",[this])},d.getXValue=function(t){var e=this.layout._getOption(\"horizontal\");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+\"%\":t+\"px\"},d.getYValue=function(t){var e=this.layout._getOption(\"horizontal\");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+\"%\":t+\"px\"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,u=e-n,h={};h.transform=this.getTranslate(a,u),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption(\"originLeft\"),n=this.layout._getOption(\"originTop\");return t=i?t:-t,e=n?e:-e,\"translate3d(\"+t+\"px, \"+e+\"px, 0)\"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l=\"opacity,\"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t=\"number\"==typeof t?t+\"ms\":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var f={\"-webkit-transform\":\"transform\"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]=\"\",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent(\"transitionEnd\",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]=\"\";this.css(e)};var c={transitionProperty:\"\",transitionDuration:\"\",transitionDelay:\"\"};return d.removeTransitionStyles=function(){this.css(c)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+\"ms\"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:\"\"}),this.emitEvent(\"remove\",[this])},d.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once(\"transitionEnd\",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:\"\"});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty(\"visibleStyle\");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent(\"reveal\")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return\"opacity\";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:\"\"});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty(\"hiddenStyle\");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:\"none\"}),this.emitEvent(\"hide\"))},d.destroy=function(){this.css({position:\"\",left:\"\",right:\"\",top:\"\",bottom:\"\",transition:\"\",transform:\"\"})},n}),function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define(\"outlayer/outlayer\",[\"ev-emitter/ev-emitter\",\"get-size/get-size\",\"fizzy-ui-utils/utils\",\"./item\"],function(i,n,o,s){return e(t,i,n,o,s)}):\"object\"==typeof module&&module.exports?module.exports=e(t,require(\"ev-emitter\"),require(\"get-size\"),require(\"fizzy-ui-utils\"),require(\"./item\")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){\"use strict\";function s(t,e){var i=n.getQueryElement(t);if(!i)return void(u&&u.error(\"Bad element for \"+this.constructor.namespace+\": \"+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,f[o]=this,this._create();var s=this._getOption(\"initLayout\");s&&this.layout()}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if(\"number\"==typeof t)return t;var e=t.match(/(^\\d*\\.?\\d*)(\\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=m[n]||1;return i*o}var u=t.console,h=t.jQuery,d=function(){},l=0,f={};s.namespace=\"outlayer\",s.Item=o,s.defaults={containerStyle:{position:\"relative\"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:\"0.4s\",hiddenStyle:{opacity:0,transform:\"scale(0.001)\"},visibleStyle:{opacity:1,transform:\"scale(1)\"}};var c=s.prototype;n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:\"isInitLayout\",horizontal:\"isHorizontal\",layoutInstant:\"isLayoutInstant\",originLeft:\"isOriginLeft\",originTop:\"isOriginTop\",resize:\"isResizeBound\",resizeContainer:\"isResizingContainer\"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption(\"resize\");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var s=e[o],r=new i(s,this);n.push(r)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption(\"layoutInstant\"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,o=this.options[t];o?(\"string\"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems(\"layout\",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},c._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption(\"resizeContainer\");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?\"width\":\"height\"]=t+\"px\"}},c._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+\"Complete\",null,[e])}function n(){r++,r==s&&i()}var o=this,s=e.length;if(!e||!s)return void i();var r=0;e.forEach(function(e){e.once(t,n)})},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),h)if(this.$element=this.$element||h(this.element),e){var o=h.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){return t?(\"string\"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),s={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return s},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener(\"resize\",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener(\"resize\",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(s,\"onresize\",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems(\"reveal\",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems(\"hide\",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems(\"remove\",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height=\"\",t.position=\"\",t.width=\"\",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},s.create=function(t,e){var i=r(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(o),n.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var m={ms:1,s:1e3};return s.Item=o,s}),function(t,e){\"function\"==typeof define&&define.amd?define(\"isotope/js/item\",[\"outlayer/outlayer\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"outlayer\")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){\"use strict\";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData[\"original-order\"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:\"\"})},e}),function(t,e){\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-mode\",[\"get-size/get-size\",\"outlayer/outlayer\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"get-size\"),require(\"outlayer\")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){\"use strict\";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype,o=[\"_resetLayout\",\"_getItemLayoutPosition\",\"_manageStamp\",\"_getContainerSize\",\"_getElementOffset\",\"needsResizeLayout\",\"_getOption\"];return o.forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize(\"column\",\"Width\")},n.getRowHeight=function(){this.getSegmentSize(\"row\",\"Height\")},n.getSegmentSize=function(t,e){var i=t+e,n=\"outer\"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size[\"inner\"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}),function(t,e){\"function\"==typeof define&&define.amd?define(\"masonry/masonry\",[\"outlayer/outlayer\",\"get-size/get-size\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"outlayer\"),require(\"get-size\")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create(\"masonry\");return i.compatOptions.fitWidth=\"isFitWidth\",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement(\"columnWidth\",\"outerWidth\"),this._getMeasurement(\"gutter\",\"outerWidth\"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,s=o/n,r=n-o%n,a=r&&1>r?\"round\":\"floor\";s=Math[a](s),this.cols=Math.max(s,1)},i.prototype.getContainerWidth=function(){var t=this._getOption(\"fitWidth\"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?\"round\":\"ceil\",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),s=Math.min.apply(Math,o),r=o.indexOf(s),a={x:this.columnWidth*r,y:s},u=s+t.size.outerHeight,h=this.cols+1-o.length,d=0;h>d;d++)this.colYs[r+d]=u;return a},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption(\"originLeft\"),s=o?n.left:n.right,r=s+i.outerWidth,a=Math.floor(s/this.columnWidth);a=Math.max(0,a);var u=Math.floor(r/this.columnWidth);u-=r%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var h=this._getOption(\"originTop\"),d=(h?n.top:n.bottom)+i.outerHeight,l=a;u>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption(\"fitWidth\")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-modes/masonry\",[\"../layout-mode\",\"masonry/masonry\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"../layout-mode\"),require(\"masonry-layout\")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){\"use strict\";var i=t.create(\"masonry\"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var s in e.prototype)o[s]||(n[s]=e.prototype[s]);var r=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=n._getOption;return n._getOption=function(t){return\"fitWidth\"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(t,e){\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-modes/fit-rows\",[\"../layout-mode\"],e):\"object\"==typeof exports?module.exports=e(require(\"../layout-mode\")):e(t.Isotope.LayoutMode)}(window,function(t){\"use strict\";var e=t.create(\"fitRows\"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement(\"gutter\",\"outerWidth\")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-modes/vertical\",[\"../layout-mode\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"../layout-mode\")):e(t.Isotope.LayoutMode)}(window,function(t){\"use strict\";var e=t.create(\"vertical\",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){\"function\"==typeof define&&define.amd?define([\"outlayer/outlayer\",\"get-size/get-size\",\"desandro-matches-selector/matches-selector\",\"fizzy-ui-utils/utils\",\"isotope/js/item\",\"isotope/js/layout-mode\",\"isotope/js/layout-modes/masonry\",\"isotope/js/layout-modes/fit-rows\",\"isotope/js/layout-modes/vertical\"],function(i,n,o,s,r,a){return e(t,i,n,o,s,r,a)}):\"object\"==typeof module&&module.exports?module.exports=e(t,require(\"outlayer\"),require(\"get-size\"),require(\"desandro-matches-selector\"),require(\"fizzy-ui-utils\"),require(\"isotope/js/item\"),require(\"isotope/js/layout-mode\"),require(\"isotope/js/layout-modes/masonry\"),require(\"isotope/js/layout-modes/fit-rows\"),require(\"isotope/js/layout-modes/vertical\")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,n,o,s,r){function a(t,e){return function(i,n){for(var o=0;o<t.length;o++){var s=t[o],r=i.sortData[s],a=n.sortData[s];if(r>a||a>r){var u=void 0!==e[s]?e[s]:e,h=u?1:-1;return(r>a?1:-1)*h}}return 0}}var u=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\\s+|\\s+$/g,\"\")},d=e.create(\"isotope\",{layoutMode:\"masonry\",isJQueryFiltering:!0,sortAscending:!0});d.Item=s,d.LayoutMode=r;var l=d.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=[\"original-order\"];for(var t in r.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){return!this._isLayoutInited&&this._getOption(\"initLayout\")?void this.arrange():void this._layout()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption(\"layoutInstant\"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent(\"arrangeComplete\",null,[o.filteredItems])}var e,i,n,o=this;this.once(\"layoutComplete\",function(){e=!0,t()}),this.once(\"hideComplete\",function(){i=!0,t()}),this.once(\"revealComplete\",function(){n=!0,t()})},l._filter=function(t){var e=this.options.filter;e=e||\"*\";for(var i=[],n=[],o=[],s=this._getFilterTest(e),r=0;r<t.length;r++){var a=t[r];if(!a.isIgnored){var u=s(a);u&&i.push(a),u&&a.isHidden?n.push(a):u||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},l._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:\"function\"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},l.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.updateSortData()}};var f=function(){function t(t){if(\"string\"!=typeof t)return t;var i=h(t).split(\" \"),n=i[0],o=n.match(/^\\[(.+)\\]$/),s=o&&o[1],r=e(s,n),a=d.sortDataParsers[i[1]];\nreturn t=a?function(t){return t&&a(r(t))}:function(t){return t&&r(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=a(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error(\"No layout mode: \"+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;o>i;i++)n=e[i],this.element.appendChild(n.element);var s=this._filter(e).matches;for(i=0;o>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;o>i;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var c=l.remove;return l.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);c.call(this,t);for(var i=e&&e.length,n=0;i&&i>n;n++){var s=e[n];o.removeFrom(this.filteredItems,s)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy=\"random\",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d});","MGS_Portfolio/js/jquery-bridget.js":"/**\n * Bridget makes jQuery widgets\n * v2.0.0\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  'use strict';\n  /* globals define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [ 'jquery' ], function( jQuery ) {\n      factory( window, jQuery );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('jquery')\n    );\n  } else {\n    // browser global\n    window.jQueryBridget = factory(\n      window,\n      window.jQuery\n    );\n  }\n\n}( window, function factory( window, jQuery ) {\n'use strict';\n\n// ----- utils ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar console = window.console;\nvar logError = typeof console == 'undefined' ? function() {} :\n  function( message ) {\n    console.error( message );\n  };\n\n// ----- jQueryBridget ----- //\n\nfunction jQueryBridget( namespace, PluginClass, $ ) {\n  $ = $ || jQuery || window.jQuery;\n  if ( !$ ) {\n    return;\n  }\n\n  // add option method -> $().plugin('option', {...})\n  if ( !PluginClass.prototype.option ) {\n    // option setter\n    PluginClass.prototype.option = function( opts ) {\n      // bail out if not an object\n      if ( !$.isPlainObject( opts ) ){\n        return;\n      }\n      this.options = $.extend( true, this.options, opts );\n    };\n  }\n\n  // make jQuery plugin\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n    if ( typeof arg0 == 'string' ) {\n      // method call $().plugin( 'methodName', { options } )\n      // shift arguments by 1\n      var args = arraySlice.call( arguments, 1 );\n      return methodCall( this, arg0, args );\n    }\n    // just $().plugin({ options })\n    plainCall( this, arg0 );\n    return this;\n  };\n\n  // $().plugin('methodName')\n  function methodCall( $elems, methodName, args ) {\n    var returnValue;\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n    $elems.each( function( i, elem ) {\n      // get instance\n      var instance = $.data( elem, namespace );\n      if ( !instance ) {\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n          pluginMethodStr );\n        return;\n      }\n\n      var method = instance[ methodName ];\n      if ( !method || methodName.charAt(0) == '_' ) {\n        logError( pluginMethodStr + ' is not a valid method' );\n        return;\n      }\n\n      // apply method, get return value\n      var value = method.apply( instance, args );\n      // set return value if value is returned, use only first value\n      returnValue = returnValue === undefined ? value : returnValue;\n    });\n\n    return returnValue !== undefined ? returnValue : $elems;\n  }\n\n  function plainCall( $elems, options ) {\n    $elems.each( function( i, elem ) {\n      var instance = $.data( elem, namespace );\n      if ( instance ) {\n        // set options & init\n        instance.option( options );\n        instance._init();\n      } else {\n        // initialize new instance\n        instance = new PluginClass( elem, options );\n        $.data( elem, namespace, instance );\n      }\n    });\n  }\n\n  updateJQuery( $ );\n\n}\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\nfunction updateJQuery( $ ) {\n  if ( !$ || ( $ && $.bridget ) ) {\n    return;\n  }\n  $.bridget = jQueryBridget;\n}\n\nupdateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\nreturn jQueryBridget;\n\n}));\n","MGS_QuickView/js/jquery.magnific-popup.min.js":"/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(\"object\"==typeof exports?require(\"jquery\"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h=\"Close\",i=\"BeforeClose\",j=\"AfterClose\",k=\"BeforeAppend\",l=\"MarkupParse\",m=\"Open\",n=\"Change\",o=\"mfp\",p=\".\"+o,q=\"mfp-ready\",r=\"mfp-removing\",s=\"mfp-prevent-close\",t=function(){},u=!!window.jQuery,v=a(window),w=function(a,c){b.ev.on(o+a+p,c)},x=function(b,c,d,e){var f=document.createElement(\"div\");return f.className=\"mfp-\"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(c,d){b.ev.triggerHandler(o+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},z=function(c){return c===g&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace(\"%title%\",b.st.tClose)),g=c),b.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(b=new t,b.init(),a.magnificPopup.instance=b)},B=function(){var a=document.createElement(\"p\").style,b=[\"ms\",\"O\",\"Moz\",\"Webkit\"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+\"Transition\"in a)return!0;return!1};t.prototype={constructor:t,init:function(){var c=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=B(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document),b.popupsCache={}},open:function(c){var e;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var g,h=c.items;for(e=0;e<h.length;e++)if(g=h[e],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=e;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],f=\"\",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=d,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos=\"auto\"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=x(\"bg\").on(\"click\"+p,function(){b.close()}),b.wrap=x(\"wrap\").attr(\"tabindex\",-1).on(\"click\"+p,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=x(\"container\",b.wrap)),b.contentContainer=x(\"content\"),b.st.preloader&&(b.preloader=x(\"preloader\",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(e=0;e<i.length;e++){var j=i[e];j=j.charAt(0).toUpperCase()+j.slice(1),b[\"init\"+j].call(b)}y(\"BeforeOpen\"),b.st.showCloseBtn&&(b.st.closeBtnInside?(w(l,function(a,b,c,d){c.close_replaceWith=z(d.type)}),f+=\" mfp-close-btn-in\"):b.wrap.append(z())),b.st.alignTop&&(f+=\" mfp-align-top\"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:\"hidden\",overflowY:b.st.overflowY}):b.wrap.css({top:v.scrollTop(),position:\"absolute\"}),(b.st.fixedBgPos===!1||\"auto\"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:\"absolute\"}),b.st.enableEscapeKey&&d.on(\"keyup\"+p,function(a){27===a.keyCode&&b.close()}),v.on(\"resize\"+p,function(){b.updateSize()}),b.st.closeOnContentClick||(f+=\" mfp-auto-cursor\"),f&&b.wrap.addClass(f);var k=b.wH=v.height(),n={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(n.marginRight=o)}b.fixedContentPos&&(b.isIE7?a(\"body, html\").css(\"overflow\",\"hidden\"):n.overflow=\"hidden\");var r=b.st.mainClass;return b.isIE7&&(r+=\" mfp-ie7\"),r&&b._addClassToMFP(r),b.updateItemHTML(),y(\"BuildControls\"),a(\"html\").css(n),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||a(document.body)),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(q),b._setFocus()):b.bgOverlay.addClass(q),d.on(\"focusin\"+p,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),y(m),c},close:function(){b.isOpen&&(y(i),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(r),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y(h);var c=r+\" \"+q+\" \";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+\" \"),b._removeClassFromMFP(c),b.fixedContentPos){var e={marginRight:\"\"};b.isIE7?a(\"body, html\").css(\"overflow\",\"\"):e.overflow=\"\",a(\"html\").css(e)}d.off(\"keyup\"+p+\" focusin\"+p),b.ev.off(p),b.wrap.attr(\"class\",\"mfp-wrap\").removeAttr(\"style\"),b.bgOverlay.attr(\"class\",\"mfp-bg\"),b.container.attr(\"class\",\"mfp-container\"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b.st.autoFocusLast&&b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,y(j)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css(\"height\",d),b.wH=d}else b.wH=a||v.height();b.fixedContentPos||b.wrap.css(\"height\",b.wH),y(\"Resize\")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y(\"BeforeChange\",[b.currItem?b.currItem.type:\"\",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y(\"FirstMarkupParse\",f),f?b.currTemplate[d]=a(f):b.currTemplate[d]=!0}e&&e!==c.type&&b.container.removeClass(\"mfp-\"+e+\"-holder\");var g=b[\"get\"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,y(n,c),e=c.type,b.container.prepend(b.contentContainer),y(\"AfterChange\")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(\".mfp-close\").length||b.content.append(z()):b.content=a:b.content=\"\",y(k),b.container.addClass(\"mfp-\"+c+\"-holder\"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass(\"mfp-\"+f[g])){d=f[g];break}e.src=e.el.attr(\"data-mfp-src\"),e.src||(e.src=e.el.attr(\"href\"))}return e.type=d||b.st.type||\"inline\",e.index=c,e.parsed=!0,b.items[c]=e,y(\"ElementParse\",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e=\"click.magnificPopup\";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(v.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass(\"mfp-s-\"+c),d||\"loading\"!==a||(d=b.st.tLoading);var e={status:a,text:d};y(\"UpdateStatus\",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find(\"a\").on(\"click\",function(a){a.stopImmediatePropagation()}),b.container.addClass(\"mfp-s-\"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(s)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass(\"mfp-close\")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||v.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(l,[b,c,d]),a.each(c,function(c,d){if(void 0===d||d===!1)return!0;if(e=c.split(\"_\"),e.length>1){var f=b.find(p+\"-\"+e[0]);if(f.length>0){var g=e[1];\"replaceWith\"===g?f[0]!==d[0]&&f.replaceWith(d):\"img\"===g?f.is(\"img\")?f.attr(\"src\",d):f.replaceWith(a(\"<img>\").attr(\"src\",d).attr(\"class\",f.attr(\"class\"))):f.attr(e[1],d)}}else b.find(p+\"-\"+c).html(d)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement(\"div\");a.style.cssText=\"width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;\",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return A(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:\"\",preloader:!0,focus:\"\",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:\"auto\",fixedBgPos:\"auto\",overflowY:\"auto\",closeMarkup:'<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',tClose:\"Close (Esc)\",tLoading:\"Loading...\",autoFocusLast:!0}},a.fn.magnificPopup=function(c){A();var d=a(this);if(\"string\"==typeof c)if(\"open\"===c){var e,f=u?d.data(\"magnificPopup\"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?d.data(\"magnificPopup\",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var C,D,E,F=\"inline\",G=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};a.magnificPopup.registerModule(F,{options:{hiddenClass:\"hide\",markup:\"\",tNotFound:\"Content not found\"},proto:{initInline:function(){b.types.push(F),w(h+\".\"+F,function(){G()})},getInline:function(c,d){if(G(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(D||(C=e.hiddenClass,D=x(C),C=\"mfp-\"+C),E=f.after(D).detach().removeClass(C)),b.updateStatus(\"ready\")}else b.updateStatus(\"error\",e.tNotFound),f=a(\"<div>\");return c.inlineElement=f,f}return b.updateStatus(\"ready\"),b._parseMarkup(d,{},c),d}}});var H,I=\"ajax\",J=function(){H&&a(document.body).removeClass(H)},K=function(){J(),b.req&&b.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:\"mfp-ajax-cur\",tError:'<a href=\"%url%\">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(I),H=b.st.ajax.cursor,w(h+\".\"+I,K),w(\"BeforeChange.\"+I,K)},getAjax:function(c){H&&a(document.body).addClass(H),b.updateStatus(\"loading\");var d=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};y(\"ParseAjax\",g),b.appendContent(a(g.data),I),c.finished=!0,J(),b._setFocus(),setTimeout(function(){b.wrap.addClass(q)},16),b.updateStatus(\"ready\"),y(\"AjaxContentAdded\")},error:function(){J(),c.finished=c.loadError=!0,b.updateStatus(\"error\",b.st.ajax.tError.replace(\"%url%\",c.src))}},b.st.ajax.settings);return b.req=a.ajax(d),\"\"}}});var L,M=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||\"\"}return\"\"};a.magnificPopup.registerModule(\"image\",{options:{markup:'<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>',cursor:\"mfp-zoom-out-cur\",titleSrc:\"title\",verticalFit:!0,tError:'<a href=\"%url%\">The image</a> could not be loaded.'},proto:{initImage:function(){var c=b.st.image,d=\".image\";b.types.push(\"image\"),w(m+d,function(){\"image\"===b.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),w(h+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),v.off(\"resize\"+p)}),w(\"Resize\"+d,b.resizeImage),b.isLowIE&&w(\"AfterChange\",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css(\"padding-top\"),10)+parseInt(a.img.css(\"padding-bottom\"),10)),a.img.css(\"max-height\",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y(\"ImageHasSize\",a),a.imgHidden&&(b.content&&b.content.removeClass(\"mfp-loading\"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){L&&clearInterval(L),L=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(L),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(\".mfploader\"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus(\"ready\")),c.hasSize=!0,c.loaded=!0,y(\"ImageLoadComplete\")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(\".mfploader\"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus(\"error\",h.tError.replace(\"%url%\",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(\".mfp-img\");if(i.length){var j=document.createElement(\"img\");j.className=\"mfp-img\",c.el&&c.el.find(\"img\").length&&(j.alt=c.el.find(\"img\").attr(\"alt\")),c.img=a(j).on(\"load.mfploader\",f).on(\"error.mfploader\",g),j.src=c.src,i.is(\"img\")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:M(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(L&&clearInterval(L),c.loadError?(d.addClass(\"mfp-loading\"),b.updateStatus(\"error\",h.tError.replace(\"%url%\",c.src))):(d.removeClass(\"mfp-loading\"),b.updateStatus(\"ready\")),d):(b.updateStatus(\"loading\"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass(\"mfp-loading\"),b.findImageSize(c)),d)}}});var N,O=function(){return void 0===N&&(N=void 0!==document.createElement(\"p\").style.MozTransform),N};a.magnificPopup.registerModule(\"zoom\",{options:{enabled:!1,easing:\"ease-in-out\",duration:300,opener:function(a){return a.is(\"img\")?a:a.find(\"img\")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=\".zoom\";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,j=function(a){var b=a.clone().removeAttr(\"style\").removeAttr(\"class\").addClass(\"mfp-animated-image\"),d=\"all \"+c.duration/1e3+\"s \"+c.easing,e={position:\"fixed\",zIndex:9999,left:0,top:0,\"-webkit-backface-visibility\":\"hidden\"},f=\"transition\";return e[\"-webkit-\"+f]=e[\"-moz-\"+f]=e[\"-o-\"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css(\"visibility\",\"visible\")};w(\"BuildControls\"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css(\"visibility\",\"hidden\"),a=b._getItemToZoom(),!a)return void k();f=j(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,y(\"ZoomAnimationEnded\")},16)},g)},16)}}),w(i+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=j(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css(\"visibility\",\"hidden\"),setTimeout(function(){f.css(b._getOffset())},16)}}),w(h+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return\"image\"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css(\"padding-top\"),10),g=parseInt(d.css(\"padding-bottom\"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(u?d.innerHeight():d[0].offsetHeight)-g-f};return O()?h[\"-moz-transform\"]=h.transform=\"translate(\"+e.left+\"px,\"+e.top+\"px)\":(h.left=e.left,h.top=e.top),h}}});var P=\"iframe\",Q=\"//about:blank\",R=function(a){if(b.currTemplate[P]){var c=b.currTemplate[P].find(\"iframe\");c.length&&(a||(c[0].src=Q),b.isIE8&&c.css(\"display\",a?\"block\":\"none\"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class=\"mfp-iframe-scaler\"><div class=\"mfp-close\"></div><iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe></div>',srcAction:\"iframe_src\",patterns:{youtube:{index:\"youtube.com\",id:\"v=\",src:\"//www.youtube.com/embed/%id%?autoplay=1\"},vimeo:{index:\"vimeo.com/\",id:\"/\",src:\"//player.vimeo.com/video/%id%?autoplay=1\"},gmaps:{index:\"//maps.google.\",src:\"%id%&output=embed\"}}},proto:{initIframe:function(){b.types.push(P),w(\"BeforeChange\",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(h+\".\"+P,function(){R()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e=\"string\"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace(\"%id%\",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus(\"ready\"),d}}});var S=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule(\"gallery\",{options:{enabled:!1,arrowMarkup:'<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:\"Previous (Left arrow key)\",tNext:\"Next (Right arrow key)\",tCounter:\"%curr% of %total%\"},proto:{initGallery:function(){var c=b.st.gallery,e=\".mfp-gallery\";return b.direction=!0,c&&c.enabled?(f+=\" mfp-gallery\",w(m+e,function(){c.navigateByImgClick&&b.wrap.on(\"click\"+e,\".mfp-img\",function(){return b.items.length>1?(b.next(),!1):void 0}),d.on(\"keydown\"+e,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),w(\"UpdateStatus\"+e,function(a,c){c.text&&(c.text=T(c.text,b.currItem.index,b.items.length))}),w(l+e,function(a,d,e,f){var g=b.items.length;e.counter=g>1?T(c.tCounter,f.index,g):\"\"}),w(\"BuildControls\"+e,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,\"left\")).addClass(s),f=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,\"right\")).addClass(s);e.click(function(){b.prev()}),f.click(function(){b.next()}),b.container.append(e.add(f))}}),w(n+e,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void w(h+e,function(){d.off(e),b.wrap.off(\"click\"+e),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=S(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=S(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=S(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),y(\"LazyLoad\",d),\"image\"===d.type&&(d.img=a('<img class=\"mfp-img\" />').on(\"load.mfploader\",function(){d.hasSize=!0}).on(\"error.mfploader\",function(){d.hasSize=!0,d.loadError=!0,y(\"LazyLoadError\",d)}).attr(\"src\",d.src)),d.preloaded=!0}}}});var U=\"retina\";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\\.\\w+$/,function(a){return\"@2x\"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(w(\"ImageHasSize.\"+U,function(a,b){b.img.css({\"max-width\":b.img[0].naturalWidth/c,width:\"100%\"})}),w(\"ElementParse.\"+U,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),A()});","MGS_QuickView/js/mgs_quickview.js":"define([\n    'jquery',\n    'magnificPopup'\n], function ($, magnificPopup) {\n    \"use strict\";\n    return {\n        displayContent: function (prodUrl) {\n            if (!prodUrl.length) {\n                return false;\n            }\n            var url = QUICKVIEW_BASE_URL + 'mgs_quickview/index/updatecart';\n            $.magnificPopup.open({\n                items: {\n                    src: prodUrl\n                },\n                type: 'iframe',\n                removalDelay: 300,\n                mainClass: 'mfp-fade',\n                closeOnBgClick: true,\n                preloader: true,\n                tLoading: '',\n                callbacks: {\n                    open: function () {\n                        $('.mfp-preloader').css('display', 'block');\n                    },\n                    beforeClose: function () {\n                        $('[data-block=\"minicart\"]').trigger('contentLoading');\n                        $.ajax({\n                            url: url,\n                            method: \"POST\"\n                        });\n                    },\n                    close: function () {\n                        $('.mfp-preloader').css('display', 'none');\n                    }\n                }\n            });\n        }\n    };\n});\n"}
}});
